(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{1283:function(a,e,t){"use strict";t.r(e);var n=t(19),r=t(20),o=t(33),i=t(22),s=t(21),l=t(0),c=t.n(l),u=t(28),p=t(123),d=t(9),m=t(58),h=t(27),g=t.n(h),b=t(36),f=t(13),_=t(64),E=t(11),j=t(211),k=t(311),O=t(312),v=t(78),G=function(a,e){var t={};return a.kode_group||(t.kode_group="Kode Group Tidak Boleh Kosong"),a.nama_group||(t.nama_group="Nama Group Tidak Boleh Kosong"),a.harga||(t.harga="Harga Tidak Boleh Kosong"),a.persentase||(t.persentase="Persentase Tidak Boleh Kosong"),t},M=t(210),D=t.n(M),x=t(214),y=Object(x.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"}),S=function(a){Object(i.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={aktif:!1},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var a=this;setTimeout(function(){a.props.isEdit?document.getElementById("nama_group").focus():(a.props.change("jenis_group","MUDA"),document.getElementById("kode_group").focus())},100)}},{key:"render",value:function(){var a=this,e=(Object(E.g)("module")||[]).findIndex(function(a){return"BERLIAN_MODULE"===a.key});return c.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},this.props.isEdit?c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{name:"id",component:v.b,type:"hidden",readOnly:this.props.isEdit})):null,c.a.createElement(k.a,{tabIndex:"1",id:"kode_group",name:"kode_group",component:v.e,type:"text",label:" Kode Group",readOnly:this.props.isEdit,placeholder:"Masukan Kode Group"}),c.a.createElement(k.a,{tabIndex:"2",id:"nama_group",name:"nama_group",component:v.e,type:"text",label:" Nama Group",placeholder:"Masukan Nama Group"}),c.a.createElement(k.a,{tabIndex:"3",id:"jenis_group",name:"jenis_group",component:v.f,options:[{name:"TUA",value:"TUA"},{name:"MUDA",value:"MUDA"}],type:"text",label:"Jenis Group",placeholder:"Pilih Jenis Group"}),c.a.createElement(k.a,Object.assign({tabIndex:"3",name:"harga",component:v.e,type:"text",label:"Harga"},y,{placeholder:"Masukan Harga"})),c.a.createElement(k.a,Object.assign({tabIndex:"3",name:"harga_modal",component:v.e,type:"text",label:"Harga Modal"},y,{placeholder:"Masukan Harga Modal"})),-1===e?null:c.a.createElement(k.a,{tabIndex:"4",name:"is_berlian",component:v.f,options:[{value:"YA",name:"YA"},{value:"TIDAK",name:"TIDAK"}],type:"text",label:"Berlian",placeholder:"Masukan Berlian"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 text-right"},c.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a.props.dispatch(Object(d.lc)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",c.a.createElement("button",{tabIndex:"5",className:this.state.aktif?"btn btn-success":"btn btn-primary",disabled:this.props.submitting,type:"submit"},this.props.isLoading?c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?c.a.createElement(D.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),t}(l.Component);S=Object(O.a)({form:"ModalFormDataGroup",enableReinitialize:!0,validate:G})(S);var N=Object(m.b)(function(a){if(null!==a.datamaster.ShowModalGroup)return{initialValues:{id:a.datamaster.ShowModalGroup.id,kode_group:a.datamaster.ShowModalGroup.kode_group,nama_group:a.datamaster.ShowModalGroup.nama_group,jenis_group:a.datamaster.ShowModalGroup.jenis_group,persentase:a.datamaster.ShowModalGroup.persentase,harga_modal:a.datamaster.ShowModalGroup.harga_modal,harga:a.datamaster.ShowModalGroup.harga,is_berlian:!0===a.datamaster.ShowModalGroup.is_berlian?"YA":"TIDAK"}}},null)(S),w=t(213),L=function(a,e,t){g.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Group "+a+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(a){a.isConfirmed&&Object(f.b)("group/delete/by-kode-group/"+e).then(function(){Object(b.d)("Data Berhasil Di Hapus").then(function(){return t(Object(d.L)())})}).catch(function(a){Object(b.e)("error",a.response.data)})})},I=function(a){Object(i.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"kode_group",text:"Kode Group",sort:!0},{dataField:"nama_group",text:"Nama Group"},{dataField:"jenis_group",text:"Jenis Group"},{dataField:"harga",text:"Harga",headerClasses:"text-right",formatter:function(a){return c.a.createElement("div",{className:"text-right"}," ",void 0===a?0:a.toLocaleString("kr-KO")," ")}},{dataField:"harga_modal",text:"Harga Modal",headerClasses:"text-right",formatter:function(a){return c.a.createElement("div",{className:"text-right"}," ",void 0===a?0:a.toLocaleString("kr-KO")," ")}},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,e){var t={id:e._id,kode_group:e.kode_group,nama_group:e.nama_group,jenis_group:e.jenis_group,persentase:e.persentase.toFixed(1),harga:e.harga,harga_modal:e.harga_modal,is_berlian:e.is_berlian};return c.a.createElement("div",{className:"row text-center"},c.a.createElement("div",{className:"col-12"},c.a.createElement("button",{onClick:function(){return r.formEditDataGroup(t)},className:"btn btn-primary mr-3"},c.a.createElement("i",{className:"fa fa-edit"})),c.a.createElement("button",{onClick:function(){return L(e.kode_group,e._id,r.props.dispatch)},className:"btn btn-danger"},c.a.createElement("i",{className:"fa fa-trash"}))))}}]},r.handleSubmit=r.handleSubmit.bind(Object(o.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(d.L)())}},{key:"handleSubmit",value:function(a){var e=this;this.setState({isLoading:!0});var t={nama_group:a.nama_group,jenis_group:a.jenis_group,harga_modal:parseInt(a.harga_modal)||0,kadar:0,persentase:0,is_berlian:"YA"===a.is_berlian,harga:parseInt(a.harga||0)},n={kode_group:a.kode_group,nama_group:a.nama_group,jenis_group:a.jenis_group,kadar:0,is_berlian:"YA"===a.is_berlian,harga_modal:parseInt(a.harga_modal)||0,harga:parseInt(a.harga||0),persentase:0};this.state.isEdit?Object(f.p)("group/edit/by-kode-group/"+a.id,t).then(function(){e.props.dispatch(Object(d.lc)())}).then(function(){Object(b.e)("success","Data Berhasil Diupdate")}).then(function(){e.props.dispatch(Object(d.L)())}).then(function(){e.setState({isLoading:!1})}).then(function(){e.props.dispatch(Object(_.d)("ModalFormDataGroup"))}).catch(function(a){Object(b.e)("info",void 0===a.response?"Terjadi Kesalahan Saat Megirim Data ":a.response.data),e.setState({isLoading:!1})}):Object(f.j)("group/add",n).then(function(){e.props.dispatch(Object(d.lc)())}).then(function(){Object(b.e)("success","Data Berhasil Disimpan")}).then(function(){e.props.dispatch(Object(d.L)())}).then(function(){e.props.dispatch(Object(_.d)("ModalFormDataGroup"))}).then(function(){e.setState({isLoading:!1})}).catch(function(a){return Object(E.a)(a,"group/reactive/by-kode-group",n,e.props.dispatch,Object(d.L)(),Object(d.lc)(),"ModalFormDataGroup").then(function(){e.setState({isLoading:!1})})})}},{key:"formEditDataGroup",value:function(a){this.props.dispatch(Object(d.nc)()),this.props.dispatch(Object(d.qb)(a)),this.setState({isEdit:!0})}},{key:"ShowModalGroup",value:function(){this.props.dispatch(Object(d.nc)()),this.props.dispatch(Object(d.qb)(!1)),this.setState({isEdit:!1})}},{key:"render",value:function(){var a=this;return c.a.createElement("div",null,c.a.createElement("ol",{className:"breadcrumb float-xl-right"},c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement(u.b,{to:"#"},"Data Master")),c.a.createElement("li",{className:"breadcrumb-item active"},"Master Group")),c.a.createElement("h1",{className:"page-header"},"Master Group "),c.a.createElement(p.a,null,c.a.createElement(p.c,null,"Master Group"),c.a.createElement("br",null),c.a.createElement("div",{className:"container"},c.a.createElement(j.a,{keyField:"kode_group",tambahData:!0,handleClick:function(){return a.ShowModalGroup()},exportCsv:!0,data:this.props.DataGroup,columns:this.state.columns,empty:this.props.DataGroup,textEmpty:"Data Group Kosong"})),c.a.createElement("br",null),c.a.createElement(w.a,{size:"P",title:this.state.isEdit?"Edit Data Data Group":"Tambah Data Data Group",content:c.a.createElement(N,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:function(e){return a.handleSubmit(e)}})})))}}]),t}(c.a.Component);e.default=Object(m.b)(function(a){return{DataGroup:a.datamaster.GetDataGroup,hideModal:a.datamaster.modalDialog}},null)(I)}}]);
//# sourceMappingURL=104.3a34449d.chunk.js.map