{"version":3,"sources":["pages/Laporan/LaporanPenjualan/LaporanPenjualanMarketPlace/index.jsx"],"names":["HeadLaporanPenjualanMkc","lazy","Promise","all","__webpack_require__","e","then","bind","LaporanPenjualanMarketPlace","props","_this","Object","C_Users_Octavian_OneDrive_Documents_GitHub_nagapos_admin_master_repo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_super","call","state","isLoading","LaporanDataPenjualan","export","handleSubmit","C_Users_Octavian_OneDrive_Documents_GitHub_nagapos_admin_master_repo_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","data","JSON","parse","localStoragedecryp","setState","username","user_id","_this2","data_post","tgl_awal","formatDate","moment","Date","format","tgl_akhir","marketplace","kode_group","jenis_group","getDataNoTimeOut","res","length","ToastNotification","localStorageencryp","stringify","databarang","forEach","element","row","no_faktur_jual","tgl_system","kode_sales","kode_member","nama_customer","no_hp","alamat_customer","berat","berat_awal","berat_jual","harga_jual","parseInt","harga_atribut","harga_gram","ongkos","harga_total","kode_barcode","kode_barang","nama_barang","kode_dept","nama_atribut","berat_atribut","kode_gudang","kode_baki","kode_marketplace","push","catch","error","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","_components_panel_panel__WEBPACK_IMPORTED_MODULE_8__","onSubmit","Component"],"mappings":"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","file":"static/js/122.027b8bbb.chunk.js","sourcesContent":["import React, { Component, lazy } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { localStoragedecryp } from \"../../../../components/helpers/function\";\r\nimport {\r\n  Panel,\r\n  PanelBody,\r\n  PanelHeader,\r\n} from \"../../../../components/panel/panel\";\r\nimport { getDataNoTimeOut } from \"../../../../config/axios\";\r\nimport {\r\n  formatDate,\r\n  localStorageencryp,\r\n} from \"../../../../components/helpers/function.jsx\";\r\nimport { ToastNotification } from \"../../../../components/helpers/notification.jsx\";\r\nimport * as moment from \"moment-timezone\";\r\n\r\nconst HeadLaporanPenjualanMkc = lazy(() => import(\"./HeadLaporanPenjualanMkc\"));\r\n\r\nclass LaporanPenjualanMarketPlace extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      LaporanDataPenjualan: [],\r\n      export: false,\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    let data = JSON.parse(localStoragedecryp(\"userdata\"));\r\n    this.setState({ username: data.user_id });\r\n  }\r\n  handleSubmit(data) {\r\n    this.setState({ isLoading: true });\r\n    let data_post = {\r\n      tgl_awal: formatDate(\r\n        moment(new Date(data.tgl_awal)).format(\"YYYY-MM-DD\")\r\n      ),\r\n      tgl_akhir: formatDate(\r\n        moment(new Date(data.tgl_akhir)).format(\"YYYY-MM-DD\")\r\n      ),\r\n      marketplace: data.marketplace,\r\n      kode_group: data.kode_group,\r\n      jenis_group: data.jenis_group,\r\n    };\r\n    getDataNoTimeOut(\r\n      \"penjualan/report-marketplaces?tgl_from=\" +\r\n        data_post.tgl_awal +\r\n        \"&tgl_to=\" +\r\n        data_post.tgl_akhir +\r\n        \"&marketplace=\" +\r\n        data_post.marketplace +\r\n        \"&kode_group=\" +\r\n        data_post.kode_group +\r\n        \"&jenis_group=\" +\r\n        data_post.jenis_group\r\n    )\r\n      .then((res) => {\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n          this.setState({\r\n            isLoading: false,\r\n            export: false,\r\n          });\r\n        } else {\r\n          ToastNotification(\"success\", \"Laporan Transaksi Penjualan Tersedia\");\r\n          localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\r\n          let databarang = [];\r\n          res.data.forEach((element) => {\r\n            let row = {\r\n              no_faktur_jual: element.no_faktur_jual,\r\n              tgl_system: element.tgl_system,\r\n              kode_sales: element.kode_sales,\r\n              kode_member: element.kode_member,\r\n              nama_customer: element.nama_customer,\r\n              no_hp: element.no_hp,\r\n              alamat_customer: element.alamat_customer,\r\n              berat: element.berat,\r\n              berat_awal: element.berat_jual,\r\n              harga_jual:\r\n                parseInt(element.harga_jual) + parseInt(element.harga_atribut),\r\n              harga_gram: element.harga_gram,\r\n              harga_atribut: element.harga_atribut,\r\n              ongkos: element.ongkos,\r\n              harga_total: element.harga_total,\r\n              kode_barcode: element.kode_barcode,\r\n              kode_barang: element.kode_barang,\r\n              nama_barang: element.nama_barang,\r\n              kode_group: element.kode_group,\r\n              kode_dept: element.kode_dept,\r\n              nama_atribut: element.nama_atribut,\r\n              berat_atribut: element.berat_atribut,\r\n              kode_gudang: element.kode_gudang,\r\n              kode_baki: element.kode_baki,\r\n              kode_marketplace: element.kode_marketplace,\r\n            };\r\n            databarang.push(row);\r\n          });\r\n\r\n          this.setState({\r\n            LaporanDataPenjualan: [],\r\n          });\r\n          this.setState({\r\n            export: true,\r\n            isLoading: false,\r\n            LaporanDataPenjualan: databarang,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n        this.setState({\r\n          isLoading: false,\r\n          export: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Laporan</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">\r\n            Laporan Penjualan Marketplace\r\n          </li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Laporan Penjualan Marketplace </h1>\r\n        <Panel>\r\n          <PanelHeader>Laporan Penjualan Marketplace</PanelHeader>\r\n          <PanelBody>\r\n            {/* {console.log(this.state.hidden)} */}\r\n            <HeadLaporanPenjualanMkc\r\n              export={this.state.export}\r\n              isLoading={this.state.isLoading}\r\n              LaporanDataPenjualan={this.state.LaporanDataPenjualan}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n            />\r\n          </PanelBody>\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default LaporanPenjualanMarketPlace;\r\n"],"sourceRoot":""}