(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1282:function(a,e,t){"use strict";t.r(e);var n=t(19),r=t(20),o=t(33),l=t(22),i=t(21),c=t(0),s=t.n(c),d=t(28),m=t(123),u=t(58),b=t(211),g=t(13),p=t(36),h=t(42),k=t(9),f=t(103),_=t.n(f),E=t(160),y=t(218),j=t.n(y),v=t(311),O=t(312),N=t(214),S=t(78),B=t(11),D=t(217),A=t.n(D),C=Object(N.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"}),K=function(a){Object(l.a)(t,a);var e=Object(i.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).tgl_awalChange=function(a){r.setState({tgl_awal:a})},r.tgl_akhirChange=function(a){r.setState({tgl_akhir:a})},r.getValue=function(){var a=Object(E.a)(_.a.mark(function a(e){var t,n;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.target.files[0],a.next=4,Object(B.o)(t);case 4:n=a.sent,r.props.dispatch(Object(h.t)(n)),r.props.change("foto",n),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}(),r.state={visible:!0,ModalWebCam:!1,isLoadingBaki:!1,isLoadingJenis:!1,tgl_awal:new Date,tgl_akhir:new Date,databaki:[],DataGroup:[],DataJenis:[],loadimage:A.a},r}return Object(r.a)(t,[{key:"showModalWebcam",value:function(){this.props.dispatch(Object(h.t)(!1)),this.props.dispatch(Object(k.nc)()),this.setState({ModalWebCam:!0})}},{key:"handleTakePhoto",value:function(){var a=Object(E.a)(_.a.mark(function a(e){var t,n;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=Object(B.c)(e),a.next=4,Object(B.o)(t);case 4:n=a.sent,this.props.dispatch(Object(h.t)(n)),this.props.change("foto",n),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}},a,this,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var a=this;Object(g.d)("group/get/all").then(function(e){a.setState({DataGroup:e.data})}).catch(function(a){})}},{key:"getJenis",value:function(a){var e=this;this.setState({isLoadingJenis:!0}),Object(g.d)("jenis/get/by-kode-kategori/"+a).then(function(a){e.setState({DataJenis:a.data})}).then(function(a){e.setState({isLoadingJenis:!1})}).catch(function(a){Object(p.b)(a.data)})}},{key:"getBaki",value:function(a){var e=this;this.setState({isLoadingBaki:!0}),Object(g.d)("baki/get/by-kode-baki/"+a).then(function(a){e.setState({databaki:""===a.data?[]:[a.data]})}).then(function(a){e.setState({isLoadingBaki:!1})}).catch(function(a){Object(p.b)(a.data),console.log(a)})}},{key:"loadcamera",value:function(){var a=this;return s.a.createElement(j.a,{onTakePhoto:function(e){a.handleTakePhoto(e)}})}},{key:"render",value:function(){var a=this,e=(Object(B.g)("module")||[]).findIndex(function(a){return"BERLIAN_MODULE"===a.key});return s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(v.a,{readOnly:!0,name:"foto",type:"hidden",component:S.b}),s.a.createElement(v.a,{readOnly:!0,name:"kode_barcode",component:S.e,label:"Kode Barcode",placeholder:"Masukan Kode Barcode"})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(v.a,{name:"nama_barang",component:S.e,label:"Nama Barang",placeholder:"Masukan Nama Barang"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-8"},s.a.createElement(v.a,{name:"nama_atribut",component:S.e,label:"Nama Atribut",placeholder:"Masukan Nama Atribut"})),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(v.a,Object.assign({name:"harga_atribut",component:S.e,label:"Harga Atribut"},C,{placeholder:"Masukan Harga Atribut"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(v.a,{name:"kadar",component:S.e,label:"Kadar",placeholder:"Masukan Kadar"})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(v.a,{name:"kadar_cetak",component:S.e,label:"Kadar Cetak",placeholder:"Masukan Kadar Cetak"})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(v.a,{name:"kode_intern",component:S.e,label:"Kode Intern",placeholder:"Masukan Kode Intern"})),s.a.createElement("div",{className:-1===e?"col-lg-6":0===this.props.databarang.data_berlian.length?"col-lg-6":"col-lg-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null," \xa0 "),s.a.createElement("button",{type:"submit",disabled:this.props.isLoading,className:"btn btn-block btn-primary"},this.props.isLoading?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data Barang"))),-1===e?null:s.a.createElement(s.a.Fragment,null,0===this.props.databarang.data_berlian.length?null:s.a.createElement("div",{className:"col-lg-3"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null," \xa0 "),s.a.createElement("button",{type:"button",onClick:function(){return a.props.showBerlian()},className:"btn btn-block btn-success"},"Edit Berlian")))))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},!0===this.state.ModalWebCam&&!1===this.props.setCamera?s.a.createElement("div",{className:"container"},this.loadcamera()):s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{src:void 0===this.props.foto?!1===this.props.setCamera?A.a:this.props.setCamera:this.props.setCamera?this.props.setCamera:this.props.foto,alt:"img",height:"245px",width:"355px"})))),s.a.createElement("div",{className:"row mt-2"},s.a.createElement("div",{className:"col-lg-12 mb-8"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-8"},s.a.createElement("div",{className:"input-group"},s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",name:"photo",autoComplete:"off",className:"custom-file-input",id:"exampleInputFile",onChange:function(e){return a.getValue(e)}}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"exampleInputFile"},"Pilih gambar")))),s.a.createElement("div",{className:"col-4"},s.a.createElement("button",{className:"btn btn-block btn-primary",type:"button",onClick:function(){return a.showModalWebcam()}}," ","WebCam"," ")))))))))}}]),t}(c.Component);K=Object(O.a)({form:"HeadEditDataBarang",enableReinitialize:!0})(K);var w=Object(u.b)(function(a){return{initialValues:{foto:a.databarang.showEditBarang.foto,kode_barcode:a.databarang.showEditBarang.kode_barcode,nama_barang:a.databarang.showEditBarang.nama_barang,nama_atribut:a.databarang.showEditBarang.nama_atribut,harga_atribut:a.databarang.showEditBarang.harga_atribut,kode_intern:a.databarang.showEditBarang.kode_intern,kadar:a.databarang.showEditBarang.kadar,kadar_cetak:a.databarang.showEditBarang.kadar_cetak},databarang:a.databarang.showEditBarang,foto:a.databarang.showEditBarang.foto,setCamera:a.databarang.setCamera,hideModal:a.datamaster.modalDialog}},null)(K),F=t(213),x=t(64),L=t(210),I=t.n(L),T=t(159),J=function(a){Object(l.a)(t,a);var e=Object(i.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={berhasil:!1,columns:[{dataField:"jenis_batu",text:"Jenis Batu"},{dataField:"jml_batu",text:"Jumlah"},{dataField:"karat_batu",text:"Karat Batu"},{dataField:"kode_shape",text:"Shape"},{dataField:"kode_color",text:"Color"},{dataField:"kode_clarity",text:"Clarity"},{dataField:"size",text:"Size"},{dataField:"kode_polish",text:"Polish"},{dataField:"kode_symmetry",text:"Symmetry"},{dataField:"kode_fluorescence",text:"Fluorescence"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,e,t){return s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{type:"button",onClick:function(){return r.hapusData(e)},className:"btn btn-primary mr-3"},s.a.createElement("i",{className:"fa fa-edit"}))))}}]},r}return Object(r.a)(t,[{key:"hapusData",value:function(a){this.props.change("jenis_batu",a.jenis_batu),this.props.change("jumlah",a.jml_batu),this.props.change("karat_batu",a.karat_batu),this.props.change("cute_grade",a.kode_cutgrade),this.props.change("shape",a.kode_shape),this.props.change("polish",a.kode_polish),this.props.change("color",a.kode_color),this.props.change("symmetry",a.kode_symmetry),this.props.change("size",a.size),this.props.change("clarity",a.kode_clarity),this.props.change("fluorescence",a.kode_fluorescence),this.props.change("id",a._id)}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(k.ac)()),this.props.dispatch(Object(k.Jb)()),this.props.dispatch(Object(k.Xb)()),this.props.dispatch(Object(k.Ub)()),this.props.dispatch(Object(k.Eb)()),this.props.dispatch(Object(k.Yb)()),this.props.dispatch(Object(k.Ib)()),this.props.dispatch(Object(k.Kb)())}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()}},s.a.createElement("div",{className:"row"},s.a.createElement(v.a,{name:"id",component:S.b,label:"id",type:"hidden"}),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"jenis_batu",component:S.f,options:this.props.getJenisBatu.map(function(a){return{name:a.jenis_batu,value:a.jenis_batu}}),label:"Jenis Batu",placeholder:"SILAHKAN PILIH JENIS BATU"})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"jumlah",component:S.e,label:"Jumlah",placeholder:"MASUKAN JUMLAH",normalize:T.c})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"karat_batu",component:S.e,label:"Karat Batu",placeholder:"MASUKAN KARAT BATU",normalize:T.a})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"size",component:S.e,label:"Size",placeholder:"MASUKAN SIZE",normalize:T.c})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"cute_grade",component:S.f,options:this.props.getDataCutgrad.map(function(a){return{value:a.kode_cutgrade,name:a.kode_cutgrade}}),label:"Cut Grade",placeholder:"SILAHKAN PILIH CUT GRADE"})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"shape",component:S.f,options:this.props.getDataShape.map(function(a){return{value:a.kode_shape,name:a.kode_shape}}),label:"Shape",placeholder:"SILAHKAN PILIH SHAPE"})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"polish",component:S.f,options:this.props.getDataPolish.map(function(a){return{value:a.kode_polish,name:a.kode_polish}}),label:"Polish",placeholder:"SILAHKAN PILIH POLISH"})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"color",component:S.f,options:this.props.getBatuColor.map(function(a){return{value:a.kode_color,name:a.kode_color}}),label:"Color",placeholder:"SILAHKAN PILIH COLOR"})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"symmetry",component:S.f,options:this.props.getDataSymetry.map(function(a){return{value:a.kode_symmetry,name:a.kode_symmetry}}),label:"Symmetry",placeholder:"SILAHKAN PILIH SYMMETRY"})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"clarity",component:S.f,options:this.props.getDataClarity.map(function(a){return{value:a.kode_clarity,name:a.kode_clarity}}),label:"Clarity",placeholder:"SILAHKAN PILIH CLARITY"})),s.a.createElement("div",{className:"col-3"},s.a.createElement(v.a,{name:"fluorescence",component:S.f,options:this.props.getDataFluorencence.map(function(a){return{value:a.kode_fluorescence,name:a.kode_fluorescence}}),label:"Flourescence",placeholder:"SILAHKAN PILIH FLOURESCENCE"})),s.a.createElement("div",{className:"col-3"},s.a.createElement("button",{disabled:this.props.loadingbatu,type:"submit",className:"btn btn-primary btn-block mt-4"},this.props.loadingbatu?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Edit Data"):"Edit Data")),s.a.createElement("div",{className:"col-12"},s.a.createElement(b.a,{keyField:"kode_barcode",data:Object(B.g)("data_batu"),columns:this.state.columns,empty:!0,exportCsv:!1}))))}}]),t}(c.Component);J=Object(O.a)({form:"EditDataBerlian",enableReinitialize:!0})(J);var M=Object(u.b)(function(a){return{getJenisBatu:a.datamaster.getJenisBatu,getDataCutgrad:a.datamaster.getDataCutgrad,getDataShape:a.datamaster.getDataShape,getDataPolish:a.datamaster.getDataPolish,getDataFluorencence:a.datamaster.getDataFluorencence,getDataSymetry:a.datamaster.getDataSymetry,getDataClarity:a.datamaster.getDataClarity,getBatuColor:a.datamaster.getBatuColor}})(J),H=Object(c.lazy)(function(){return t.e(85).then(t.bind(null,1237))}),P=(Object(B.g)("module")||[]).findIndex(function(a){return"BERLIAN_MODULE"===a.key}),z=function(a){Object(l.a)(t,a);var e=Object(i.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={isEdit:!1,modalDialog:!1,isLoadingDataBarang:!1,setfocus:!1,formEdit:!1,loadingData:!1,loadingbatu:!1,databarang:[],formModal:!0},r.handleSubmit=r.handleSubmit.bind(Object(o.a)(r)),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){Object(B.p)("data_batu",[])}},{key:"getBarangKodeBaki",value:function(a){var e=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout(function(){if(Object(B.m)("databarangall",JSON.stringify([])),e.setState({loadingData:!0}),""===a)return e.setState({loadingData:!1,databarang:[]}),!1;Object(g.d)("barang/get/by-kode-baki?limit=1000&kode_baki="+a).then(function(a){0===a.data.length?(e.setState({databarang:[]}),Object(B.m)("databarangall",JSON.stringify([])),Object(p.e)("info","Kode Baki Yang Dicari Tidak Ada")):(e.setState({databarang:a.data}),Object(B.m)("databarangall",JSON.stringify(a.data))),e.setState({loadingData:!1})}).catch(function(a){e.setState({loadingData:!1,databarang:[]}),Object(g.a)(a.message)&&(e.setState({loadingData:!1,databarang:[]}),Object(B.m)("databarangall",JSON.stringify([])),Object(p.e)("info","Kode Baki Yang Dicari Tidak Ada"))})},1500)}},{key:"showEditBarang",value:function(a){var e=this;this.setState({isLoadingDataBarang:!0}),this.props.dispatch(Object(h.b)("FormEditBarang")),Object(g.i)("foto_produk/"+a.kode_barcode).then(function(t){var n={foto:t,kode_barcode:a.kode_barcode,nama_barang:a.nama_barang,nama_atribut:a.nama_atribut,harga_atribut:a.harga_atribut,kode_intern:a.kode_intern,kadar:a.kadar,kadar_cetak:a.kadar_cetak,data_berlian:a.data_berlian,form:"EDIT_BARANG"};if(-1!==P){var r=[];a.data_berlian.forEach(function(a){var e={jenis_batu:a.jenis_batu||"-",jml_batu:a.jml_batu||0,karat_batu:a.karat_batu||0,kode_shape:a.kode_shape||"-",kode_color:a.kode_color||"-",kode_clarity:a.kode_clarity||"-",kode_cutgrade:a.kode_cutgrade||"-",kode_polish:a.kode_polish||"-",kode_symmetry:a.kode_symmetry||"-",kode_fluorescence:a.kode_fluorescence||"-",size:a.size||0};r.push(e)}),Object(B.p)("data_batu",r)}e.setState({isLoadingDataBarang:!1}),e.props.dispatch(Object(h.v)(n)),setTimeout(function(){e.props.dispatch(Object(k.nc)())},500)}).catch(function(t){var n={kode_barcode:a.kode_barcode,nama_barang:a.nama_barang,nama_atribut:a.nama_atribut,harga_atribut:a.harga_atribut,kode_intern:a.kode_intern,kadar:a.kadar,kadar_cetak:a.kadar_cetak,data_berlian:a.data_berlian,form:"EDIT_BARANG"};if(-1!==P){var r=[];a.data_berlian.forEach(function(a){var e={jenis_batu:a.jenis_batu||"-",jml_batu:a.jml_batu||0,karat_batu:a.karat_batu||0,kode_shape:a.kode_shape||"-",kode_color:a.kode_color||"-",kode_clarity:a.kode_clarity||"-",kode_cutgrade:a.kode_cutgrade||"-",kode_polish:a.kode_polish||"-",kode_symmetry:a.kode_symmetry||"-",kode_fluorescence:a.kode_fluorescence||"-",size:a.size||0};r.push(e)}),Object(B.p)("data_batu",r)}e.props.dispatch(Object(h.v)(n)),setTimeout(function(){e.props.dispatch(Object(k.nc)())},500),e.setState({isLoadingDataBarang:!1})})}},{key:"getKodeBarcode",value:function(a){var e=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout(function(){if(Object(B.m)("databarangall",JSON.stringify([])),e.setState({loadingData:!0}),""===a)return e.setState({loadingData:!1,databarang:[]}),!1;Object(g.d)("barang/open/kode-barcode?limit=1000&kode_barcode="+a).then(function(a){0===a.data.length?(e.setState({databarang:[]}),Object(B.m)("databarangall",JSON.stringify([])),Object(p.e)("info","Kode Barcode Yang Dicari Tidak Ada")):(e.setState({databarang:a.data}),Object(B.m)("databarangall",JSON.stringify(a.data))),e.setState({loadingData:!1})}).catch(function(a){e.setState({loadingData:!1,databarang:[]}),Object(g.a)(a.message)&&(e.setState({loadingData:!1,databarang:[]}),Object(B.m)("databarangall",JSON.stringify([])),Object(p.e)("info","Kode Barcode Yang Dicari Tidak Ada"))})},1500)}},{key:"getNamaBarang",value:function(a){var e=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout(function(){if(Object(B.m)("databarangall",JSON.stringify([])),e.setState({loadingData:!0}),""===a)return e.setState({loadingData:!1,databarang:[]}),!1;Object(g.d)("barang/get/by-nama-barang?limit=1000&nama_barang="+a).then(function(a){0===a.data.length?(e.setState({databarang:[]}),Object(B.m)("databarangall",JSON.stringify([])),Object(p.e)("info","Nama Barang Yang Dicari Tidak Ada")):(e.setState({databarang:a.data}),Object(B.m)("databarangall",JSON.stringify(a.data))),e.setState({loadingData:!1})}).catch(function(a){e.setState({loadingData:!1,databarang:[]}),Object(g.a)(a.message)&&(e.setState({loadingData:!1,databarang:[]}),Object(B.m)("databarangall",JSON.stringify([])),Object(p.e)("info","Nama Barang Yang Dicari Tidak Ada"))})},1500)}},{key:"getByKodeGroup",value:function(a){var e=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout(function(){if(Object(B.m)("databarangall",JSON.stringify([])),e.setState({loadingData:!0}),""===a)return e.setState({loadingData:!1,databarang:[]}),!1;Object(g.d)("barang/get/by-kode-group?limit=1000&kode_group="+a).then(function(a){0===a.data.length?(e.setState({databarang:[]}),Object(B.m)("databarangall",JSON.stringify([])),Object(p.e)("info","Kode Group Yang Dicari Tidak Ada")):(e.setState({databarang:a.data}),Object(B.m)("databarangall",JSON.stringify(a.data))),e.setState({loadingData:!1})}).catch(function(a){e.setState({loadingData:!1,databarang:[]}),Object(g.a)(a.message)&&(e.setState({loadingData:!1,databarang:[]}),Object(B.m)("databarangall",JSON.stringify([])),Object(p.e)("info","Kode Group Yang Dicari Tidak Ada"))})},1500)}},{key:"handleSubmit",value:function(a){var e=this;this.setState({isLoading:!0});var t=Object(B.g)("data_batu")||[],n=[];t.forEach(function(a){var e={jenis_batu:a.jenis_batu,jml_batu:a.jml_batu,karat_batu:a.karat_batu,kode_clarity:a.kode_clarity,kode_color:a.kode_color,kode_cutgrade:a.kode_cutgrade,kode_fluorescence:a.kode_fluorescence,kode_polish:a.kode_polish,kode_shape:a.kode_shape,kode_symmetry:a.kode_symmetry,size:a.size};n.push(e)});var r={nama_barang:a.nama_barang,nama_atribut:a.nama_atribut||"-",harga_atribut:a.harga_atribut||0,kode_intern:a.kode_intern,kadar:a.kadar,kadar_cetak:a.kadar_cetak,data_berlian:n},o=void 0!==a.foto?Object(B.c)(a.foto):void 0;Object(g.j)("barang/edit/"+a.kode_barcode,r).then(function(){e.props.dispatch(Object(k.mc)(!0)),e.props.dispatch(Object(k.lc)())}).then(function(){void 0!==o&&Object(g.o)(o,"foto_produk/"+a.kode_barcode).then(function(a){}).catch(function(a){Object(p.e)("info","upload Foto Gagal, Silahkan Edit Didata Barang")})}).then(function(){e.setState({databarang:[]}),e.props.dispatch(Object(x.d)("HeadEditDataBarang")),e.props.dispatch(Object(h.t)(!1))}).then(function(){Object(p.e)("success","Data Berhasil Disimpan"),Object(B.p)("data_batu",[])}).then(function(){e.setState({isLoading:!1})}).catch(function(a){e.setState({isLoading:!1}),Object(p.e)("info","Barang Gagal Di Edit")})}},{key:"showBerlian",value:function(){this.props.dispatch(Object(h.b)("FormEditBerlian")),this.props.dispatch(Object(k.nc)())}},{key:"simpanDataBatu",value:function(a){this.setState({loadingbatu:!0});var e=Object(B.g)("data_batu"),t=e.findIndex(function(e){return e._id===a.id});if(t>=0){var n={_id:a.id,jenis_batu:a.jenis_batu,jml_batu:a.jumlah,karat_batu:a.karat_batu,kode_clarity:a.clarity,kode_color:a.color,kode_cutgrade:a.cute_grade,kode_fluorescence:a.fluorescence,kode_polish:a.polish,kode_shape:a.shape,kode_symmetry:a.symmetry,size:a.size};e[t]=n,Object(B.p)("data_batu",e),this.setState({loadingbatu:!1})}else this.setState({loadingbatu:!1})}},{key:"render",value:function(){var a=this,e=[{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"kode_group",text:"Kode Group"},{dataField:"kode_toko",text:"Kode Baki"},{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"berat",text:"Berat"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(e,t){return s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{type:"button",onClick:function(){return a.showEditBarang(t)},className:"btn btn-primary mr-3"},s.a.createElement("i",{className:"fa fa-edit"}))))}}],t={renderer:function(a){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},"Nama Atribut : ",a.nama_atribut," ",s.a.createElement("br",null),"Betat Atribut : ",a.berat_atribut," ",s.a.createElement("br",null),"Harga Atribut : ",a.harga_atribut," ",s.a.createElement("br",null),"Kode Intern : ",a.kode_intern," ",s.a.createElement("br",null),"Kadar : ",a.kadar," ",s.a.createElement("br",null),"Kadar Cetak : ",a.kadar_cetak," ",s.a.createElement("br",null),"Kode Toko : ",a.kode_toko," ",s.a.createElement("br",null),"Kode Gudang : ",a.kode_gudang," ",s.a.createElement("br",null),"Stock : ",a.stock_on_hand," ",s.a.createElement("br",null)),s.a.createElement("div",{className:"col-6"},-1===P?null:s.a.createElement(s.a.Fragment,null,0!==a.data_berlian.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"Data Berlian"),s.a.createElement("table",{className:"table table-striped"},s.a.createElement("tr",null,s.a.createElement("td",null,"No"),s.a.createElement("td",null,"Jenis Batu"),s.a.createElement("td",null,"Jumlah")),a.data_berlian.map(function(a,e){return s.a.createElement("tr",{key:e+1},s.a.createElement("td",null," ",e+1," "),s.a.createElement("td",null," ",a.jenis_batu," "),s.a.createElement("td",null," ",a.jml_batu," "))}))):null))))},showExpandColumn:!0,expandByColumnOnly:!0};return s.a.createElement("div",null,s.a.createElement("ol",{className:"breadcrumb float-xl-right"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(d.b,{to:"#"},"Barang")),s.a.createElement("li",{className:"breadcrumb-item active"},"Data Barang")),s.a.createElement("h1",{className:"page-header"},"Data Barang "),s.a.createElement(m.a,null,s.a.createElement(m.c,null,"Filter Pencarian Barang"),s.a.createElement("br",null),s.a.createElement(m.b,null,s.a.createElement(H,{getKodeBarcode:function(e){return a.getKodeBarcode(e)},getNamaBarang:function(e){return a.getNamaBarang(e)},getByKodeGroup:function(e){return a.getByKodeGroup(e)},getBarangKodeBaki:function(e){return a.getBarangKodeBaki(e)}}))),s.a.createElement(m.a,null,s.a.createElement(m.c,null,this.state.loadingData?s.a.createElement(s.a.Fragment,null," ",s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari Data Barang"," "):"Data Barang"),s.a.createElement("br",null),s.a.createElement(m.b,null,s.a.createElement(b.a,{keyField:"kode_barang",exportCsv:!0,data:this.state.databarang,columns:e,empty:!0,textEmpty:this.state.loadingData?s.a.createElement(s.a.Fragment,null," ",s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari Data Barang"):"Data Barang Kosong",expandRow:t})),s.a.createElement("br",null),s.a.createElement(F.a,{title:"FormEditBarang"===this.props.formModal?"Edit Barang":"Edit Data Berlian",form:"FormEditBerlian"===this.props.formModal?"FormEditBerlian":"",content:"FormEditBarang"===this.props.formModal?s.a.createElement(w,{isLoading:this.state.isLoading,showBerlian:function(){return a.showBerlian()},onSubmit:function(e){return a.handleSubmit(e)}}):s.a.createElement(M,{loadingbatu:this.state.loadingbatu,onSubmit:function(e){return a.simpanDataBatu(e)}})})),this.state.loadingData||this.state.isLoadingDataBarang?s.a.createElement(I.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),t}(s.a.Component);e.default=Object(u.b)(function(a){return{formModal:a.datamaster.FormModal,showEditBarang:a.databarang.showEditBarang,hideModal:a.datamaster.modalDialog}},null)(z)}}]);
//# sourceMappingURL=84.5074626a.chunk.js.map