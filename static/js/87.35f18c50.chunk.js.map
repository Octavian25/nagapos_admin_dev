{"version":3,"sources":["Validasi/Barang/PindahBarangSatuBaki/ValidasiPindahBarangBaki.jsx","pages/Barang/PindahBarangSatuBaki/HeadPindahBarangSatuBaki.jsx","pages/Barang/PindahBarangSatuBaki/FormPindahBarangSatuBaki.jsx"],"names":["ValidasiPindahBarangBaki","value","errors","baki_asal","baki_tujuan","gudang_asal","gudang_tujuan","HeadPindahBarangSatuBaki","props","_this","Object","classCallCheck","this","_super","call","state","date","Date","isLoadingBaki","isLoadingBatal","bakigudangtujuan","loadingpencarian","_this2","dispatch","getDataGudang","getDataBaki","setTimeout","setState","change","_this3","getData","then","res","data","length","ToastNotification","localStorage","setItem","JSON","stringify","setBarangPindahSatuBaki","catch","err","errorHandling","_this4","_this5","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","onKeyPress","e","key","preventDefault","className","Field","label","name","onChange","options","datagudang","filter","list","undefined","kode_gudang","map","nama_gudang","placeholder","component","ReanderSelect","databaki","kode_baki","nama_baki","field","disabled","submitting","onClick","filterLaporan","type","Fragment","tabel","keyField","exportCsv","parse","getItem","columns","empty","pagination","textEmpty","isLoading","batalHancur","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","validate","connect","datamaster","databarang","FormPindahBarangSatuBaki","isEdit","modalDialog","dataField","text","footerAttrs","colSpan","footer","cell","row","num","index","formatter","toFixed","columnData","reduce","acc","item","bind","assertThisInitialized","id","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","result","isConfirmed","splice","hasil","kode_toko","kode_gudang_asal","kode_toko_asal","postDataNoTImeOut","reset","error","errorhandling","test","response","react_router_dom","to","panel","PindahBarangSatuBaki_HeadPindahBarangSatuBaki","React"],"mappings":"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","file":"static/js/87.35f18c50.chunk.js","sourcesContent":["const ValidasiPindahBarangBaki = (value) => {\r\n    const errors = {};\r\n    if (!value.baki_asal) {\r\n        errors.baki_asal = \"Baki Asal Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.baki_tujuan) {\r\n        errors.baki_tujuan = \"Baki Tujuan Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.gudang_asal) {\r\n        errors.gudang_asal = \"Gudang Asal Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.gudang_tujuan) {\r\n        errors.gudang_tujuan = \"Gudang Tujuan Tidak Boleh Kosong\";\r\n    }\r\n\r\n    return errors;\r\n}\r\nexport default ValidasiPindahBarangBaki;\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { setBarangPindahSatuBaki } from \"../../../actions/databarang_action\";\r\nimport { getDataBaki, getDataGudang } from \"../../../actions/datamaster_action\";\r\nimport {\r\n  ReanderSelect,\r\n  SkeletonLoading,\r\n} from \"../../../components/helpers/field\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport { getData } from \"../../../config/axios\";\r\nimport ValidasiPindahBarangBaki from \"../../../Validasi/Barang/PindahBarangSatuBaki/ValidasiPindahBarangBaki\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    datagudang: state.datamaster.getDataGudang,\r\n    databaki: state.datamaster.getDataBaki,\r\n    setBarangPindahSatuBaki: state.databarang.setBarangPindahSatuBaki,\r\n  };\r\n};\r\nclass HeadPindahBarangSatuBaki extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: new Date(),\r\n      isLoadingBaki: false,\r\n      isLoadingBatal: false,\r\n      bakigudangtujuan: false,\r\n      loadingpencarian: false,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataGudang());\r\n    this.props.dispatch(getDataBaki());\r\n    setTimeout(() => {\r\n      // document.getElementById('kode_gudang').p\r\n      this.setState({ gudang_asal: 'TOKO' });\r\n      this.props.change('gudang_asal','TOKO')\r\n    }, 100);\r\n  }\r\n\r\n  filterLaporan() {\r\n    this.setState({ loadingpencarian: true });\r\n    this.setState({ bakigudangtujuan: true });\r\n    getData(\"barang/get/by-kode-baki?kode_baki=\" + this.state.baki_asal)\r\n      .then((res) => {\r\n        if (res.data.length === 0) {\r\n          this.setState({ loadingpencarian: false, bakigudangtujuan: false });\r\n          ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n          localStorage.setItem(\"data_barang_satu_baki_tmp\", JSON.stringify([]));\r\n          this.props.dispatch(setBarangPindahSatuBaki([]));\r\n          // return false\r\n        } else {\r\n          localStorage.setItem(\"data_barang_satu_baki_tmp\", JSON.stringify([]));\r\n          localStorage.setItem(\r\n            \"data_barang_satu_baki_tmp\",\r\n            JSON.stringify(res.data)\r\n          );\r\n          this.props.dispatch(setBarangPindahSatuBaki(res.data));\r\n          this.setState({ loadingpencarian: false });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ bakigudangtujuan: false });\r\n        this.errorHandling(err);\r\n      });\r\n  }\r\n\r\n  errorHandling(err) {\r\n    this.setState({ loadingpencarian: false, bakigudangtujuan: false });\r\n    ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n    localStorage.setItem(\"data_barang_satu_baki_tmp\", JSON.stringify([]));\r\n    this.props.dispatch(setBarangPindahSatuBaki([]));\r\n  }\r\n  batalHancur() {\r\n    this.setState({ isLoadingBatal: true })\r\n    setTimeout(() => {\r\n      this.props.dispatch(setBarangPindahSatuBaki([]));\r\n      localStorage.setItem('data_barang_satu_baki_tmp', JSON.stringify([]))\r\n      this.setState({ isLoadingBatal: false })\r\n    }, 500);\r\n  }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\r\n      onKeyPress={(e) => {\r\n        e.key === \"Enter\" && e.preventDefault();\r\n      }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              label=\"Gudang Asal\"\r\n              name=\"gudang_asal\"\r\n              onChange={(e) => {\r\n                this.setState({\r\n                  gudang_asal: e,\r\n                  bakigudangtujuan: false,\r\n                });\r\n                this.props.change(\"baki_asal\", \"\");\r\n                this.props.dispatch(setBarangPindahSatuBaki([]));\r\n                localStorage.setItem(\r\n                  \"data_barang_satu_baki_tmp\",\r\n                  JSON.stringify([])\r\n                );\r\n              }}\r\n              options={this.props.datagudang\r\n                .filter((list) => list.kode_gudang !== undefined)\r\n                .map((list) => {\r\n                  let data = {\r\n                    value: list.kode_gudang,\r\n                    name: list.kode_gudang + \" - \" + list.nama_gudang,\r\n                  };\r\n                  return data;\r\n                })}\r\n              placeholder={\"Silahkan Pilih Gudang Asal\"}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            {this.state.isLoadingBaki === false ? (\r\n              <Field\r\n                label=\"Baki Asal\"\r\n                name=\"baki_asal\"\r\n                onChange={(e) => {\r\n                  this.setState({ baki_asal: e });\r\n                }}\r\n                options={this.props.databaki\r\n                  .filter((list) => list.kode_gudang === this.state.gudang_asal)\r\n                  .map((databaki) => {\r\n                    let data = {\r\n                      value: databaki.kode_baki,\r\n                      name: databaki.kode_baki + \" - \" + databaki.nama_baki,\r\n                    };\r\n                    return data || [];\r\n                  })}\r\n                placeholder={\"Silahkan Pilih Baki Asal\"}\r\n                component={ReanderSelect}\r\n              />\r\n            ) : (\r\n              <SkeletonLoading label=\"Baki Asal\" />\r\n            )}\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <label> &nbsp; </label>\r\n            <button\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={this.submitting}\r\n              onClick={() => this.filterLaporan()}\r\n              type=\"button\"\r\n            >\r\n              {this.state.loadingpencarian ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Mencari Data\r\n                </>\r\n              ) : (\r\n                \"Cari Data\"\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {this.state.bakigudangtujuan === false ? null : (\r\n            <>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  label=\"Gudang Tujuan\"\r\n                  name=\"gudang_tujuan\"\r\n                  onChange={(e) => {\r\n                    this.setState({ gudang_tujuan: e });\r\n                    this.props.change(\"baki_tujuan\", \"\");\r\n                  }}\r\n                  options={this.props.datagudang\r\n                    .filter((list) => list.kode_gudang !== undefined)\r\n                    .map((list) => {\r\n                      let data = {\r\n                        value: list.kode_gudang,\r\n                        name: list.kode_gudang + \" - \" + list.nama_gudang,\r\n                      };\r\n                      return data;\r\n                    })}\r\n                  placeholder={\"Silahkan Pilih Gudang Tujuan\"}\r\n                  component={ReanderSelect}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                {this.state.isLoadingBaki === false ? (\r\n                  <Field\r\n                    label=\"Baki Tujuan\"\r\n                    name=\"baki_tujuan\"\r\n                    options={this.props.databaki\r\n                      .filter(\r\n                        (list) => list.kode_gudang === this.state.gudang_tujuan\r\n                      )\r\n                      .map((databaki) => {\r\n                        let data = {\r\n                          value: databaki.kode_baki,\r\n                          name: databaki.kode_baki + \" - \" + databaki.nama_baki,\r\n                        };\r\n                        return data || [];\r\n                      })}\r\n                    placeholder={\"Silahkan Pilih Baki Tujuan\"}\r\n                    component={ReanderSelect}\r\n                  />\r\n                ) : (\r\n                  <SkeletonLoading label=\"Baki Tujuan\" />\r\n                )}\r\n              </div>\r\n              {/* {console.log(this.props.setBarangPindahSatuBaki)}\r\n            {console.log(JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\")))} */}\r\n            </>\r\n          )}\r\n        </div>\r\n        <Tabel\r\n          keyField=\"kode_barcode\"\r\n          exportCsv={false}\r\n          data={\r\n            this.props.setBarangPindahSatuBaki.length === 0\r\n              ? JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\"))\r\n              : this.props.setBarangPindahSatuBaki\r\n          }\r\n          columns={this.props.columns}\r\n          empty={true}\r\n          pagination=\"off\"\r\n          textEmpty=\"Data Barang Kosong\"\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col-10\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              disabled={this.props.submitting}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                \"Simpan Data\"\r\n              )}\r\n            </button>\r\n            &nbsp;\r\n            <button\r\n              className=\"btn btn-warning\"\r\n              type=\"button\"\r\n              onClick={() => this.batalHancur()}\r\n              disabled={this.props.isLoadingBatal}\r\n            >\r\n              {this.state.isLoadingBatal ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Membatal\r\n                </>\r\n              ) : (\r\n                \"Batal\"\r\n              )}\r\n            </button>\r\n          </div>\r\n          {/* <div className=\"2\">\r\n            {JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\")) ===\r\n            null ? null : (\r\n              <>\r\n                Total Barang :{\" \"}\r\n                {this.props.setBarangPindahSatuBaki.length === 0\r\n                  ? JSON.parse(\r\n                      localStorage.getItem(\"data_barang_satu_baki_tmp\")\r\n                    ).length || 0\r\n                  : this.props.setBarangPindahSatuBaki.length || 0}\r\n                <br />\r\n                Total Berat :\r\n                {this.props.setBarangPindahSatuBaki.length === 0\r\n                  ? JSON.parse(\r\n                      localStorage.getItem(\"data_barang_satu_baki_tmp\")\r\n                    )\r\n                      .map((column, key) => column.berat)\r\n                      .reduce((a, b) => a + b, 0)\r\n                      .toFixed(1)\r\n                  : this.props.setBarangPindahSatuBaki\r\n                      .map((column, key) => column.berat)\r\n                      .reduce((a, b) => a + b, 0)\r\n                      .toFixed(1)}\r\n              </>\r\n            )}\r\n          </div> */}\r\n        </div>\r\n        {this.props.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadPindahBarangSatuBaki = reduxForm({\r\n  form: \"HeadPindahBarangSatuBaki\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPindahBarangBaki,\r\n})(HeadPindahBarangSatuBaki);\r\nexport default connect(maptostate, null)(HeadPindahBarangSatuBaki);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport { connect } from \"react-redux\";\r\nimport HeadPindahBarangSatuBaki from \"./HeadPindahBarangSatuBaki.jsx\";\r\nimport Swal from \"sweetalert2\";\r\nimport { setBarangPindahSatuBaki } from \"../../../actions/databarang_action.jsx\";\r\nimport { postDataNoTImeOut } from \"../../../config/axios.jsx\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport { reset } from \"redux-form\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    setBarangPindahSatuBaki: state.databarang.setBarangPindahSatuBaki,\r\n  };\r\n};\r\n\r\nclass FormPindahBarangSatuBaki extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEdit: false,\r\n      modalDialog: false,\r\n      isLoading: false,\r\n      columns: [\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n          footerAttrs: {\r\n            colSpan: \"5\",\r\n          },\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>Total Barang : {this.props.setBarangPindahSatuBaki.length === 0\r\n              ? JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\")) === null  ? 0 : JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\")).length \r\n              : this.props.setBarangPindahSatuBaki.length} </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_group\",\r\n          text: \"Gudang Asal\",\r\n        },\r\n        {\r\n          dataField: \"kode_dept\",\r\n          text: \"Baki Asal\",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n        {\r\n          dataField: \"nama_atribut\",\r\n          text: \"Nama Atribut\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(1);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(1),\r\n        },\r\n\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  hapusdata(id) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        let data = JSON.parse(localStorage.getItem('data_barang_satu_baki_tmp'));\r\n        data.splice(id, 1)\r\n        localStorage.setItem('data_barang_satu_baki_tmp', JSON.stringify(data));\r\n        this.props.dispatch(setBarangPindahSatuBaki(data));\r\n        // deleteLocalItemBarcode(\"data_barang_satu_baki_tmp\", id);\r\n        // this.props.dispatch(getListReturnSupplier());\r\n      }\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    // this.props.dispatch(getDataBaki());\r\n    // localStorageencryp('data_barang',[])\r\n    localStorage.setItem('data_barang_satu_baki_tmp',\"[]\")\r\n      \r\n  }\r\n  handleSubmit(data) {\r\n    this.setState({ isLoading: true });\r\n    // let barang_tmp = this.props.setBarangPindahSatuBaki.length === 0 ? JSON.parse(localStorage.getItem('data_barang_satu_baki_tmp')) : this.props.setBarangPindahSatuBaki \r\n    let hasil = {\r\n      kode_gudang: data.gudang_tujuan,\r\n      kode_toko: data.baki_tujuan,\r\n      kode_gudang_asal: data.gudang_asal,\r\n      kode_toko_asal: data.baki_asal\r\n      }\r\n    //   console.log(hasil);\r\n    postDataNoTImeOut('pindahbarang/addbanyak', hasil)\r\n    .then(() => {\r\n      this.setState({ isLoading: false });\r\n    }).then(() => {\r\n      localStorage.setItem('data_barang_satu_baki_tmp', JSON.stringify([]));\r\n    })\r\n    .then(() => {\r\n      this.props.dispatch(setBarangPindahSatuBaki([]));\r\n    })\r\n    .then(() => {\r\n      this.props.dispatch(reset('HeadPindahBarangSatuBaki'))\r\n    })\r\n    .then(() => {\r\n      ToastNotification(\"success\", \"Data Berhasil Disimpan\");\r\n    }).catch((error) => this.errorhandling(error))\r\n  }\r\n  errorhandling(error) {\r\n    ToastNotification(\"info\", /conflict/i.test(error.response.data) ? \"Terjadi Kesalahan Saat Mengirim Data\" : error.response.data);\r\n    this.setState({ isLoading: false });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Barang</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Pindah Barang Satu Baki</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Pindah Barang Satu Baki </h1>\r\n        <Panel>\r\n          <PanelHeader>Pindah Barang Satu Baki</PanelHeader>\r\n          <br />\r\n\r\n          {/* Pindah Barang Satu Baki */}\r\n          <div className=\"container\">\r\n            <HeadPindahBarangSatuBaki\r\n              isLoading={this.state.isLoading}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n              data={this.props.setBarangPindahSatuBaki}\r\n              columns={this.state.columns}\r\n            />\r\n          </div>\r\n          <br />\r\n          {/* End Pindah Barang Satu Baki */}\r\n\r\n          {/* End Tambah Pindah Barang Satu Baki  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(FormPindahBarangSatuBaki);\r\n"],"sourceRoot":""}