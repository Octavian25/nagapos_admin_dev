{"version":3,"sources":["pages/Barang/TerimaBarang/FormTerimaBarang.jsx","pages/Barang/TerimaBarang/TerimaBarang.jsx","../node_modules/reactstrap/es/ModalFooter.js"],"names":["FormTerimaBarang","props","_this","Object","classCallCheck","this","_super","call","state","no_kirim","datagudang","databaki","loading","dispatch","getDataGudang","getDataBaki","_this2","react_default","a","createElement","Modal","backdrop","keyboard","isOpen","toggle","hideModal","ModalHeader","title","onSubmit","handleSubmit","autoComplete","onKeyPress","e","key","preventDefault","ModalBody","className","Field","label","name","options","map","list","value","_id","placeholder","component","ReanderSelect","onChange","setState","kode_gudang","change","filter","undefined","nama_gudang","react_loading_skeleton_lib_default","width","height","kode_baki","nama_baki","ModalFooter","disabled","submitting","type","isLoading","Fragment","onClick","loading_default","background","loaderColor","Component","reduxForm","form","enableReinitialize","connect","initialValues","localStorage","getItem","JSON","parse","datamaster","SearchBar","Search","TerimaBarang","isEdit","modalDialog","isLoadingBtn","DataTerimaBarang","SimpanDataBarang","resetTerimaBarang","columns","dataField","text","formatter","cell","row","num","index","footerAttrs","colSpan","footer","length","sort","toFixed","columnData","reduce","acc","item","bind","assertThisInitialized","getNokirim","setTimeout","data","_this3","data_post","kode_toko","setItem","stringify","data_edit","getData","then","res","reset","dataEdit","showModal","ShowModalTerimaBarang","_this4","postData","NotifSucces","catch","error","errorHandling","err","NotifError","_this5","react_router_dom","to","panel","react_bootstrap_table2_toolkit_lib_default","keyField","search","exportCSV","fileName","searchProps","lib_default","baseProps","terimabangOnline","TerimaBarang_FormTerimaBarang","Nokirim","React","databarang","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","propTypes","tag","string","cssModule","object","Tag","attributes","classes","defaultProps","__webpack_exports__"],"mappings":"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","file":"static/js/71.05baac56.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n// import { getNokirim } from \"../../../actions/databarang_action\";\r\nimport { getDataBaki, getDataGudang, hideModal } from \"../../../actions/datamaster_action\";\r\nimport { ReanderSelect } from \"../../../components/helpers/field\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nconst maptostate = (state) => {\r\n  let data_terima_barang =\r\n  localStorage.getItem(\"data_terima_barang\") === null || undefined\r\n    ? []\r\n    : JSON.parse(localStorage.getItem(\"data_terima_barang\") || []);\r\n    \r\n  return {\r\n    initialValues: {\r\n      no_kirim: data_terima_barang.no_kirim || \"\",\r\n    },\r\n    datagudang: state.datamaster.getDataGudang,\r\n    databaki: state.datamaster.getDataBaki,\r\n  };\r\n};\r\nclass FormTerimaBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        no_kirim: [],\r\n        datagudang:[],\r\n        databaki: [],\r\n        loading:false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataGudang())\r\n    this.props.dispatch(getDataBaki())\r\n    // this.props.dispatch(getNokirim())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        isOpen={this.props.isOpen}\r\n        toggle={() => this.props.dispatch(hideModal())}\r\n      >\r\n        <ModalHeader> {this.props.title} </ModalHeader>\r\n        <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n        >\r\n          <ModalBody>\r\n            <div className=\"form-group\">\r\n                <Field\r\n                  label=\"No Kirim\"\r\n                  name=\"no_kirim\"\r\n                  options={this.props.no_kirim\r\n                    .map((list) => {\r\n                    let data = {\r\n                      value: list._id.no_kirim,\r\n                      name: list._id.no_kirim,\r\n                    };\r\n                    return data;\r\n                  })}\r\n                  placeholder={\"Silahkan Pilih No Kirim\"}\r\n                  component={ReanderSelect}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              {this.state.datagudang !== [] ? (\r\n                <Field\r\n                  label=\"Kode Gudang\"\r\n                  name=\"kode_gudang\"\r\n                  onChange={(e) => {\r\n                    this.setState({ kode_gudang: e })\r\n                    this.props.change('kode_baki','')\r\n                  }}\r\n                  options={this.props.datagudang\r\n                    .filter((list) => list.kode_gudang !== undefined)\r\n                    .map((list) => {\r\n                      let data = {\r\n                        value: list.kode_gudang,\r\n                        name: list.kode_gudang + \" - \" + list.nama_gudang,\r\n                      };\r\n                      return data;\r\n                    })}\r\n                  placeholder={\"Silahkan Pilih Kode Gudang\"}\r\n                  component={ReanderSelect}\r\n                />\r\n              ) : (\r\n                <Skeleton width={\"100%\"} height={50} />\r\n              )}\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <Field\r\n                  label=\"Kode Baki\"\r\n                  name=\"kode_baki\"\r\n                  options={this.props.databaki\r\n                    .filter((list) => list.kode_gudang === this.state.kode_gudang)\r\n                    .map((databaki) => {\r\n                    let data = {\r\n                      value: databaki.kode_baki,\r\n                      name: databaki.kode_baki + \" - \" + databaki.nama_baki,\r\n                    };\r\n                    return data || [];\r\n                  })}\r\n                  placeholder={\"Silahkan Pilih Kode Baki\"}\r\n                  component={ReanderSelect}\r\n                />\r\n            </div>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n          <button\r\n              className=\"btn btn-primary\"\r\n              disabled={this.props.submitting}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Cek Data Barang\r\n                </>\r\n              ) : (\r\n                \"Cek Data Barang\"\r\n              )}\r\n            </button>\r\n            <button\r\n              className=\"btn btn-white\"\r\n              onClick={() => this.props.dispatch(hideModal())}\r\n              type=\"button\"\r\n              disabled={this.props.isLoading}\r\n            >\r\n              Batal\r\n            </button>\r\n            \r\n          </ModalFooter>\r\n          {this.props.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n        </form>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nFormTerimaBarang = reduxForm({\r\n  form: \"FormTerimaBarang\",\r\n  enableReinitialize: true,\r\n})(FormTerimaBarang);\r\nexport default connect(maptostate,null)(FormTerimaBarang);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport { hideModal, showModal } from \"../../../actions/datamaster_action.jsx\";\r\nimport {\r\n  getNokirim,\r\n  ShowModalTerimaBarang,\r\n} from \"../../../actions/databarang_action.jsx\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport FormTerimaBarang from \"./FormTerimaBarang.jsx\";\r\nimport { getData, postData } from \"../../../config/axios.jsx\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport {\r\n  NotifError,\r\n  NotifSucces,\r\n} from \"../../../components/helpers/notification.jsx\";\r\nimport { reset } from \"redux-form\";\r\n// import LoadingButton from \"../../../components/helpers/function.jsx\";\r\nconst { SearchBar } = Search;\r\nconst maptostate = (state) => {\r\n  return {\r\n    Nokirim: state.databarang.getNokirim,\r\n    hideModal: state.datamaster.modalDialog,\r\n  };\r\n};\r\n\r\nclass TerimaBarang extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEdit: false,\r\n      modalDialog: false,\r\n      isLoading: false,\r\n      isLoadingBtn: false,\r\n      DataTerimaBarang: [],\r\n      SimpanDataBarang: false,\r\n      resetTerimaBarang : false,\r\n      columns: [\r\n        {\r\n          dataField: \"no\",\r\n          text: \"No \",\r\n          formatter: (cell, row, num, index) => {\r\n            this.setState({ num: 1 + num });\r\n            return <div> {++num} </div>;\r\n          },\r\n          footerAttrs: {\r\n            colSpan: \"4\",\r\n          },\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>Total Barang : {this.state.DataTerimaBarang.length} </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_barang\",\r\n          text: \"Kode Barang\",\r\n          sort: true,\r\n        },\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n        },\r\n        {\r\n          dataField: \"kode_intern\",\r\n          text: \"Kode Intern\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n        {\r\n          dataField: \"nama_atribut\",\r\n          text: \"Nama Atribut\",\r\n          footer: \"\",\r\n        },\r\n        {\r\n          dataField: \"berat_atribut\",\r\n          text: \"Berat Atribut\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(getNokirim());\r\n  }\r\n  resetTerimaBarang() {\r\n\r\n    this.setState({\r\n      resetTerimaBarang: true,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({\r\n        DataTerimaBarang: [],\r\n        resetTerimaBarang: false,\r\n      });\r\n    }, 300);\r\n  }\r\n  handleSubmit(data) {\r\n    let data_post = {\r\n      no_kirim: data.no_kirim,\r\n      kode_gudang: data.kode_gudang,\r\n      kode_toko: data.kode_baki,\r\n    };\r\n    localStorage.setItem('data_terima_barang', JSON.stringify(data_post));\r\n    this.setState({ SimpanDataBarang: data_post });\r\n    this.setState({ isLoading: true });\r\n    let data_edit = {\r\n      no_kirim: data.no_kirim,\r\n    };\r\n    getData(\"kirimbarang/get/nokirim/\" + data.no_kirim, data_edit)\r\n      .then((res) => {\r\n        this.setState({\r\n          DataTerimaBarang: res.data,\r\n        });\r\n      })\r\n      .then(() => {\r\n        this.setState({ isLoading: false });\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(reset(\"FormTerimaBarang\"));\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(hideModal());\r\n      });\r\n  }\r\n\r\n  formEditBaki(dataEdit) {\r\n    this.props.dispatch(showModal());\r\n    this.props.dispatch(ShowModalTerimaBarang(dataEdit));\r\n    this.setState({\r\n      isEdit: true,\r\n    });\r\n  }\r\n  ShowModalTerimaBarang() {\r\n    this.props.dispatch(showModal());\r\n    this.props.dispatch(ShowModalTerimaBarang(false));\r\n    this.setState({\r\n      isEdit: false,\r\n    });\r\n  }\r\n  terimabangOnline() {\r\n    this.setState({ isLoadingBtn: true });\r\n    postData(\"terimabarang/add\", this.state.SimpanDataBarang)\r\n      .then(() => {\r\n        this.setState({\r\n          DataTerimaBarang: [],\r\n        });\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(reset(\"FormTerimaBarang\"));\r\n        localStorage.setItem('data_terima_barang', JSON.stringify([]));\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(getNokirim());\r\n      })\r\n      .then(() => {\r\n        this.setState({ isLoadingBtn: false });\r\n      })\r\n      .then(() => {\r\n        NotifSucces(\"Barang Berhasil Diterima\");\r\n      })\r\n      .catch((error) => this.errorHandling(error));\r\n  }\r\n  errorHandling(err) {\r\n    NotifError(err);\r\n    this.setState({ isLoadingBtn: false });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Barang</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Terima Barang</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Terima Barang </h1>\r\n        <Panel>\r\n          <PanelHeader>Terima Barang</PanelHeader>\r\n          <br />\r\n\r\n          {/* Terima Barang */}\r\n          <div className=\"container\">\r\n            {this.state.isLoading === false ? (\r\n              <ToolkitProvider\r\n                keyField=\"kode_barang\"\r\n                data={this.state.DataTerimaBarang || []}\r\n                columns={this.state.columns}\r\n                search\r\n                exportCSV={{\r\n                  fileName: \"Export Terima Barang.csv\",\r\n                }}\r\n              >\r\n                {(props) => (\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                      <button\r\n                        onClick={() => this.ShowModalTerimaBarang()}\r\n                        className=\"btn btn-teal\"\r\n                      >\r\n                        {\" \"}\r\n                        <i className=\"fa fa-plus\"></i>{\" \"}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <div className=\"text-right\">\r\n                        <SearchBar {...props.searchProps} />\r\n                      </div>\r\n                    </div>\r\n                    <hr />\r\n                    <div className=\"col-12\">\r\n                      <BootstrapTable {...props.baseProps} />\r\n                      <br />\r\n\r\n                      <>\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          onClick={() => this.terimabangOnline()}\r\n                        >\r\n                          {/* {this.state.isLoadingBtn ? \"\" : \"Terima Barang\"} */}\r\n                          {this.state.isLoadingBtn ? (\r\n                            <>\r\n                              <i className=\"fas fa-spinner fa-spin\"></i> &nbsp;\r\n                              Terima Barang\r\n                            </>\r\n                          ) : (\r\n                            \"Terima Barang\"\r\n                          )}\r\n                        </button>\r\n                        &nbsp;\r\n                        <button\r\n                          className=\"btn btn-warning\"\r\n                          onClick={() => this.resetTerimaBarang()}\r\n                        >\r\n                          {this.state.resetTerimaBarang ? (\r\n                            <>\r\n                              <i className=\"fas fa-spinner fa-spin\"></i> &nbsp;\r\n                              Reset\r\n                            </>\r\n                          ) : (\r\n                            \"Reset\"\r\n                          )}\r\n                        </button>\r\n                      </>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </ToolkitProvider>\r\n            ) : (\r\n              <Skeleton width={\"100%\"} height={200} />\r\n            )}\r\n            <FormTerimaBarang\r\n              no_kirim={this.props.Nokirim}\r\n              isLoading={this.state.isLoading}\r\n              isEdit={this.state.isEdit}\r\n              title={this.state.isEdit ? \"Terima Barang\" : \"Terima Barang\"}\r\n              isOpen={this.props.hideModal}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n            />\r\n          </div>\r\n          <br />\r\n          {/* End Tambah Terima Barang  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(TerimaBarang);\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar ModalFooter = function ModalFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'modal-footer'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalFooter.propTypes = propTypes;\nModalFooter.defaultProps = defaultProps;\nexport default ModalFooter;"],"sourceRoot":""}