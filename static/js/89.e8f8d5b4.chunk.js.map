{"version":3,"sources":["pages/Barang/TambahBarang/ModalPesanan.jsx","pages/Barang/TambahBarang/TambahBarang.jsx"],"names":["ModalPesanan","props","_this","Object","classCallCheck","this","_super","call","state","setTimeout","document","getElementById","focus","_this2","react_default","a","createElement","Fragment","htmlFor","className","type","id","placeholder","aria-label","aria-describedby","onClick","getNomorPesanan","isLoadingPesanan","Component","reduxForm","form","enableReinitialize","connect","setCamera","databarang","hideModal","datamaster","modalDialog","FIlterPencarianBarang","lazy","__webpack_require__","e","then","bind","TambahBarang","showBarangPesanan","dispatch","FormModal","showModal","showModalPesanan","isEdit","isLoading","formEdit","loadingData","dataPesanan","formTambahBarang","fromModalPesanan","formBerlian","noPesanan","columns","dataField","text","sort","csvExport","headerClasses","formatter","rowcontent","row","library","showModalDuplikatBarang","handleSubmit","assertThisInitialized","showModalTambahBarang","tambahbarang","localStorage","removeItem","setItem","data","setState","berlian","getItem","databerlian","forEach","el","jenis_batu","jumlah","karat_batu","kode_shape","shape","kode_color","color","kode_clarity","clarity","kode_cutgrade","cute_grade","kode_polish","polish","kode_symmetry","symmetry","kode_fluorescence","fluorescence","size","push","data_post","id_barang_pesanan","is_from_sepuh","kode_group","kode_kategori","kode_dept","kode_jenis","kode_gudang","kode_toko","kode_lokasi_toko","kode_intern","nama_barang","berat","parseFloat","berat_stock","undefined","berat_asli","status_pesanan","kadar_modal","kadar","kadar_cetak","toString","nama_atribut","berat_atribut","berat_plastik","harga_atribut","parseInt","tag_id","berat_bandrol","no_pesanan","no_seri","data_berlian","ongkos_berlian","profit","total_harga","total_usd","file","foto","dataURLtoFile","postData2","res","postImage","kode_barcode","catch","err","ToastNotification","getData","length","reset","_err$response","_err$response$data","response","message","_this3","dolarUsb","getData2","value","getImage","dataEdit","total_rp","jml_batu","showEditBarang","imgfound","_this4","loadingmodal","findIndex","list","postDataNoTImeOut2","saldo","console","log","_this5","hasil","postData","error","nomor_pesanan","_this6","trim","detail_barang","detail","attribut","perkiraan_kadar","keterangan","ongkos","perkiraan_berat","status","dataimage","_this7","expandRow","renderer","stock_on_hand","showExpandColumn","expandByColumnOnly","to","onSubmit","barangPesanan","keyField","exportCsv","empty","textEmpty","title","content","Module","modalBerlian","TambahBarang_ModalPesanan","no","React"],"mappings":"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","file":"static/js/89.e8f8d5b4.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm } from \"redux-form\";\r\n// import { ReanderSelect } from \"../../../components/helpers/field\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    setCamera: state.databarang.setCamera,\r\n    hideModal: state.datamaster.modalDialog,\r\n  };\r\n};\r\n\r\nclass ModalPesanan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {\r\n    setTimeout(() => {\r\n      document.getElementById(\"nomor_pesanan\").focus();\r\n    }, 100);\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        {/* <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"> */}\r\n          <label htmlFor=\"\">Masukan Nomor Pesanan</label>\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n            id=\"nomor_pesanan\"\r\n              className=\"form-control\"\r\n              placeholder=\"Nomor Pesanan\"\r\n              aria-label=\"Nomor Pesanan\"\r\n              aria-describedby=\"basic-addon2\"\r\n            />\r\n            <div className=\"input-group-append\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                type=\"button\"\r\n                onClick={() =>\r\n                  this.props.getNomorPesanan(\r\n                    document.getElementById(\"nomor_pesanan\")\r\n                  )\r\n                }\r\n              >\r\n                {this.props.isLoadingPesanan ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Search\r\n                  </>\r\n                ) : (\r\n                  \"Search\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n       \r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nModalPesanan = reduxForm({\r\n  form: \"ModalPesanan\",\r\n  enableReinitialize: true,\r\n})(ModalPesanan);\r\nexport default connect(maptostate, null)(ModalPesanan);\r\n","import {\r\n  React,\r\n  Link,\r\n  ModalGlobal,\r\n  setItem,\r\n  reset,\r\n  Panel,\r\n  ToastNotification,\r\n  PanelHeader,\r\n  connect,\r\n  Tabel,\r\n  hideModal,\r\n  showModal,\r\n  postData,\r\n  getItem,\r\n  PanelBody,\r\n  lazy,\r\n  imgfound\r\n} from \"../../../components/helpers/library\";\r\n\r\nimport {\r\n  setCamera,\r\n  showEditBarang,\r\n  HeadEditDataBarang,\r\n  FormTambahBarang,\r\n  ModalBerlian\r\n} from \"./Module\";\r\n\r\nimport { getData, getData2, getImage, postData2, postDataNoTImeOut2, postImage } from \"../../../config/axios\";\r\nimport { FormModal, showModalPesanan } from \"../../../actions/databarang_action\";\r\nimport ModalPesanan from \"./ModalPesanan\";\r\nimport { dataURLtoFile } from \"../../../components/helpers/function\";\r\n\r\nconst FIlterPencarianBarang = lazy(() => import( \"./FIlterPencarianBarang.jsx\"));\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    FormModal : state.datamaster.FormModal,\r\n  }\r\n}\r\nclass TambahBarang extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEdit: false,\r\n      modalDialog: false,\r\n      isLoading: false,\r\n      formEdit: false,\r\n      loadingData: false,\r\n      databarang: [],\r\n      dataPesanan: [],\r\n      formTambahBarang: false,\r\n      fromModalPesanan: false,\r\n      formBerlian: false,\r\n      isLoadingPesanan: false,\r\n      noPesanan: \"\",\r\n      columns: [\r\n        // {\r\n        //   dataField: \"kode_barang\",\r\n        //   text: \"Kode Barang \",\r\n        //   sort: true,\r\n        // },\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n          sort: true\r\n        },\r\n        {\r\n          dataField: \"kode_group\",\r\n          text: \"Kode Group\",\r\n        },\r\n        {\r\n          dataField: \"kode_toko\",\r\n          text: \"Kode Baki\",\r\n        },\r\n        {\r\n          dataField: \"kode_dept\",\r\n          text: \"Kode Jenis\",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n        },\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row) => {\r\n\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => this.showModalDuplikatBarang(row)}\r\n                    className=\"btn btn-primary mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-copy\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.showModalTambahBarang = this.showModalTambahBarang.bind(this);\r\n    this.tambahbarang = this.tambahbarang.bind(this);\r\n    // this.getBarangKodeBaki = this.getBarangKodeBaki.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    localStorage.removeItem(\"estimasi_harga_tambah\")\r\n    setItem('data_batu',[])\r\n    // getData(\"barang/get/by-kode-baki?limit=1000&kode_baki=BKCC\").then((res) => {\r\n    //   if (res.data.length === 0) {\r\n    //     this.setState({ databarang: [] });\r\n    //   } else {\r\n    //     this.setState({ databarang: res.data });\r\n    //   }\r\n    //   this.setState({ isLoading: false });\r\n    // });\r\n    setItem('total_rp',0)\r\n    setItem('total_usd',0)\r\n  }\r\n  componentWillUnmount(){\r\n    setItem('data_batu',[])\r\n    setItem('total_rp',0)\r\n    setItem('total_usd',0)\r\n  }\r\n  tambahbarang(data) {\r\n\r\n    this.setState({ isLoading: true });\r\n    setTimeout(() => {\r\n      \r\n    let berlian = getItem('data_batu') || [];\r\n    let databerlian = []\r\n    berlian.forEach(el => {\r\n      let row = {\r\n        jenis_batu: el.jenis_batu,\r\n        jumlah: el.jumlah,\r\n        karat_batu: el.karat_batu,\r\n        kode_shape: el.shape,\r\n        kode_color: el.color,\r\n        kode_clarity: el.clarity,\r\n        kode_cutgrade: el.cute_grade,\r\n        kode_polish: el.polish,\r\n        kode_symmetry: el.symmetry,\r\n        kode_fluorescence: el.fluorescence,\r\n        size: el.size\r\n      }\r\n      databerlian.push(row)\r\n    });\r\n    let data_post = {\r\n      id_barang_pesanan: \"-\",\r\n      is_from_sepuh : false,\r\n      kode_group: data.kode_kategori,\r\n      kode_dept: data.kode_jenis,\r\n      kode_gudang: data.kode_gudang,\r\n      kode_toko: data.kode_lokasi_toko,\r\n      kode_intern: data.kode_intern || \"-\",\r\n      nama_barang: data.nama_barang,\r\n      berat: parseFloat(data.berat),\r\n      berat_stock : data.berat_stock === undefined ? 0 : data.berat_stock,\r\n      berat_asli: data.status_pesanan === \"PESANAN\" ? parseFloat(data.berat) : parseFloat(data.berat_asli) || 0,\r\n      // berat_awal: parseFloat(data.berat_awal) || 0,\r\n      kadar_modal: parseFloat(data.kadar_modal) || 0,\r\n      kadar: parseFloat(data.kadar),\r\n      kadar_cetak: data.kadar_cetak.toString(),\r\n      nama_atribut: data.nama_atribut || \"-\",\r\n      berat_atribut: parseFloat(data.berat_atribut) || 0,\r\n      berat_plastik: parseFloat(data.berat_plastik) || 0,\r\n      harga_atribut: parseInt(data.harga_atribut) || 0,\r\n      tag_id: \"-\",\r\n      berat_bandrol: 0,\r\n      no_pesanan: data.no_pesanan || \"-\",\r\n      no_seri: data.no_seri || \"-\",\r\n      data_berlian : databerlian,\r\n      ongkos_berlian : parseInt(data.ongkos_berlian) || 0,\r\n      profit : parseInt(data.profit) || 0,\r\n      total_harga : parseInt(data.total_harga) || 0,\r\n      total_usd : parseInt(getItem('total_usd')) || 0,\r\n    };\r\n\r\n    const file = data.foto !== undefined  ? dataURLtoFile(data.foto) : undefined ;\r\n\r\n    setTimeout(() => {\r\n      postData2(\"tambah-barang/create\", data_post)\r\n        .then((res) => {\r\n          if(file !== undefined){\r\n            postImage(file,'foto_produk/'+res.data.kode_barcode).then((res)=>{\r\n            }).catch((err)=>{\r\n              ToastNotification('info', \"upload Foto Gagal, Silahkan Edit Didata Barang\")\r\n            })\r\n          }\r\n          getData(\"barang/get/by-kode-baki?kode_baki=\"+data.kode_lokasi_toko)\r\n            .then((res) => {\r\n              if (res.data.length === 0) {\r\n                this.setState({ databarang: [] });\r\n              } else {\r\n                this.setState({ databarang: res.data });\r\n              }\r\n              this.setState({ isLoading: false });\r\n            })\r\n            .catch((err) => {\r\n              this.setState({ isLoading: false, databarang: [] });\r\n              ToastNotification(\"info\", \"Kode Baki Yang Anda Dicari Tidak Ada\");\r\n            });\r\n          \r\n          setItem('data_batu',[])\r\n          setItem('total_usd',0)\r\n          setItem('total_rp',0)\r\n          this.props.dispatch(reset(\"FormTambahBarang\"));\r\n          this.props.dispatch(hideModal())\r\n         \r\n          ToastNotification(\"success\", \"Data Barang Berhasil Di Tambahkan\");\r\n        })\r\n        .catch((err) => {\r\n          this.setState({ isLoading: false });\r\n          ToastNotification(\r\n            \"info\",\r\n            err.response?.data?.message || \"Gagal Tambah Barang Silahkan Coba Lagi\"\r\n          );\r\n        });\r\n    }, 300);\r\n  }, 2000);\r\n\r\n  }\r\n\r\n  showModalDuplikatBarang(row) {\r\n    let dolarUsb = 0\r\n    getData2(\"para-system/key/CURRENCY_DOLLAR_RUPIAH\").then((res) => {\r\n      dolarUsb = parseInt(res.data.value || 0);\r\n    }).catch((err)=>{\r\n      \r\n    })\r\n    \r\n    getImage('foto_produk/'+row.kode_barcode)\r\n      .then((res) => {\r\n        let dataEdit = {\r\n          foto: res,\r\n          kode_barcode: row.kode_barcode,\r\n          nama_barang: row.nama_barang,\r\n          nama_atribut: row.nama_atribut || \"-\",\r\n          harga_atribut: row.harga_atribut || 0,\r\n          kode_intern: row.kode_intern,\r\n          kadar: row.kadar || 0,\r\n          kadar_cetak: row.kadar_cetak || 0,\r\n          kadar_modal: row.kadar_modal || 0,\r\n          kode_kategori: row.kode_group,\r\n          kode_jenis: row.kode_dept,\r\n          kode_lokasi_toko: row.kode_toko + \"~\" + row.kode_gudang,\r\n          berat: row.berat,\r\n          berat_asli: row.berat,\r\n          berat_atribut: row.berat_atribut || 0,\r\n          berat_plastik: row.berat_plastik || 0,\r\n          profit: row.profit || 0,\r\n          ongkos_berlian: row.ongkos_berlian || 0,\r\n          no_seri: row.no_seri || \"-\",\r\n          tag_id: row.tag_id,\r\n          berat_bandrol: 0,\r\n        };\r\n        let total_rp = parseInt(row.total_usd || 0) *  parseInt(dolarUsb || 0)\r\n        setItem(\"total_rp\", total_rp);\r\n        let berlian = [];\r\n        row.data_berlian.forEach(el => {\r\n          let row ={\r\n            jenis_batu: el.jenis_batu || \"-\",\r\n            jumlah: el.jml_batu || 0,\r\n            karat_batu: el.karat_batu || 0,\r\n            shape: el.kode_shape || \"-\",\r\n            color: el.kode_color || \"-\",\r\n            clarity: el.kode_clarity || \"-\",\r\n            cute_grade: el.kode_cutgrade || \"-\",\r\n            polish: el.kode_polish || \"-\",\r\n            symmetry: el.kode_symmetry || \"-\",\r\n            fluorescence: el.kode_fluorescence || \"-\",\r\n            size: el.size || 0\r\n          }\r\n          berlian.push(row)\r\n        });\r\n        setItem('data_batu',berlian)\r\n        setItem('total_usd',row.total_usd)\r\n        setItem(\"data_kategori_jenis\", dataEdit);\r\n        // this.setState({\r\n        //   formTambahBarang: true,\r\n        // });\r\n        this.props.dispatch(FormModal('FormTambahBarang'))\r\n        this.props.dispatch(showModal());\r\n        this.props.dispatch(showEditBarang(dataEdit));\r\n      })\r\n      .catch((err) => {\r\n        let dataEdit = {\r\n          foto: imgfound,\r\n          kode_barcode: row.kode_barcode,\r\n          nama_barang: row.nama_barang,\r\n          nama_atribut: row.nama_atribut || \"-\",\r\n          harga_atribut: row.harga_atribut || 0,\r\n          kode_intern: row.kode_intern,\r\n          kadar: row.kadar || 0,\r\n          kadar_cetak: row.kadar_cetak || 0,\r\n          kadar_modal: row.kadar_modal || 0,\r\n          kode_kategori: row.kode_group,\r\n          kode_jenis: row.kode_dept,\r\n          kode_lokasi_toko: row.kode_toko + \"~\" + row.kode_gudang,\r\n          berat: row.berat,\r\n          berat_asli: row.berat,\r\n          berat_atribut: row.berat_atribut || 0,\r\n          berat_plastik: row.berat_plastik || 0,\r\n          ongkos_berlian: row.ongkos_berlian || 0,\r\n          no_seri: row.no_seri || \"-\",\r\n          profit: row.profit || 0,\r\n          tag_id: row.tag_id,\r\n          berat_bandrol: 0,\r\n        };\r\n        let total_rp = parseInt(row.total_usd || 0) *  parseInt(dolarUsb || 0)\r\n        setItem(\"total_rp\", total_rp);\r\n       \r\n        let berlian = [];\r\n        row.data_berlian.forEach(el => {\r\n          let row ={\r\n            jenis_batu: el.jenis_batu || \"-\",\r\n            jumlah: el.jml_batu || 0,\r\n            karat_batu: el.karat_batu || 0,\r\n            shape: el.kode_shape || \"-\",\r\n            color: el.kode_color || \"-\",\r\n            clarity: el.kode_clarity || \"-\",\r\n            cute_grade: el.kode_cutgrade || \"-\",\r\n            polish: el.kode_polish || \"-\",\r\n            symmetry: el.kode_symmetry || \"-\",\r\n            fluorescence: el.kode_fluorescence || \"-\",\r\n            size: el.size || 0\r\n          }\r\n          berlian.push(row)\r\n        });\r\n        setItem('data_batu',berlian)\r\n        setItem('total_usd',row.total_usd)\r\n        setItem(\"data_kategori_jenis\", dataEdit);\r\n        this.props.dispatch(FormModal('FormTambahBarang'))\r\n        this.props.dispatch(showModal());\r\n        this.props.dispatch(showEditBarang(dataEdit));\r\n      });\r\n\r\n  }\r\n\r\n  showModalTambahBarang(data) {\r\n    // console.log(data);\r\n    this.setState({\r\n      loadingmodal : true,\r\n    })\r\n    if((getItem('module')||[]).findIndex((list)=> list.value === \"true\")>=0){\r\n      postDataNoTImeOut2(\"penerimaan-suplier/ready-input?kode_dept=\" + data.kode_jenis).then((res)=>{\r\n        setItem('saldo_supplier',res.data.saldo)\r\n        this.props.dispatch(showModal());\r\n        // this.setState({\r\n        //   formTambahBarang: true,\r\n        // });\r\n        this.props.dispatch(FormModal('FormTambahBarang'))\r\n      }).catch((err)=>{\r\n        ToastNotification('info','Terjadi Kesalhaan Saat Request Data, Coba Lagi')\r\n        // this.setState({\r\n        //   formTambahBarang: true,\r\n        // });\r\n        this.props.dispatch(FormModal('FormTambahBarang'))\r\n\r\n      })\r\n    }else{\r\n      this.props.dispatch(showModal());\r\n    }\r\n    this.props.dispatch(showEditBarang(data));\r\n    setItem(\"data_kategori_jenis\", data);\r\n    // this.setState({\r\n    //   formTambahBarang: true,\r\n    // });\r\n    this.props.dispatch(FormModal('FormTambahBarang'))\r\n\r\n  \r\n  }\r\n\r\n  showBarangPesanan = () => {\r\n    // this.setState({\r\n    //   fromModalPesanan: true,\r\n    //   formTambahBarang: false,\r\n    // });\r\n    this.props.dispatch(FormModal('fromModalPesanan'))\r\n\r\n    this.props.dispatch(showModal());\r\n    this.props.dispatch(showModalPesanan());\r\n  };\r\n\r\n  getBarangPesanan() {\r\n    getData(\"pesanan/no/\" + this.state.noPesanan)\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => ToastNotification('info',err.response.data));\r\n  }\r\n\r\n  handleSubmit(data) {\r\n    this.setState({ isLoading: true });\r\n   \r\n    let hasil = {\r\n      nama_barang: data.nama_barang,\r\n      nama_atribut: data.nama_atribut,\r\n      harga_atribut: data.harga_atribut,\r\n      kode_intern: data.kode_intern,\r\n      kadar: data.kadar,\r\n      kadar_cetak: data.kadar_cetak,\r\n    };\r\n    const file = data.foto !== undefined  ? dataURLtoFile(data.foto) : undefined ;\r\n\r\n    postData(\"barang/edit/\" + data.kode_barcode, hasil)\r\n      .then(() => {\r\n        this.props.dispatch(hideModal());\r\n      })\r\n      .then(() => {\r\n        if(file !== undefined){\r\n          postImage(file,'foto_produk/'+data.kode_barcode).then((res)=>{\r\n          }).catch((err)=>{\r\n            ToastNotification('info', \"upload Foto Gagal, Silahkan Edit Didata Barang\")\r\n          })\r\n        }\r\n      })\r\n      .then(() => {\r\n        this.setState({ databarang: [] });\r\n        this.props.dispatch(reset(\"HeadEditDataBarang\"));\r\n        this.props.dispatch(setCamera(false));\r\n      })\r\n      .then(() => {\r\n        ToastNotification(\"success\", \"Data Berhasil Disimpan\");\r\n      })\r\n      .then(() => {\r\n        this.setState({ isLoading: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ isLoading: false });\r\n        ToastNotification(\"info\", \"Barang Gagal Di Edit\");\r\n      });\r\n  }\r\n\r\n  getNomorPesanan(nomor_pesanan) {\r\n    this.setState({\r\n      isLoadingPesanan: true\r\n    })\r\n    postData2(\"pesanan/valid/no\", { no_pesanan: nomor_pesanan.value.trim() })\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        this.setState({\r\n          isLoadingPesanan: false,\r\n        })\r\n        let kode_toko = getItem('kode_lokasi_toko')\r\n        let kode_jenis = getItem('kode_jenis')\r\n        let kode_group = getItem('kode_group')\r\n        let dataEdit = []\r\n\r\n        res.data.detail_barang.forEach((detail) => {\r\n          if (detail.kode_barcode === \"-\") {\r\n            dataEdit = {\r\n              kode_barcode: detail.kode_barcode,\r\n              nama_atribut: detail.attribut || \"-\",\r\n              harga_atribut: detail.harga_atribut || 0,\r\n              kode_intern: \"-\",\r\n              kadar: detail.perkiraan_kadar,\r\n              nama_barang: detail.keterangan,\r\n              ongkos: detail.ongkos || 0,\r\n              kadar_cetak: 0,\r\n              kadar_modal: detail.kadar_modal || 0,\r\n              kode_kategori: kode_group,\r\n              kode_jenis: kode_jenis,\r\n              kode_lokasi_toko: kode_toko,\r\n              berat: detail.perkiraan_berat,\r\n              berat_asli: detail.perkiraan_berat || 0,\r\n              berat_atribut: detail.berat_atribut || 0,\r\n              berat_plastik: detail.berat_plastik || 0,\r\n              tag_id: detail.tag_id || \"-\",\r\n              berat_bandrol: 0,\r\n              no_pesanan: nomor_pesanan.value,\r\n              status: \"PESANAN\",\r\n            };\r\n          } else {\r\n            getData(\"imagebarang/get/by-kode-barcode/\" + detail.kode_barcode)\r\n              .then((res) => {\r\n                this.setState({\r\n                  isLoadingPesanan: false,\r\n                })\r\n                dataEdit = {\r\n                  foto: res.data.dataimage || \"\",\r\n                  kode_barcode: detail.kode_barcode,\r\n                  nama_atribut: detail.attribut || \"-\",\r\n                  harga_atribut: detail.harga_atribut || 0,\r\n                  kode_intern: \"-\",\r\n                  kadar: detail.perkiraan_kadar,\r\n                  nama_barang: detail.keterangan,\r\n                  ongkos: detail.ongkos || 0,\r\n                  kadar_cetak: 0,\r\n                  kadar_modal: detail.kadar_modal || 0,\r\n                  kode_kategori: kode_group,\r\n                  kode_jenis: kode_jenis,\r\n                  kode_lokasi_toko: kode_toko,\r\n                  berat: detail.perkiraan_berat,\r\n                  berat_asli: detail.perkiraan_berat || 0,\r\n                  berat_atribut: detail.berat_atribut || 0,\r\n                  berat_plastik: detail.berat_plastik || 0,\r\n                  tag_id: detail.tag_id || \"-\",\r\n                  berat_bandrol: 0,\r\n                  no_pesanan: nomor_pesanan.value,\r\n                  status: \"PESANAN\",\r\n                };\r\n              })\r\n              .catch((err) => {\r\n                this.setState({\r\n                  isLoadingPesanan: false,\r\n                })\r\n                dataEdit = {\r\n                  kode_barcode: detail.kode_barcode,\r\n                  nama_atribut: detail.attribut || \"-\",\r\n                  harga_atribut: detail.harga_atribut || 0,\r\n                  kode_intern: \"-\",\r\n                  kadar: detail.perkiraan_kadar,\r\n                  kadar_cetak: 0,\r\n                  kadar_modal: detail.kadar_modal || 0,\r\n                  kode_kategori: kode_group,\r\n                  nama_barang: detail.keterangan,\r\n                  ongkos: detail.ongkos || 0,\r\n                  kode_jenis: kode_jenis,\r\n                  kode_lokasi_toko: kode_toko,\r\n                  berat: detail.perkiraan_berat,\r\n                  berat_asli: detail.perkiraan_berat || 0,\r\n                  berat_atribut: detail.berat_atribut || 0,\r\n                  berat_plastik: detail.berat_plastik || 0,\r\n                  tag_id: detail.tag_id || \"-\",\r\n                  berat_bandrol: 0,\r\n                  no_pesanan: nomor_pesanan.value,\r\n                  status: \"PESANAN\",\r\n                };\r\n              });\r\n          }\r\n        });\r\n        this.props.dispatch(showModal());\r\n        this.props.dispatch(showEditBarang(dataEdit));\r\n        // this.setState({\r\n        //   formTambahBarang: true,\r\n        //   fromModalPesanan: false,\r\n        // });\r\n        this.props.dispatch(FormModal('FormTambahBarang'))\r\n\r\n\r\n      })\r\n      .catch((err) => {\r\n        // console.log(err);\r\n        this.setState({\r\n          isLoadingPesanan: false,\r\n        })\r\n        ToastNotification(\r\n          \"info\",\r\n          err.response === undefined\r\n            ? \"Terjadi Kesalahan Saat Request Data\"\r\n            : err.response.data.message\r\n        );\r\n      });\r\n  }\r\n  modalBerlian(data){\r\n    // this.setState({\r\n    //   fromModalPesanan: false,\r\n    //   formTambahBarang: false,\r\n    //   formBerlian : true,\r\n    // })\r\n\r\n    this.props.dispatch(showEditBarang(data));\r\n\r\n    this.props.dispatch(FormModal('formBerlian'))\r\n\r\n  }\r\n  render() {\r\n    const expandRow = {\r\n      renderer: (row) => (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              Nama Atribut : {row.nama_atribut} <br />\r\n              Berat Atribut : {row.berat_atribut} <br />\r\n              Berat Plastik : {row.berat_plastik} <br />\r\n              Harga Atribut : {row.harga_atribut} <br />\r\n              Kode Intern : {row.kode_intern} <br />\r\n              Kadar : {row.kadar} <br />\r\n              Kadar Cetak : {row.kadar_cetak} <br />\r\n              Kode Toko : {row.kode_toko} <br />\r\n              Kode Gudang : {row.kode_gudang} <br />\r\n              Stock : {row.stock_on_hand} <br />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ),\r\n      showExpandColumn: true,\r\n      expandByColumnOnly: true,\r\n    };\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Barang</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Tambah Barang</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Tambah Barang </h1>\r\n\r\n        <Panel>\r\n          <PanelHeader>Tambah Data Barang</PanelHeader>\r\n          <br />\r\n            <PanelBody>\r\n            <FIlterPencarianBarang\r\n              onSubmit={(data) => this.showModalTambahBarang(data)}\r\n              barangPesanan={this.showBarangPesanan}\r\n            />\r\n          </PanelBody>\r\n        </Panel>\r\n        <Panel>\r\n          <PanelHeader>Data Barang</PanelHeader>\r\n          <br />\r\n          <PanelBody>\r\n            <Tabel\r\n              keyField=\"kode_barcode\"\r\n              exportCsv={true}\r\n              data={this.state.databarang}\r\n              columns={this.state.columns}\r\n              empty={true}\r\n              textEmpty={\r\n                this.state.loadingData ? (\r\n                  <>\r\n                    {\" \"}\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                    Mencari Data Barang\r\n                  </>\r\n                ) : (\r\n                  \"Data Barang Kosong\"\r\n                )\r\n              }\r\n              expandRow={expandRow}\r\n            />\r\n            </PanelBody>\r\n\r\n          <br />\r\n          {/* End Data Barang */}\r\n          <ModalGlobal\r\n            size={this.props.FormModal === \"FormTambahBarang\" ? \"l\"\r\n            : this.props.FormModal === \"fromModalPesanan\" ? \"l\" \r\n            : this.props.FormModal === \"formBerlian\" ? \"xl\"\r\n              : \"xl\"}\r\n            form={this.props.FormModal === \"formBerlian\" ? \"formBerlian\" : false}\r\n            title={\r\n              this.props.FormModal === \"FormTambahBarang\" ? \"Tambah Barang\"\r\n                : this.props.FormModal === \"fromModalPesanan\" ? \"Barang Pesanan\" \r\n                : this.props.FormModal === \"formBerlian\" ? \"Form Tambah Berlian\"\r\n                  : \"Edit Barang\"\r\n            }\r\n            content={\r\n              this.props.FormModal === \"FormTambahBarang\" ? (\r\n                <FormTambahBarang\r\n                  modalBerlian={(data)=>this.modalBerlian(data)}\r\n                  isLoading={this.state.isLoading}\r\n                  onSubmit={(data) => this.tambahbarang(data)}\r\n                />\r\n              ) : this.props.FormModal === \"fromModalPesanan\" ? (\r\n                <ModalPesanan\r\n                  isLoadingPesanan={this.state.isLoadingPesanan}\r\n                  getNomorPesanan={(no) => this.getNomorPesanan(no)}\r\n                  onSubmit={(data) => this.tambahbarang(data)}\r\n                />\r\n              ) : this.props.FormModal === \"formBerlian\" ?  \r\n                <ModalBerlian />\r\n                : \r\n                <HeadEditDataBarang\r\n                isLoading={this.state.isLoading}\r\n                onSubmit={(data) => this.handleSubmit(data)}\r\n              />\r\n              \r\n            }\r\n          />\r\n          {/* End Tambah Data Barang  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate)(TambahBarang);\r\n"],"sourceRoot":""}