(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1238:function(a,e,t){"use strict";t.r(e);var n=t(19),r=t(20),o=t(22),s=t(21),i=t(12),l=t(42),c=t(9),p=t(55),m=t(702),u=t(0),d=t.n(u),b=t(58),g=t(312),h=t(11),_=t(36),f=t(211),k=t(13),j=t(311),O=t(78),E=function(a){var e={};return a.filter||(e.filter="Filter Pencarian Tidak Boleh Kosong"),a.pencarian||(e.pencarian="Filter Pencarian Tidak Boleh Kosong"),e},v=[{value:"NO_HP",name:"NO HP"},{value:"NAMA_CUSTOMER",name:"NAMA CUSTOMER"},{value:"NO_TITIP",name:"NO TITIPAN"}],y=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={type_pembayaran:"CASH"},r}return Object(r.a)(t,[{key:"change",value:function(){document.getElementById("pencarian").focus()}},{key:"render",value:function(){var a=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-4"},d.a.createElement(j.a,{name:"filter",label:"Filter",placeholder:"Pilih Filter",onChange:function(){return a.change()},options:v,component:O.f})),d.a.createElement("div",{className:"col-4"},d.a.createElement(j.a,{id:"pencarian",name:"pencarian",label:"Pencarian",placeholder:"Masukan Pencarian",component:O.e})),d.a.createElement("div",{className:"col-4"},d.a.createElement("label",null,"\xa0"),d.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari")))))}}]),t}(u.Component);y=Object(g.a)({form:"FilterTitipan",enableReinitialize:!0,validate:E})(y);var N=Object(b.b)(function(a){var e=Object(h.g)("filter_titipan")||[];return{initialValues:{filter:e.filter,pencarian:e.pencarian}}})(y),S=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={isLoading:!1,type_pembayaran:"CASH",databarang:[],columns:[{dataField:"_id",text:"No Titip",footerAttrs:{colSpan:"3"},footer:"Total"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"no_hp",text:"No Hp"},{dataField:"total_dp",text:"Total Dp",formatter:function(a){return d.a.createElement("span",null,parseInt(a).toLocaleString("kr-KO"))},footer:function(a){return parseInt(a.reduce(function(a,e){return a+e},0)).toLocaleString("kr-KO")}},{dataField:"total_transaksi",text:"Total Transaksi",formatter:function(a){return d.a.createElement("span",null,parseInt(a).toLocaleString("kr-KO"))},footer:function(a){return parseInt(a.reduce(function(a,e){return a+e},0)).toLocaleString("kr-KO")}},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,e,t){return d.a.createElement("div",{className:"row text-center"},d.a.createElement("div",{className:"col-12"},d.a.createElement("button",{type:"button",onClick:function(){return r.pilihdata(e)},className:"btn btn-danger mr-3"},"Pilih Barang")))},footer:""}]},r}return Object(r.a)(t,[{key:"pilihdata",value:function(a){var e=Object(h.g)("data_customer_tmp");if(0!==e.length&&e.no_hp!==a.no_hp)return Object(_.e)("info","Customer Tidak Boleh Berbeda"),!1;var t=0===Object(h.l)("data_barang_penjualan_tmp").length?[]:JSON.parse(Object(h.l)("data_barang_penjualan_tmp"));if(-1!==t.findIndex(function(e){return e.kode_barcode===a.kode_barcode}))return Object(_.e)("info","Barang Sudah Ada Di Tabel"),!1;a.detail_barang.forEach(function(a){var e={no_titip_group:a.no_titip_group||"-",total_dp:a.total_dp||0,kode_barcode:a.kode_barcode||0,nama_barang:a.nama_barang||"-",nama_atribut:a.nama_atribut||"-",berat_jual:parseFloat(a.berat)||0,berat_atribut:parseFloat(a.berat_atribut)||0,harga_atribut:parseInt(a.harga_atribut)||0,harga_jual:parseInt(a.harga_jual)||0,harga_pergram:parseInt(a.harga_pergram)||0,ongkos:parseInt(a.ongkos)||0,total:parseInt(a.harga_total)||0,status_premi:a.premi?"PREMI":"NONPREMI",pembayaran:a.pembayaran};t.push(e);var n={alamat_customer:a.alamat_customer,jenis_pelanggan:"NONMEMBER"===a.kode_customer?"NONMEMBER":a.kode_customer,kode_customer:a.kode_customer,kode_sales:a.kode_sales,nama_customer:a.nama_customer,no_hp:a.no_hp},r=0;a.pembayaran.forEach(function(a){r+=a.jumlah_rp}),Object(h.p)("total_dp",r),Object(h.m)("data_customer_tmp",JSON.stringify(n))}),Object(h.m)("data_barang_penjualan_tmp",JSON.stringify(t)),this.props.dispatch(Object(p.l)(t)),this.props.dispatch(Object(c.lc)())}},{key:"filterPencarian",value:function(a){var e=this;this.setState({isLoading:!0}),Object(k.e)("titip/valid/"+a.filter+"/"+a.pencarian).then(function(t){0===t.data.length&&Object(_.e)("info","Data Yang Anda Cari Tidak Ada"),e.setState({databarang:t.data,isLoading:!1});var n={filter:a.filter,pencarian:a.pencarian,data_barang:t.data};Object(h.p)("filter_titipan",n)}).catch(function(a){e.setState({isLoading:!1}),Object(_.e)("info",void 0===a.response?"Terjadi Kesalahan Saat Request Data":a.response.data.message)})}},{key:"render",value:function(){var a=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement(N,{isLoading:this.state.isLoading,onSubmit:function(e){return a.filterPencarian(e)}}),d.a.createElement(f.a,{keyField:"kode_barcode",exportCsv:!1,data:0===this.state.databarang.length?Object(h.g)("filter_titipan").data_barang||[]:this.state.databarang,columns:this.state.columns,empty:!0,textEmpty:"Data Barang Kosong"}))}}]),t}(u.Component);S=Object(g.a)({form:"AmbilTitipan",enableReinitialize:!0})(S);var I=Object(b.b)()(S),T=function(a){var e={};return a.kode_sales||(e.kode_sales="Kode Sales Harus Dipilih"),e},M=[{value:"MEMBER",name:"MEMBER"},{value:"NONMEMBER",name:"NON MEMBER"}],B=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={showMember:!0},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(c.Wb)());var a=0===Object(i.J)("data_customer_tmp").length?[]:JSON.parse(Object(i.J)("data_customer_tmp")||[]);a&&"MEMBER"===a.jenis_pelanggan?this.setState({showMember:!1}):(this.setState({showMember:!0}),this.props.change("jenis_pelanggan","NONMEMBER"))}},{key:"changemember",value:function(a){"MEMBER"===a?(this.setState({showMember:!1}),document.getElementById("kode_member").focus(),this.props.change("kode_customer","")):(this.props.change("kode_customer","NONMEMBER"),document.getElementById("nama_customer").focus(),this.props.change("nama_customer",""),this.props.change("no_hp",""),this.props.change("alamat_customer",""),this.setState({showMember:!0}))}},{key:"getMember",value:function(a){var e=this;Object(i.A)("member/get/by-kode-member/"+a).then(function(a){0===a.data.length?Object(i.t)("info","Member Yang Anda Masukan Tidak Ada !!!"):a.data.forEach(function(a,t){e.props.change("nama_customer",a.nama_customer),e.props.change("no_hp",a.no_hp),e.props.change("alamat_customer",a.alamat_customer)})}).catch(function(a){Object(i.t)("info","Terjadi Kesalahan SIlahkan Ulangi Kembali !!!")})}},{key:"render",value:function(){var a=this;return i.n.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,{name:"kode_sales",label:"Pilih Kode Sales",placeholder:"Masukan Kode Sales",options:this.props.DataSales.filter(function(a){return void 0!==a.kode_sales}).map(function(a){return{value:a.kode_sales,name:a.kode_sales}}),component:i.q})),i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,{id:"jenis_pelanggan",name:"jenis_pelanggan",label:"Pilih Pelanggan",onChange:function(e){return a.changemember(e)},placeholder:"Silahkan Pilih Pelanggan",options:M,component:i.q})),i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,{id:"kode_member",name:"kode_customer",onChange:function(e){return a.getMember(e.target.value)},component:i.p,type:"text",readOnly:this.state.showMember,label:"Kode Customer",placeholder:"Masukan Kode Customer"})),i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,{id:"nama_customer",name:"nama_customer",component:i.p,type:"text",label:"Nama Customer",placeholder:"Masukan Nama Customer",normalize:function(a){return a&&a.toUpperCase()}})),i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,{name:"no_hp",component:i.p,type:"text",normalize:i.j,label:"No Hp",placeholder:"Masukan No Hp"})),i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,{name:"alamat_customer",component:i.p,type:"textarea",label:"Alamat Customer",placeholder:"Masukan Alamat Customer"}))),i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-8"}),i.n.createElement("div",{className:"col-4"},i.n.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingDataCustomer,type:"submit"},this.props.isLoadingDataCustomer?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))))}}]),t}(i.b);B=Object(i.Q)({form:"ModalDataCustomer",enableReinitialize:!0,validate:T})(B);var F=Object(i.u)(function(a){var e=0===Object(i.J)("data_customer_tmp").length?[]:JSON.parse(Object(i.J)("data_customer_tmp")||[]);return{initialValues:{kode_sales:e.kode_sales||"",jenis_pelanggan:e.jenis_pelanggan||"",kode_customer:e.kode_customer||"",nama_customer:e.nama_customer||"",no_hp:e.no_hp||"",alamat_customer:e.alamat_customer||""},DataSales:a.datamaster.getDataSales}})(B),x=t(686),C=Object(i.w)({prefix:"Rp. ",locale:"kr-KO"}),P=[{value:"CASH",name:"CASH"},{value:"DEBET",name:"DEBET"},{value:"TRANSFER",name:"TRANSFER"},{value:"CREDIT",name:"CREDIT"}],A=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={isLoading:!1,type_pembayaran:"CASH",tampilPont:!1,columns:[{dataField:"type",text:"Type",footerAttrs:{colSpan:"1"},footer:"Grand Total"},{dataField:"Total",text:"Total",footer:""}]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var a=this;this.props.dispatch(Object(c.Wb)());var e=JSON.parse(Object(i.J)("data_barang_penjualan_tmp"));setTimeout(function(){var e=Object(i.j)(document.getElementById("grand_total_pembayaran").value),t=Object(i.j)(document.getElementById("total_dp").value);if(parseInt(t)>=parseInt(e)){a.props.change("harus_bayar_rp",parseInt(0));var n=parseInt(e)-parseInt(t);a.props.change("kembali",n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}else a.props.change("harus_bayar_rp",parseInt(e)-parseInt(t))},100);var t=Object(i.E)("total_dp");this.props.change("total_dp",t);var n=0;e.forEach(function(e,t){n+=e.total,a.props.change("grand_total_pembayaran",n),a.props.change("harus_bayar_rp",n)}),this.props.change("jenis","CASH"),setTimeout(function(){document.getElementById("cash_trx_penjualan").focus()},100)}},{key:"hitungTotal",value:function(){this.props.change("kembali",this.props.kembali),this.props.change("nominal_kembali",this.props.nominal_kembali)}},{key:"pilihPembyaran",value:function(a){"CASH"===a?this.setState({type_pembayaran:"CASH"}):"TRANSFER"===a?this.setState({type_pembayaran:"TRANSFER"}):"DEBET"===a?this.setState({type_pembayaran:"DEBET"}):this.setState({type_pembayaran:"CREDIT"}),this.props.change("cash","")}},{key:"copyValue",value:function(a){this.props.change("cash",parseInt(Object(i.j)(a)))}},{key:"getPoin",value:function(a){var e=this;Object(i.S)("poin_penjualan_member",parseInt(a)||0),Object(k.e)("para-system/key/CASHBACK_POIN").then(function(t){var n=parseInt(a||0)*parseInt(t.data.value||0);e.props.change("konversi_poin",n)})}},{key:"render",value:function(){var a=this;return i.n.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,Object.assign({id:"grand_total_pembayaran",name:"grand_total_pembayaran",component:i.p,type:"text",onChange:this.hitungTotal(),readOnly:!0},C,{label:"Total Harga Jual",placeholder:"Total Harga Jual"}))),i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,Object.assign({id:"total_dp",name:"total_dp",component:i.p,type:"text",onChange:this.hitungTotal(),readOnly:!0},C,{label:"Total Dp",placeholder:"Total Dp"}))),i.n.createElement("div",{className:"col-4"},i.n.createElement(i.c,Object.assign({id:"harus_bayar_rp",name:"harus_bayar_rp",component:i.p,type:"text",onChange:this.hitungTotal(),readOnly:!0},C,{label:"Harus Bayar Rp",placeholder:"Harus Bayar Rp"}))),i.n.createElement("div",{className:"col-6"},i.n.createElement(i.c,{name:"jenis",label:"Pilih Jenis Bayar",placeholder:"Pilih Jenis Pembayaran",options:P,onChange:function(e){return a.pilihPembyaran(e)},component:i.q})),i.n.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":(this.state.type_pembayaran,"block")}},i.n.createElement(i.c,{tabIndex:"1",name:"nama_bank",id:"nama_bank",component:i.p,type:"text",label:"Bank",placeholder:"Masukan Nama Bank"})),i.n.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":"DEBET"===this.state.type_pembayaran?"none":"block"}},i.n.createElement(i.c,{tabIndex:"1",name:"no_card",id:"no_card",component:i.p,type:"text",normalize:i.j,label:"TRANSFER"===this.state.type_pembayaran?"No Rek":"Card No",placeholder:"TRANSFER"===this.state.type_pembayaran?"Masukan No Rek":"Masukan Card No"})),i.n.createElement("div",{className:"col-6"},i.n.createElement(i.c,Object.assign({tabIndex:"1",name:"cash",id:"cash_trx_penjualan",component:i.p,type:"text",label:"Nominal",onChange:this.hitungTotal()},C,{normalize:i.j,placeholder:"Masukan Nominal"}))),i.n.createElement("div",{className:"col-6",style:{display:"CREDIT"===this.state.type_pembayaran?"block":"none"}},i.n.createElement(i.c,{tabIndex:"1",name:"fee",id:"fee",component:i.p,type:"text",label:"Fee (%)",normalize:i.j,placeholder:"5"})),i.n.createElement("div",{className:"col-6 d-none"},i.n.createElement(i.c,{tabIndex:"1",id:"nominal_kembali",name:"nominal_kembali",component:i.p,type:"text",label:"Nominal",placeholder:"Masukan Nominal"})),i.n.createElement("div",{className:"col-6"},i.n.createElement(i.c,{name:"kembali",id:"sisa_bayar",component:i.p,type:"text",readOnly:!0,label:"Sisa",onFocus:function(e){return a.copyValue(e.target.value)},placeholder:"Sisa Pembayaran"})),i.n.createElement("div",{className:"CASH"===this.state.type_pembayaran?"col-6 text-right":"TRANSFER"===this.state.type_pembayaran?"col-6 text-right":"col-12 text-right"},i.n.createElement("br",null),i.n.createElement("label",null,"\xa0"),i.n.createElement("button",{tabIndex:"2",className:"btn btn-primary",disabled:!this.props.lebih}," ",i.n.createElement("i",{className:"fa fa-plus"}))),i.n.createElement("div",{className:"col-12 text-right"},"MEMBER"===Object(i.E)("data_customer_tmp").jenis_pelanggan?i.n.createElement(i.n.Fragment,null,!1===this.state.tampilPont?i.n.createElement(i.n.Fragment,null,i.n.createElement("button",{type:"button",onClick:function(){a.setState({tampilPont:!0}),setTimeout(function(){document.getElementById("poin").focus()},100)},className:"btn btn-primary"},"Cashback Poin \xa0 ",i.n.createElement("i",{className:"fa fa-plus"}))):i.n.createElement(i.n.Fragment,null,i.n.createElement("button",{type:"button",onClick:function(){a.setState({tampilPont:!1}),a.props.change("poin",""),a.props.change("konversi_poin","")},className:"btn btn-primary"},"Cashback Poin \xa0 ",i.n.createElement("i",{className:"fa fa-plus"})))):null),!0===this.state.tampilPont?i.n.createElement(i.n.Fragment,null,i.n.createElement("div",{className:"col-12 text-right"},"\xa0"),i.n.createElement("div",{className:"col-6"},i.n.createElement(i.c,{name:"poin",id:"poin",component:i.p,type:"text",label:"Poin",onChange:function(e){return a.getPoin(e.target.value)},normalize:i.j,placeholder:"Masukan Poin"})),i.n.createElement("div",{className:"col-6"},i.n.createElement(i.c,Object.assign({name:"konversi_poin",component:i.p,type:"text",label:"Konversi Poin Ke Rupiah"},C,{readOnly:!0,placeholder:"Konversi Poin Ke Rupiah"})))):null))}}]),t}(i.b);A=Object(i.Q)({form:"HeadInputPembayaran",enableReinitialize:!0,validate:x.a})(A);var L=Object(i.y)("HeadInputPembayaran"),K=Object(i.u)(function(a){var e=L(a,"harus_bayar_rp","cash"),t=e.cash,n=e.harus_bayar_rp,r=JSON.parse(localStorage.getItem("trx_pemabayran_penjualan"))||[],o=0;r.forEach(function(a){o=a.nominal+o});var s=parseFloat(o||0)-parseFloat(n||0);return{status:parseInt(n)>=parseInt(s),kembali:s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),nominal_cash:t,nominal_kembali:s+parseInt(t),lebih:s<0}})(A),R=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={isLoading:!1,status_btn:!1,type_pembayaran:"CASH",kembalian:"",columns:[{dataField:"jenis",text:"Jenis",footerAttrs:{colSpan:"2"},footer:"Grand Total"},{dataField:"keterangan",text:"Keterangan"},{dataField:"nominal",text:"Total",formatter:function(a){return i.n.createElement("span",null,parseInt(a).toLocaleString("kr-KO"))},footer:function(a){return parseInt(a.reduce(function(a,e){return a+e},0)).toLocaleString("kr-KO")}},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,e,t){return i.n.createElement("div",{className:"row text-center"},i.n.createElement("div",{className:"col-12"},i.n.createElement("button",{type:"button",disabled:"TITIPAN"===e.keterangan,onClick:function(){return r.hapusdata(t)},className:"btn btn-danger mr-3"},i.n.createElement("i",{className:"fa fa-trash"}))))},footer:""}]},r}return Object(r.a)(t,[{key:"hapusdata",value:function(a){var e=this;i.r.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(t){if(t.isConfirmed){var n=Object(i.E)("trx_pemabayran_penjualan");n.splice(a,1),Object(i.S)("trx_pemabayran_penjualan",n),localStorage.removeItem("data_tukar_barang_temp"),e.props.dispatch(Object(p.m)([])),Object(i.S)("sisa_bayar_penjualan",[]);var r=document.getElementById("harus_bayar_rp").value,o=JSON.parse(localStorage.getItem("trx_pemabayran_penjualan"))||[],s=0;o.forEach(function(a){s+=a.nominal}),parseInt(s)>=parseInt(Object(i.j)(r))?e.setState({status_btn:!0}):e.setState({status_btn:!1})}})}},{key:"simpanPembayaran",value:function(a){if(void 0===a.no_card&&"CASH"!==a.jenis&&"DEBET"!==a.jenis)return Object(i.t)("info","Nomor kartu tidak boleh kosong"),!1;if(void 0===a.nama_bank&&"CASH"!==a.jenis)return Object(i.t)("info","Nama Bank tidak boleh kosong"),!1;if(void 0===a.cash||"0"===a.cash)return Object(i.t)("info","Nominal tidak boleh kosong"),!1;var e={total_transaksi:a.harus_bayar_rp,sisa_bayar:a.nominal_kembali};Object(i.S)("sisa_bayar_penjualan",e);var t=JSON.parse(localStorage.getItem("trx_pemabayran_penjualan"))||[];if("CASH"===a.jenis||t.length){if("CASH"!==a.jenis){if(a.kembali.replace(/[^0-9]/g,"")-a.cash<0&&0!==parseInt(a.kembali))return Object(i.t)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(t.reduce(function(a,e){return a+e.nominal},0)>=a.harus_bayar_rp)return Object(i.t)("info","Pembayaran Sudah Cukup"),!1}}else if(a.kembali.replace(/[^0-9]/g,"")-a.cash<0)return Object(i.t)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(t.findIndex(function(a){return"CASH"===a.jenis})>=0){if(a.kembali.replace(/[^0-9]/g,"")-a.cash<0&&t.reduce(function(a,e){return a+e.nominal},0)>a.harus_bayar_rp)return Object(i.t)("info","Pembayaran Sudah Cukup"),!1;if(t.reduce(function(a,e){return a+e.nominal},0)>=a.harus_bayar_rp)return Object(i.t)("info","Pembayaran Sudah Cukup"),!1}if(-1===t.findIndex(function(e){return e.jenis===a.jenis})){var n="";n="CASH"===a.jenis?"CASH":"TRANSFER"===a.jenis?a.no_card+" - "+a.nama_bank:a.nama_bank;var r={jenis:a.jenis,nominal:parseInt(a.cash),nama_bank:void 0!==a.nama_bank?a.nama_bank.toUpperCase():"-",fee:"CREDIT"===a.jenis&&a.fee||0,no_card:a.no_card||"-",keterangan:n.toUpperCase(),kembali:a.nominal_kembali};t.push(r),this.setState({masuk:!0,kembalian:a.kembali}),Object(i.S)("trx_pemabayran_penjualan",t)}else{var o=Object(i.E)("trx_pemabayran_penjualan");o=o.map(function(e){return e.jenis===a.jenis&&(e.nominal+=parseInt(a.cash)),e}),Object(i.S)("trx_pemabayran_penjualan",o),this.setState({status:!0,kembalian:a.kembalian})}var s=0;t.forEach(function(a){s+=a.nominal}),parseInt(s)>=parseInt(a.harus_bayar_rp)?this.setState({status_btn:!0}):this.setState({status_btn:!1})}},{key:"render",value:function(){var a=this;return i.n.createElement(i.n.Fragment,null,i.n.createElement(K,{onSubmit:function(e){return a.simpanPembayaran(e)}}),i.n.createElement("hr",null),i.n.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},i.n.createElement(i.s,{keyField:"jenis",exportCsv:!1,data:Object(i.E)("trx_pemabayran_penjualan")||[],columns:this.state.columns,empty:!0,pagination:"off",textEmpty:"Data Pembayaran Kosong"}),i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-6 text-right"},i.n.createElement("button",{className:"btn btn-primary",disabled:this.props.isLoadingPembayran,onClick:function(){return a.props.simpanPembayaran()},type:"button"},this.props.isLoadingPembayran?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Diproses"):"Bayar Sekarang")),i.n.createElement("div",{className:"col-6"},i.n.createElement("button",{className:"btn btn-outline-primary",disabled:!(!this.props.isLoadingPembayranTitipan&&"TITIPAN"!==this.props.status)||!!this.state.status_btn,onClick:function(){return a.props.bayarTitipan()},type:"button"},this.props.isLoadingPembayranTitipan?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Diproses"):"Bayar DP")))))}}]),t}(i.b);R=Object(i.Q)({form:"ModalPembayaran",enableReinitialize:!0,validate:x.a})(R);var J=Object(i.u)(function(a){var e=Object(i.E)("data_barang_penjualan_tmp")||[],t="PENJUALAN";return e.forEach(function(a){t="-"===a.no_titip_group?"PENJUALAN":"TITIPAN"}),{status:t}})(R),D=t(103),w=t.n(D),H=t(160),U=function(a){var e={};return a.kode_barcode||(e.kode_barcode="Kode Barcode Tidak Boleh Kosong"),a.nama_customer||(e.nama_customer="Nama Customer Tidak Boleh Kosong"),a.no_hp||(e.no_hp="No HP Tidak Boleh Kosong"),a.alamat_customer||(e.alamat_customer="Alamat Customer Tidak Boleh Kosong"),e},z=t(210),G=t.n(z),W=t(142),q=Object(i.w)({prefix:"Rp. ",locale:"kr-KO"}),Q=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).getValue=function(){var a=Object(H.a)(w.a.mark(function a(e){var t,n;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.target.files[0],a.next=3,Object(i.v)(t);case 3:n=a.sent,r.props.change("foto",n),r.props.dispatch(Object(l.t)(n)),r.setState({gambar:n});case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),r.state={ModalWebCam:!1,isLoading:!1,harga_jual:!0,berat_jual:!0,hargapergram:!0,otorisasi:!1,ongkos:!0,total:!0,gambar:!1},r}return Object(r.a)(t,[{key:"showModalWebcam",value:function(){this.props.dispatch(Object(l.t)(!1)),this.props.dispatch(Object(i.T)()),this.setState({ModalWebCam:!0})}},{key:"handleTakePhoto",value:function(a){this.props.dispatch(Object(l.t)(a)),this.props.change("foto",a),this.setState({ModalWebCam:!1})}},{key:"getBarcode",value:function(a){var e=this;clearTimeout(this.delay);var t=(Object(h.g)("module")||[]).findIndex(function(a){return"BERLIAN_MODULE"===a.key});this.delay=setTimeout(function(){e.setState({isLoading:!0});var n=(JSON.parse(localStorage.getItem("data_barang_penjualan_tmp"))||[]).findIndex(function(e){return e.kode_barcode===a});document.body.style.cursor="wait",-1===n?Object(i.A)("barang/ready/kode-barcode/"+a).then(function(n){e.setState({isLoading:!1}),0===n.data.length?(Object(i.t)("info","Kode Barcode Tidak Ada"),e.props.change("is_berlian",!1),e.props.change("total_usd",""),e.props.change("ongkos_berlian",""),e.props.change("profit",""),e.props.change("curr",""),e.props.change("total_berlian_rp",""),e.props.change("nama_barang",""),e.props.change("nama_atribut",""),e.props.change("berat_atribut",""),e.props.change("harga_atribut",""),e.props.change("harga_jual",""),e.props.change("harga_jual_tmp",""),e.props.change("berat",""),e.props.change("harga_pergram",""),e.props.change("kadar",""),e.props.dispatch(Object(l.t)(!1)),e.props.change("foto",""),document.body.style.cursor="initial"):Object(k.i)("foto_produk/"+a).then(function(a){""===a.data?(e.setState({isLoading:!1}),document.body.style.cursor="initial",n.data.forEach(function(a,n){e.props.change("is_berlian",a.is_berlian);var r=0,o=0,s=0,i=0;if("PTR"===Object(h.j)().kode_toko)r=parseInt(a.kadar)/100*parseFloat(a.berat)*parseFloat(a.harga_skrg),o=parseInt(a.kadar)/100*parseFloat(a.berat)*parseFloat(a.harga_skrg),s=a.harga_skrg;else if(-1===t)s=parseInt(a.harga_jual)/parseFloat(a.berat),r=a.harga_jual,o=a.harga_jual;else{var c=a.harga_jual+parseInt(a.total_berlian_rp);r=i=parseInt(c||0)+parseInt(c||0)*parseFloat(a.profit||0)/100,o=a.harga_jual}if(e.props.change("harga_total_profit",i),e.props.change("total_usd",a.total_usd),e.props.change("ongkos_berlian",a.ongkos_berlian),e.props.change("profit",a.profit),e.props.change("curr",a.curr),e.props.change("total_berlian_rp",a.total_berlian_rp),e.props.change("nama_barang",a.nama_barang),e.props.change("nama_atribut",a.nama_atribut),e.props.change("berat_atribut",a.berat_atribut),e.props.change("harga_atribut",a.harga_atribut),e.props.change("harga_jual",r),e.props.change("harga_jual_asli",r),e.props.change("harga_jual_tmp",o),e.props.change("berat",a.berat),e.props.change("harga_skrg",a.harga_skrg),e.props.change("harga_pergram",s),e.props.change("berat_tmp",a.berat),e.props.change("kadar",a.kadar),e.props.dispatch(Object(l.t)(!1)),e.props.change("foto",""),document.getElementById("berat").focus(),"PTR"===Object(h.j)().kode_toko){var p=parseFloat(r||0)+parseInt(a.ongkos||0)+parseInt(a.harga_atribut||0);e.props.change("total",p)}else{var m=parseInt(r||0)+parseInt(a.ongkos||0)+parseInt(a.harga_atribut||0);e.props.change("total",Object(h.n)(m))}e.setState({harga_jual:!1,berat_jual:!1,hargapergram:!1,ongkos:!1,harga_baru:r})})):(e.setState({isLoading:!1}),document.body.style.cursor="initial",e.props.dispatch(Object(l.t)(a)),e.props.change("foto",a),n.data.forEach(function(a,n){var r=0,o=0,s=0,i=0;if("PTR"===Object(h.j)().kode_toko)r=parseInt(a.kadar)/100*parseFloat(a.berat)*parseFloat(a.harga_skrg),o=parseInt(a.kadar)/100*parseFloat(a.berat)*parseFloat(a.harga_skrg),s=a.harga_skrg;else if(-1===t)s=parseInt(a.harga_jual)/parseFloat(a.berat),r=a.harga_jual,o=a.harga_jual;else{var l=a.harga_jual+parseInt(a.total_berlian_rp);r=i=parseInt(l||0)+parseInt(l||0)*parseFloat(a.profit||0)/100,o=a.harga_jual}if(e.props.change("harga_total_profit",i),e.props.change("is_berlian",a.is_berlian),e.props.change("total_usd",a.total_usd),e.props.change("ongkos_berlian",a.ongkos_berlian),e.props.change("profit",a.profit),e.props.change("curr",a.curr),e.props.change("total_berlian_rp",a.total_berlian_rp),e.props.change("nama_barang",a.nama_barang),e.props.change("nama_atribut",a.nama_atribut),e.props.change("berat_atribut",a.berat_atribut),e.props.change("harga_atribut",a.harga_atribut),e.props.change("harga_jual_tmp",o),e.props.change("harga_jual",r),e.props.change("harga_jual_asli",r),e.props.change("berat",a.berat),e.props.change("harga_pergram",s),e.props.change("kadar",a.kadar),e.props.change("harga_skrg",a.harga_skrg),e.props.change("berat_tmp",a.berat),document.getElementById("berat").focus(),"PTR"===Object(h.j)().kode_toko){var c=parseFloat(r||0)+parseInt(a.ongkos||0)+parseInt(a.harga_atribut||0);e.props.change("total",c)}else{var p=parseInt(r||0)+parseInt(a.ongkos||0)+parseInt(a.harga_atribut||0);e.props.change("total",Object(h.n)(p))}e.setState({harga_jual:!1,berat_jual:!1,hargapergram:!1,ongkos:!1,harga_baru:r})}))}).catch(function(a){e.setState({isLoading:!1}),document.body.style.cursor="initial",e.props.change("foto",""),e.props.dispatch(Object(l.t)(!1)),n.data.forEach(function(a,n){var r=0,o=0,s=0,i=0;if("PTR"===Object(h.j)().kode_toko)r=parseInt(a.kadar)/100*parseFloat(a.berat)*parseFloat(a.harga_skrg),o=parseInt(a.kadar)/100*parseFloat(a.berat)*parseFloat(a.harga_skrg),s=a.harga_skrg;else if(-1===t)s=parseInt(a.harga_jual)/parseFloat(a.berat),r=a.harga_jual,o=a.harga_jual;else{s=parseInt(a.harga_jual)/parseFloat(a.berat);var l=a.harga_jual+parseInt(a.total_berlian_rp);r=i=parseInt(l||0)+parseInt(l||0)*parseFloat(a.profit||0)/100,o=a.harga_jual}if(e.props.change("harga_total_profit",i),e.props.change("is_berlian",a.is_berlian),e.props.change("total_usd",a.total_usd),e.props.change("ongkos_berlian",a.ongkos_berlian),e.props.change("profit",a.profit),e.props.change("curr",a.curr),e.props.change("total_berlian_rp",a.total_berlian_rp),e.props.change("nama_barang",a.nama_barang),e.props.change("nama_atribut",a.nama_atribut),e.props.change("berat_atribut",a.berat_atribut),e.props.change("harga_atribut",a.harga_atribut),e.props.change("harga_jual_tmp",o),e.props.change("harga_jual",r),e.props.change("harga_jual_asli",r),e.props.change("berat",a.berat),e.props.change("harga_pergram",s),e.props.change("kadar",a.kadar),e.props.change("harga_skrg",a.harga_skrg),e.props.change("berat_tmp",a.berat),document.getElementById("berat").focus(),"PTR"===Object(h.j)().kode_toko){var c=parseFloat(r||0)+parseInt(a.ongkos||0)+parseInt(a.harga_atribut||0);e.props.change("total",c)}else{var p=parseInt(r||0)+parseInt(a.ongkos||0)+parseInt(a.harga_atribut||0);e.props.change("total",Object(h.n)(p))}e.setState({harga_jual:!1,berat_jual:!1,hargapergram:!1,ongkos:!1,harga_baru:r})})})}).catch(function(a){var t,n;(e.props.change("is_berlian",!1),e.props.change("total_usd",""),e.props.change("ongkos_berlian",""),e.props.change("profit",""),e.props.change("curr",""),e.props.change("total_berlian_rp",""),e.props.change("nama_barang",""),e.props.change("nama_atribut",""),e.props.change("berat_atribut",""),e.props.change("harga_atribut",""),e.props.change("harga_jual",""),e.props.change("harga_jual_tmp",""),e.props.change("berat",""),e.props.change("harga_pergram",""),e.props.change("kadar",""),e.props.change("berat_tmp",""),e.props.dispatch(Object(l.t)(!1)),e.props.change("foto",""),e.setState({isLoading:!1}),document.body.style.cursor="initial",404!==(null===(t=a.response)||void 0===t?void 0:t.status))&&Object(i.t)("info",(null===(n=a.response)||void 0===n?void 0:n.data)||"Terjadi Keslahaan Saat Request Data")}):(e.setState({isLoading:!1}),document.body.style.cursor="initial",Object(i.t)("info","Barang Sudah Ada Di Tabel"))},1500)}},{key:"hitungTotal",value:function(a){var e=0;e="PTR"===Object(h.j)().kode_toko?this.props.harga_atribut+this.props.harga_jual+parseInt(a.target.value||"0"):Object(h.n)(this.props.harga_atribut+this.props.harga_jual+parseInt(a.target.value||"0")),this.props.change("total",e)}},{key:"onChangeOngkos",value:function(a){var e=0;if("PTR"===Object(h.j)().kode_toko)e=parseInt(this.props.harga_atribut||0)+parseFloat(this.state.harga_baru||0)+parseInt(Object(i.j)(a.target.value)||0)||0;else if(this.props.is_berlian)e=parseInt(this.state.harga_baru||0)+parseInt(Object(i.j)(a.target.value)||0);else{var t=Object(h.n)(parseInt(this.props.harga_atribut||0)+parseInt(this.props.total_berlian_rp||0)+parseInt(this.state.harga_baru||0)+parseInt(Object(i.j)(a.target.value)||0)||0);e=parseInt(t||0)+parseInt(t||0)*parseFloat(this.props.profit||0)/100}this.props.change("total",e)}},{key:"onChangeBerat",value:function(a){if("PTR"===Object(h.j)().kode_toko){var e=parseFloat(this.props.kadar)/100*parseFloat(this.props.harga_skrg)*parseFloat(a.target.value||0)||0,t=this.props.harga_atribut+parseInt(e)+parseInt(this.props.ongkos||"0");this.props.change("total",t),this.props.change("harga_jual",e),this.setState({harga_baru:e});var n=parseInt(e)/parseFloat(a.target.value||0)*this.props.kadar/100||0;this.props.change("harga_pergram",parseInt(Math.ceil(n)||0))}else{var r=0;r=this.props.is_berlian?parseFloat(this.props.harga_jual)*parseFloat(a.target.value||0)+parseInt(this.props.ongkos||0):Object(h.n)(parseFloat(this.props.kadar)/100*parseFloat(this.props.harga_skrg)*parseFloat(a.target.value||0))||0;var o=Object(h.n)(this.props.harga_atribut+parseInt(r)+parseInt(this.props.total_berlian_rp||0)+parseInt(this.props.ongkos||0)),s=parseInt(o||0)+parseInt(o||0)*parseFloat(this.props.profit||0)/100;this.props.change("total",s),!0!==this.props.is_berlian&&this.props.change("harga_jual",r),this.setState({harga_baru:r});var i=parseInt(r)/parseFloat(a.target.value||0)*this.props.kadar/100||0;this.props.change("harga_pergram",parseInt(Math.ceil(i)||0))}}},{key:"onChangeHarga",value:function(a){var e=parseInt(Object(i.j)(a.target.value))/parseFloat(this.props.berat)*this.props.kadar/100,t=0;t=e===Math.floor(e)?parseFloat(Math.ceil(e)):parseFloat(Math.floor(e)),this.props.change("harga_pergram",t||0),this.props.change("harga_jual",Object(i.j)(a.target.value));var n=0;if("PTR"===Object(h.j)().kode_toko)n=parseInt(this.props.harga_atribut||0)+parseInt(Object(i.j)(a.target.value)||0)+parseInt(this.props.ongkos||0)||0;else if(this.props.is_berlian)n=parseInt(Object(i.j)(a.target.value)||0)+parseInt(this.props.ongkos||0);else{var r=Object(h.n)(parseInt(this.props.harga_atribut||0)+parseInt(this.props.total_berlian_rp||0)+parseInt(Object(i.j)(a.target.value)||0)+parseInt(this.props.ongkos||0)||0);n=parseInt(r||0)+parseInt(r||0)*parseFloat(this.props.profit||0)/100}this.props.change("total",n),this.setState({harga_baru:Object(i.j)(a.target.value)})}},{key:"loadcamera",value:function(){var a=this;return i.n.createElement(i.a,{onTakePhoto:function(e){a.handleTakePhoto(e)}})}},{key:"cekOtorisasi",value:function(a){var e=this,t={user_id:a.target.value,password:document.getElementById("otorisasi_penjualan_username").value};Object(k.k)("authorization",t).then(function(a){Object(i.t)("success","Otorisasi Berhasil"),localStorage.setItem("otorisasi","false"),e.setState({otorisasi:!0})}).catch(function(a){e.setState({otorisasi:!1})})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(l.t)(!1)),this.props.change("foto",""),this.props.dispatch(Object(c.Wb)()),this.props.dispatch(Object(c.Rb)()),this.props.dispatch(Object(W.e)("KATEGORI_HARGA")),setTimeout(function(){document.getElementById("kode_barcode").focus()},100)}},{key:"render",value:function(){var a=this;return i.n.createElement(i.n.Fragment,null,i.n.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-12 col-md-10"},i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-12 col-md-3"},i.n.createElement(i.c,{onChange:function(e){return a.getBarcode(e.target.value)},onBlur:function(){return a.props.change("total",a.props.total)},name:"kode_barcode",label:"Kode Barcode",type:"text",tabIndex:"1",normalize:function(a){return a.replace(/[^\d]/g,"")},id:"kode_barcode",placeholder:"Masukan Kode Barcode",component:i.p})),i.n.createElement("div",{className:"col-12 col-md-5"},i.n.createElement(i.c,{name:"is_berlian",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,{name:"harga_total_profit",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,{name:"total_berlian_rp",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,{name:"curr",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,{name:"total_usd",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,{name:"profit",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,{name:"ongkos_berlian",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,{name:"foto",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,{name:"nama_barang",label:"Nama Barang",type:"text",readOnly:!0,placeholder:"Masukan Nama Barang",component:i.p})),i.n.createElement("div",{className:"col-12 col-md-4"},i.n.createElement(i.c,{name:"nama_atribut",label:"Nama Atribut",type:"text",readOnly:!0,placeholder:"Masukan Nama Atribut",component:i.p})),i.n.createElement("div",{className:"col-12 col-md-4"},i.n.createElement(i.c,Object.assign({name:"harga_atribut",label:"Harga Atribut",type:"text"},q,{onChange:this.hitungTotal,readOnly:!0,placeholder:"Masukan Harga Atribut",component:i.p}))),i.n.createElement("div",{className:"col-12 col-md-4"},i.n.createElement(i.c,{name:"berat_atribut",label:"Berat Atribut",type:"number",readOnly:!0,placeholder:"Masukan Berat Atribut",component:i.p})),i.n.createElement("div",{className:"col-12 col-md-4"},i.n.createElement(i.c,{tabIndex:"2",id:"berat",name:"berat",label:"Berat Jual",type:"text",normalize:i.d,onChange:function(e){return a.onChangeBerat(e)},placeholder:"Masukan Berat Jual",component:i.p})),i.n.createElement("div",{className:"col-12 col-md-4"},i.n.createElement(i.c,{name:"harga_jual_tmp",type:"hidden",readOnly:!0,component:i.e}),i.n.createElement(i.c,Object.assign({tabIndex:"3",name:"harga_jual",label:"Harga Jual",type:"telp"},q,{onChange:function(e){return a.onChangeHarga(e)},readOnly:this.state.harga_jual,placeholder:"Masukan Harga Jual",component:i.p}))),i.n.createElement("div",{className:"col-12 col-md-4"},i.n.createElement(i.c,Object.assign({name:"harga_pergram",label:"Harga/Gram",type:"text",readOnly:!0},q,{placeholder:"Masukan Harga/Gram",component:i.p}))),i.n.createElement("div",{className:"col-12 col-md-4"},i.n.createElement(i.c,{id:"marketplace",label:"Marketplace",name:"marketplace",options:this.props.getDataMarketplace.filter(function(a){return void 0!==a.kode_marketplace}).map(function(a){return{value:a.kode_marketplace,name:a.kode_marketplace+" - "+a.nama_marketplace}}),placeholder:"Silahkan Pilih Marketplace",component:i.q})),i.n.createElement("div",{className:"col-12 col-md-4 d-none"},i.n.createElement(i.c,Object.assign({name:"berat_tmp",label:"Berat Tmp",type:"telp",readOnly:!0},q,{placeholder:"Masukan Harga Sekarang",component:i.p}))),i.n.createElement("div",{className:"col-12 col-md-4 d-none"},i.n.createElement(i.c,Object.assign({name:"harga_skrg",label:"Harga Sekarang",type:"telp",readOnly:!0},q,{placeholder:"Masukan Harga Sekarang",component:i.p}))),i.n.createElement("div",{className:"col-12 col-md-4 d-none"},i.n.createElement(i.c,Object.assign({name:"kadar",label:"Harga Sekarang",type:"telp",readOnly:!0},q,{placeholder:"Masukan Harga Sekarang",component:i.p}))),i.n.createElement("div",{className:"col-12 col-md-2 d-none"},i.n.createElement(i.c,{tabIndex:"4",name:"premi",label:"Premi",type:"checkbox",id:"switcher_checkbox_1",component:i.o})),i.n.createElement("div",{className:"col-12 col-md-6"},i.n.createElement(i.c,Object.assign({tabIndex:"3",name:"ongkos",label:"Ongkos",type:"telp"},q,{onChange:function(e){return a.onChangeOngkos(e)},readOnly:this.state.harga_jual,placeholder:"Masukan Harga Jual",component:i.p}))),i.n.createElement("div",{className:"col-12 col-md-6"},i.n.createElement(i.c,Object.assign({name:"total",label:"Total",type:"telp",readOnly:this.state.total,placeholder:"Masukan Total",component:i.p},q))))),i.n.createElement("div",{className:"col-12 col-md-2"},i.n.createElement("label",null,"Photo"),i.n.createElement("div",{className:"card image-upload"},!0===this.state.ModalWebCam?i.n.createElement("div",{className:"container"},this.loadcamera()):i.n.createElement("img",{alt:"img",name:"foto",src:!1===this.props.setCamera?i.H:void 0===this.props.setCamera?i.H:this.props.setCamera,height:"140px"})))),i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-4"},i.n.createElement("label",null," \xa0"),i.n.createElement("button",{tabIndex:"5",className:"btn btn-primary btn-block",disabled:!!this.state.isLoading||0===this.props.total,type:"submit"},this.state.isLoading?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data")),i.n.createElement("div",{className:"col-4"},i.n.createElement("label",null," \xa0"),i.n.createElement("button",{onClick:this.props.hideModal,className:"btn btn-outline-secondary btn-block",disabled:!!this.state.isLoading,type:"button"},this.state.isLoading?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Tutup"):"Tutup")),i.n.createElement("div",{className:"col-2"},i.n.createElement("label",null," \xa0"),i.n.createElement("div",{className:"input-group"},i.n.createElement("div",{className:"custom-file"},i.n.createElement("input",{type:"file",name:"photo",autoComplete:"off",className:"custom-file-input",id:"exampleInputFile",onChange:function(e){return a.getValue(e)}}),i.n.createElement("label",{className:"custom-file-label",htmlFor:"exampleInputFile"},"Pilih gambar")))),i.n.createElement("div",{className:"col-2"},i.n.createElement("label",null," \xa0"),i.n.createElement("button",{className:"btn btn-block btn-primary",type:"button",onClick:function(){return a.showModalWebcam()}}," ","WebCam"," ")))),this.state.isLoading?i.n.createElement(G.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),t}(i.b);Q=Object(i.Q)({form:"ModalTambahBarang",enableReinitialize:!0,validate:U})(Q);var V=Object(i.u)(function(a){var e=Object(i.y)("ModalTambahBarang")(a,"harga_jual","ongkos","berat","harga_jual_tmp","harga_atribut","harga_skrg","total_berlian_rp","kadar","profit","is_berlian"),t=e.harga_jual,n=e.ongkos,r=e.berat,o=e.total_berlian_rp,s=e.is_berlian,l=e.profit,c=e.harga_jual_tmp,p=e.harga_atribut,m=e.harga_skrg,u=e.kadar;return{kategori_harga:a.utility.getParaSystemId.value,harga_jual_tmp:c,total_berlian_rp:o,kadar:u,harga_skrg:m,berat:r,harga_atribut:p,ongkos:n,profit:l,is_berlian:s,getDataMarketplace:a.datamaster.getDataMarketplace,harga_jual:parseFloat(u)/100*parseFloat(m)*parseFloat(r||0)||0,total:Object(h.n)(parseFloat(t||0)+parseFloat(n||0)+parseFloat(p||0)||0),DataSales:a.datamaster.getDataSales,setCamera:a.databarang.setCamera}})(Q),Y=t(159),X=Object(i.w)({prefix:"Rp. ",locale:"kr-KO"}),Z=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={showMember:!0},r}return Object(r.a)(t,[{key:"hitungTotal",value:function(){this.props.change("harga_per_gram",Object(h.n)(this.props.hasil))}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(c.Nb)()),setTimeout(function(){document.getElementById("kode_faktur").focus()},100)}},{key:"cariFaktur",value:function(a){var e=this;""===a.target.value||void 0===a.target.value||(clearTimeout(this.delay),this.delay=setTimeout(function(){Object(k.d)("penjualan/get/by-no-jual/"+a.target.value).then(function(a){e.props.change("nama_barang",a.data.nama_barang),e.props.change("Berat",a.data.berat),e.props.change("harga_nota",parseInt(a.data.harga_jual)+parseInt(a.data.harga_atribut)),e.props.change("harga_per_gram",Object(h.n)(a.data.harga_gram)),e.props.change("kadar",a.data.kadar),e.props.change("jenis",a.data.kode_dept+" - "+a.data.nama_dept)}).catch(function(a){var e;Object(i.t)("info",null===(e=a.response)||void 0===e?void 0:e.data)})},2e3))}},{key:"render",value:function(){var a=this;return i.n.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-3"},i.n.createElement(i.c,{id:"kode_faktur",name:"no_faktur",component:i.p,onChange:function(e){return a.cariFaktur(e)},type:"text",label:"Kode Faktur",placeholder:"Masukan Kode Faktur",normalize:function(a){return a&&a.toUpperCase()}})),i.n.createElement("div",{className:"col-3"},i.n.createElement(i.c,{id:"jenis",name:"jenis",label:"Kode Jenis",placeholder:"Silahkan Pilih Kode Jenis",onChange:function(e){return a.props.change("nama_barang",e.split("-")[1])},options:this.props.dataJenis.map(function(a){return{value:a.kode_dept+" - "+a.nama_dept,name:a.kode_dept+" - "+a.nama_dept}}),component:i.q})),i.n.createElement("div",{className:"col-3"},i.n.createElement(i.c,{id:"nama_barang",name:"nama_barang",component:i.p,type:"text",label:"Nama Barang",placeholder:"Masukan Nama Barang",normalize:function(a){return a&&a.toUpperCase()}})),i.n.createElement("div",{className:"col-3"},i.n.createElement(i.c,{id:"kadar",name:"kadar",component:i.p,type:"text",label:"Kadar",placeholder:"Masukan Kadar",normalize:Y.b})),i.n.createElement("div",{className:"col-3"},i.n.createElement(i.c,{id:"berat",name:"Berat",component:i.p,type:"text",label:"Berat",onChange:this.hitungTotal(),placeholder:"Masukan Berat",normalize:i.d})),i.n.createElement("div",{className:"col-3"},i.n.createElement(i.c,Object.assign({name:"harga_nota",component:i.p,type:"text",normalize:i.j,label:"Harga Nota",readOnly:!0},X,{placeholder:"Masukan Harga Nota"}))),i.n.createElement("div",{className:"col-3"},i.n.createElement(i.c,Object.assign({name:"harga_beli",component:i.p,type:"text",onChange:this.hitungTotal(),label:"Harga Beli",placeholder:"Masukan Harga Beli"},X))),i.n.createElement("div",{className:"col-3"},i.n.createElement(i.c,Object.assign({name:"harga_per_gram",component:i.p,type:"text",normalize:i.j,label:"Harga/Gram"},X,{placeholder:"Masukan Harga/Gram"})))),i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-8"}),i.n.createElement("div",{className:"col-4"},i.n.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingDataCustomer||void 0===this.props.harga_beli||this.props.harga_beli<=0,type:"submit"},this.props.isLoadingDataCustomer?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Barang")),i.n.createElement("div",{className:"col-lg-12"},i.n.createElement(i.s,{keyField:"nama_barang",exportCsv:!1,data:this.props.barang||[],columns:this.props.columns,empty:!0,pagination:"off",textEmpty:"Data Barang Kosong"}))))}}]),t}(i.b);Z=Object(i.Q)({form:"ModalTukarBarang",enableReinitialize:!0,validate:T})(Z);var $=Object(i.y)("ModalTukarBarang"),aa=Object(i.u)(function(a){return{DataSales:a.datamaster.getDataSales,dataJenis:a.datamaster.getDataJenis,berat:$(a,"Berat"),harga_beli:$(a,"harga_beli"),hasil:parseFloat($(a,"harga_beli"))/parseFloat($(a,"Berat"))||0}})(Z),ea=t(733),ta=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){setTimeout(function(){document.getElementById("nomor_pesanan").focus()},100)}},{key:"render",value:function(){var a=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},d.a.createElement("label",{htmlFor:""},"Masukan Nomor Pesanan"),d.a.createElement("div",{className:"input-group mb-3"},d.a.createElement("input",{type:"text",id:"nomor_pesanan",className:"form-control",placeholder:"Nomor Pesanan","aria-label":"Nomor Pesanan","aria-describedby":"basic-addon2"}),d.a.createElement("div",{className:"input-group-append"},d.a.createElement("button",{className:"btn btn-primary",disabled:this.props.isLoadingPesanan,onClick:function(){return a.props.getNomorPesanan(document.getElementById("nomor_pesanan"))},type:"button"},this.props.isLoadingPesanan?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Pesanan")))))}}]),t}(u.Component);ta=Object(g.a)({form:"AmbilPesanan",enableReinitialize:!0})(ta);var na=Object(b.b)(function(a){return{setCamera:a.databarang.setCamera,hideModal:a.datamaster.modalDialog}},null)(ta),ra=t(27),oa=t.n(ra),sa=function(a,e){oa.a.fire({title:"Anda yakin ingin mengapus barang ini ? ",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(t){if(t.isConfirmed){var n=0===Object(i.J)("data_tukar_barang_temp").length?[]:JSON.parse(Object(i.J)("data_tukar_barang_temp")),r=n.detail_barang.findIndex(function(e){return e.nama_barang===a});n.detail_barang.splice(r,1),Object(i.S)("data_tukar_barang_temp",n),e.dispatch(Object(p.m)(n))}}).catch(function(a){var e;Object(i.t)("error",null===(e=a.response)||void 0===e?void 0:e.data)})},ia=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={isLoading:!1,isLoadingBatal:!1,isLoadingPembayran:!1,isLoadingPembayranTitipan:!1,isLoadingDataCustomer:!1,isLoadingPesanan:!1,otorisasi:!1,onSend:!1,saveImage:[],data:[],FormModal:"",kode_sales:"",columns:[{dataField:"no_faktur",text:"Nomor Faktur",footerAttrs:{colSpan:"2"},footer:""},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"harga_gram",text:"Harga / Gram",headerClasses:"text-right",formatter:function(a){return i.n.createElement("div",{className:"text-right"},a&&a.toLocaleString("kr-KO"))},footer:function(a,e,t,n){return i.n.createElement("div",{className:"text-right"},a.reduce(function(a,e){return a+e},0).toLocaleString("ko-KO"))}},{dataField:"berat",text:"Berat",headerClasses:"text-right",formatter:function(a){return i.n.createElement("div",{className:"text-right"},a&&parseFloat(a).toFixed(2))},footer:function(a,e,t,n){return i.n.createElement("div",{className:"text-right"},a.reduce(function(a,e){return a+parseFloat(e)},0).toFixed(2))}},{dataField:"harga_beli",text:"Jumlah",headerClasses:"text-right",formatter:function(a){return i.n.createElement("div",{className:"text-right"},a&&a.toLocaleString("kr-KO"))},footer:function(a,e,t,n){return i.n.createElement("div",{className:"text-right"},a.reduce(function(a,e){return a+e},0).toLocaleString("ko-KO"))}},{dataField:"Aksi",text:"Aksi",csvExport:!1,headerClasses:"text-center",formatter:function(a,e){return i.n.createElement("div",{className:"row text-center"},i.n.createElement("div",{className:"col-12"},i.n.createElement("button",{onClick:function(){sa(e.nama_barang,r.props)},className:"btn btn-danger",type:"button"},i.n.createElement("i",{className:"fa fa-trash"}))))}}]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var a=Object(i.E)("data_tukar_barang_temp")||[{detail_barang:[]}];this.props.dispatch(Object(p.m)(a)),this.props.dispatch(Object(c.Wb)())}},{key:"getNomorPesanan",value:function(a){var e=this;this.setState({isLoadingPesanan:!0}),Object(k.k)("pesanan/ambil/no",{no_pesanan:a.value}).then(function(a){var t=[],n={no_pesanan:a.data.no_pesanan,kode_barcode:a.data.kode_barcode,nama_barang:a.data.nama_barang,nama_atribut:a.data.nama_atribut,berat_atribut:a.data.berat_atribut,harga_atribut:a.data.harga_atribut,harga_jual:a.data.harga_jual,harga_pergram:a.data.harga_gram,berat_jual:a.data.berat,ongkos:a.data.ongkos,total:parseInt(a.data.harga_jual)+parseInt(a.data.harga_atribut)+parseInt(a.data.ongkos),status_premi:""},r={alamat_customer:a.data.pesanan[0].alamat_customer||"-",jenis_pelanggan:a.data.pesanan[0].kode_customer||"NONMEMBER",kode_customer:a.data.pesanan[0].kode_customer||"NONMEMBER",kode_sales:a.data.pesanan[0].kode_sales,nama_customer:a.data.pesanan[0].nama_customer||"REGULER",no_hp:a.data.pesanan[0].no_hp||"-"};Object(i.K)("data_customer_tmp",JSON.stringify(r)),t.push(n),Object(i.K)("data_barang_penjualan_tmp",JSON.stringify(t)),e.props.dispatch(Object(p.l)(t)),e.setState({isLoadingPesanan:!1});var o=0;a.data.pembayaran.forEach(function(a){o+=a.jumlah_rp}),Object(i.S)("total_dp",o),e.setState({status:"Berhasil"}),e.props.dispatch(Object(i.G)())}).catch(function(a){console.log(a.response),Object(i.K)("data_barang_penjualan_tmp",JSON.stringify([])),Object(i.t)("info",void 0===a.response?"Terjadi Kesalahan Saat Mengirim Data ":a.response.data.message),e.setState({isLoadingPesanan:!1})})}},{key:"hideModa",value:function(){this.props.dispatch(Object(i.G)())}},{key:"handleSubmit",value:function(a){var e=this,t={alamat_customer:a.alamat_customer||"-",jenis_pelanggan:a.jenis_pelanggan||"NONMEMBER",kode_customer:"NONMEMBER"===a.jenis_pelanggan?"NONMEMBER":a.kode_customer,kode_sales:a.kode_sales,nama_customer:a.nama_customer||"REGULER",no_hp:a.no_hp||"-"};Object(i.K)("data_customer_tmp",JSON.stringify(t)),this.setState({isLoadingDataCustomer:!0,onSend:!0,kode_sales:a.kode_sales}),setTimeout(function(){e.setState({isLoadingDataCustomer:!1,onSend:!1}),e.props.dispatch(Object(i.G)())},500)}},{key:"simpanBarang",value:function(a){var e=0,t=0;if("PTR"===Object(h.j)().kode_toko?(e=a.harga_jual===Math.floor(a.harga_jual)?parseFloat(Math.floor(a.harga_jual)):parseFloat(Math.ceil(a.harga_jual)),t=a.total===Math.floor(a.total)?parseFloat(Math.floor(a.total)):parseFloat(Math.ceil(a.total)),console.log(Math.floor(a.total))):(e=Object(h.n)(parseInt(a.harga_jual)),t=parseInt(a.total)),parseInt(a.harga_jual)<parseInt(a.harga_jual_tmp))this.setState({saveImage:{kode_barcode:a.kode_barcode,dataimage:a.foto},data:{no_titip_group:"-",marketplace:void 0===a.marketplace?"-":a.marketplace,kode_barcode:a.kode_barcode||0,nama_barang:a.nama_barang||"-",nama_atribut:a.nama_atribut||"-",berat_jual:parseFloat(a.berat)||0,berat_awal:parseFloat(a.berat_tmp)||0,berat_atribut:parseFloat(a.berat_atribut)||0,harga_atribut:parseInt(a.harga_atribut)||0,harga_jual:e||0,harga_pergram:parseInt(a.harga_pergram)||0,ongkos:parseInt(a.ongkos)||0,total:t||0,status_premi:a.premi?"PREMI":"NONPREMI",total_usd:a.total_usd||0,curr:a.curr||0,total_berlian_rp:a.total_berlian_rp||0}}),this.props.dispatch(Object(i.G)()),!1===a.is_berlian?(this.setState({otorisasi:!0}),this.showModalOtorisasi()):this.SimpanBarangLocal();else if(parseFloat(a.berat)<parseFloat(a.berat_tmp))this.setState({saveImage:{kode_barcode:a.kode_barcode,dataimage:a.foto},data:{no_titip_group:"-",marketplace:void 0===a.marketplace?"-":a.marketplace,kode_barcode:a.kode_barcode||0,nama_barang:a.nama_barang||"-",nama_atribut:a.nama_atribut||"-",berat_jual:parseFloat(a.berat)||0,berat_awal:parseFloat(a.berat_tmp)||0,berat_atribut:parseFloat(a.berat_atribut)||0,harga_atribut:parseInt(a.harga_atribut)||0,harga_jual:e||0,harga_pergram:parseInt(a.harga_pergram)||0,ongkos:parseInt(a.ongkos)||0,total:t||0,status_premi:a.premi?"PREMI":"NONPREMI",total_usd:a.total_usd||0,curr:a.curr||0,total_berlian_rp:a.total_berlian_rp||0}}),this.props.dispatch(Object(i.G)()),!1===a.is_berlian?(this.setState({otorisasi:!0}),this.showModalOtorisasi()):this.SimpanBarangLocal();else if(parseInt(a.harga_jual)<parseInt(a.harga_total_profit))this.setState({saveImage:{kode_barcode:a.kode_barcode,dataimage:a.foto},data:{no_titip_group:"-",marketplace:void 0===a.marketplace?"-":a.marketplace,kode_barcode:a.kode_barcode||0,nama_barang:a.nama_barang||"-",nama_atribut:a.nama_atribut||"-",berat_jual:parseFloat(a.berat)||0,berat_awal:parseFloat(a.berat_tmp)||0,berat_atribut:parseFloat(a.berat_atribut)||0,harga_atribut:parseInt(a.harga_atribut)||0,harga_jual:e||0,harga_pergram:parseInt(a.harga_pergram)||0,ongkos:parseInt(a.ongkos)||0,total:t||0,status_premi:a.premi?"PREMI":"NONPREMI",total_usd:a.total_usd||0,curr:a.curr||0,total_berlian_rp:a.total_berlian_rp||0}}),this.props.dispatch(Object(i.G)()),this.setState({otorisasi:!0}),this.showModalOtorisasi();else if(parseInt(a.harga_jual)>parseInt(a.harga_jual_tmp)&&parseFloat(a.berat)>parseFloat(a.berat_tmp)){var n={no_titip_group:"-",marketplace:void 0===a.marketplace?"-":a.marketplace,kode_barcode:a.kode_barcode||0,nama_barang:a.nama_barang||"-",nama_atribut:a.nama_atribut||"-",berat_jual:parseFloat(a.berat)||0,berat_awal:parseFloat(a.berat_tmp)||0,berat_atribut:parseFloat(a.berat_atribut)||0,harga_atribut:parseInt(a.harga_atribut)||0,harga_jual:e||0,harga_pergram:parseInt(a.harga_pergram)||0,ongkos:parseInt(a.ongkos)||0,total:t||0,status_premi:a.premi?"PREMI":"NONPREMI",total_usd:a.total_usd||0,curr:a.curr||0,total_berlian_rp:a.total_berlian_rp||0};if(0===a.harga_jual)return Object(i.t)("info","Harga Jual Tidak Boleh 0"),!1;var r=void 0!==a.foto?Object(h.c)(a.foto):void 0;void 0!==r&&Object(k.o)(r,"foto_produk/"+a.kode_barcode).then(function(a){}).catch(function(a){Object(i.t)("info","upload Foto Gagal, Silahkan Edit Didata Barang")});var o=0===Object(i.J)("data_barang_penjualan_tmp").length?[]:JSON.parse(Object(i.J)("data_barang_penjualan_tmp"));-1===o.findIndex(function(e){return e.kode_barcode===a.kode_barcode})?(this.props.dispatch(Object(i.R)("ModalTambahBarang")),o.push(n),Object(i.K)("data_barang_penjualan_tmp",JSON.stringify(o)),this.props.dispatch(Object(p.l)(o)),this.props.change("kode_barcode","")):(document.getElementById("kode_barcode").focus(),Object(i.t)("info","Barang Sudah Ada Di Tabel")),this.props.dispatch(Object(i.G)())}else{var s={no_titip_group:"-",marketplace:void 0===a.marketplace?"-":a.marketplace,kode_barcode:a.kode_barcode||0,nama_barang:a.nama_barang||"-",nama_atribut:a.nama_atribut||"-",berat_jual:parseFloat(a.berat)||0,berat_awal:parseFloat(a.berat_tmp)||0,berat_atribut:parseFloat(a.berat_atribut)||0,harga_atribut:parseInt(a.harga_atribut)||0,harga_jual:e||0,harga_pergram:parseInt(a.harga_pergram)||0,ongkos:parseInt(a.ongkos)||0,total:t||0,status_premi:a.premi?"PREMI":"NONPREMI",total_usd:a.total_usd||0,curr:a.curr||0,total_berlian_rp:a.total_berlian_rp||0};if(0===a.harga_jual)return Object(i.t)("info","Harga Jual Tidak Boleh 0"),!1;var l=void 0!==a.foto?Object(h.c)(a.foto):void 0;void 0!==l&&Object(k.o)(l,"foto_produk/"+a.kode_barcode).then(function(a){}).catch(function(a){Object(i.t)("info","upload Foto Gagal, Silahkan Edit Didata Barang")});var c=0===Object(i.J)("data_barang_penjualan_tmp").length?[]:JSON.parse(Object(i.J)("data_barang_penjualan_tmp"));-1===c.findIndex(function(e){return e.kode_barcode===a.kode_barcode})?(this.props.dispatch(Object(i.R)("ModalTambahBarang")),c.push(s),Object(i.K)("data_barang_penjualan_tmp",JSON.stringify(c)),this.props.dispatch(Object(p.l)(c)),this.props.change("kode_barcode","")):(document.getElementById("kode_barcode").focus(),Object(i.t)("info","Barang Sudah Ada Di Tabel")),this.props.dispatch(Object(i.G)())}}},{key:"bayarTitipan",value:function(){var a=this;this.setState({isLoadingPembayranTitipan:!0});var e=Object(i.E)("trx_pemabayran_penjualan"),t=[],n=0,r=0;e.forEach(function(a){"CASH"===a.jenis?(r=parseInt(a.nominal)<=Math.abs(parseInt(Object(i.E)("sisa_bayar_penjualan").sisa_bayar))?Math.abs(parseInt(Object(i.E)("sisa_bayar_penjualan").sisa_bayar)-parseInt(a.nominal)):parseInt(a.nominal),r=parseInt(a.nominal)>=Math.abs(parseInt(Object(i.E)("sisa_bayar_penjualan").total_transaksi))?parseInt(a.nominal)-Math.abs(parseInt(Object(i.E)("sisa_bayar_penjualan").sisa_bayar)):parseInt(a.nominal)):r=parseInt(a.nominal);var e={bank:"CASH"!==a.jenis?a.nama_bank:"CASH",jenis:a.jenis,keterangan:a.keterangan,fee:"CREDIT"===a.jenis&&parseInt(a.fee)||0,jumlah_rp:r};n=a.nominal+n,t.push(e)});var o=JSON.parse(Object(i.J)("data_customer_tmp")),s=JSON.parse(Object(i.J)("data_barang_penjualan_tmp")),c=[];s.forEach(function(a,e){var t={kode_barcode:a.kode_barcode,berat:Number(a.berat_jual),berat_awal:Number(a.berat_awal),berat_atribut:Number(a.berat_atribut),marketplace:a.marketplace,ongkos:a.ongkos,harga_jual:a.harga_jual,harga_atribut:a.harga_atribut,total_usd:a.total_usd||0,curr:a.curr||0,total_berlian_rp:a.total_berlian_rp||0};c.push(t)});var m={status:"TITIPAN",kode_sales:o.kode_sales,kode_customer:"NONMEMBER"===o.jenis_pelanggan?o.jenis_pelanggan:o.kode_customer,nama_customer:o.nama_customer,alamat_customer:o.alamat_customer,no_hp:o.no_hp,detail_barang:c,pembayaran:t,total_usd:s.reduce(function(a,e){return a+parseFloat(e.total_usd)},0)};Object(k.k)("titip/create",m).then(function(e){if(Object(i.K)("data_barang_penjualan_tmp",JSON.stringify([])),Object(i.t)("success","Transaksi Titipan Berhasil"),0!==e.data.length){for(var t=[],n=0;n<2;n++){var r="";e.data.forEach(function(a,e){var t=a.alamat_customer.length,n=a.nama_barang.length;r+="========================================\n",r+="               NOTA TITIPAN             \n",r+="========================================\nTanggal          : ".concat(a.tanggal,"\nNama Customer    : ").concat(a.nama_customer,"\nNo Hp            : ").concat(a.no_hp,"\nAlamat Customer  : ").concat(a.alamat_customer.slice(0,20),"\n"),t>20&&(r+="                     ".concat(a.alamat_customer.slice(20,40),"\n")),t>40&&(r+="                     ".concat(a.alamat_customer.slice(40,60),"\n")),r+="========================================\n",r+="Keterangan\n",r+="========================================\n",r+="No Faktur Titip    : ".concat(a.no_titip_group,"\n"),r+="Nama Barang        : ".concat(a.nama_barang.slice(0,20),"\n"),n>20&&(r+="                     ".concat(a.nama_barang.slice(20,40),"\n")),n>40&&(r+="                     ".concat(a.nama_barang.slice(40,60),"\n")),r+="Total Transaksi    : ".concat(a.total_harga.toLocaleString("kr-KO"),"\n"),r+="Dp                 : ".concat(a.dp.toLocaleString("kr-KO"),"\n"),r+="Sisa               : ".concat(a.sisa.toLocaleString("kr-KO"),"\n"),r+="========================================\n",r+="                               TTD      \n",r+="                                        \n",r+="                                        \n",r+="                                        \n",r+="                         (             )\n",r+="                                        \n",r+="                                        \n",r+="                                        \n"}),t.push(r)}document.getElementById("nota_titip").value=t.join(""),setTimeout(function(){a.TextFilenotatitip()},100)}}).then(function(){a.props.dispatch(Object(i.G)()),a.props.dispatch(Object(l.t)(!1))}).then(function(){a.props.dispatch(Object(i.R)("ModalPembayaran"))}).then(function(){Object(i.K)("data_customer_tmp",JSON.stringify([])),Object(i.K)("total_dp",JSON.stringify([])),Object(i.K)("trx_pemabayran_penjualan",JSON.stringify([])),Object(i.K)("filter_titipan",JSON.stringify([])),Object(i.S)("sisa_bayar_penjualan",0)}).then(function(){a.setState({isLoadingPembayranTitipan:!1}),a.props.dispatch(Object(p.l)([]))}).catch(function(e){a.setState({isLoadingPembayranTitipan:!1}),a.errorhandlingTitipan(e)})}},{key:"TextFilenotatitip",value:function(){var a=document.createElement("a"),e=new Blob([document.getElementById("nota_titip").value],{type:"text/plain;charset=utf-8"});a.href=URL.createObjectURL(e),a.download="autoprint_titipan.txt",document.body.appendChild(a),a.click()}},{key:"simpanPembayaran",value:function(a){var e=this;this.setState({isLoadingPembayran:!0,onSend:!0});var t=document.getElementById("harus_bayar_rp").value.replace("Rp.","").replaceAll(",",""),n=JSON.parse(Object(i.J)("data_barang_penjualan_tmp")),r=[];n.forEach(function(a,e){var t={no_titip_group:a.no_titip_group||"-",no_pesanan:a.no_pesanan||"-",kode_barcode:a.kode_barcode,berat:Number(a.berat_jual),berat_awal:Number(a.berat_awal),berat_atribut:Number(a.berat_atribut),harga_gram:a.harga_pergram,marketplace:a.marketplace,ongkos:a.ongkos,harga_jual:a.harga_jual,harga_atribut:a.harga_atribut,total_usd:a.total_usd||0,ongkos_berlian:a.ongkos_berlian||0,profit:a.profit||0,curr:a.curr||0,total_berlian_rp:a.total_berlian_rp||0};r.push(t)});var o=Object(i.E)("trx_pemabayran_penjualan"),s=[],c=0;0!==o.length&&o.forEach(function(a){if("TUKAR"===a.jenis)c=a.nominal+c,s.push(a);else{var e={bank:"CASH"!==a.jenis?a.nama_bank:"CASH",jenis:a.jenis,keterangan:a.keterangan,fee:"CREDIT"===a.jenis&&parseInt(a.fee)||0,jumlah_rp:"CASH"===a.jenis?parseInt(a.nominal)-parseInt(Object(i.E)("sisa_bayar_penjualan").sisa_bayar):parseInt(a.nominal)};c=a.nominal+c,s.push(e)}});var m=parseInt(t)-parseInt(c);if(parseInt(m)>0)return Object(i.t)("info","Pembayaran Masih Kurang Rp."+parseInt(m).toLocaleString("kr-KO")),this.setState({isLoadingPembayran:!1,onSend:!1}),!1;var u=JSON.parse(Object(i.J)("data_customer_tmp")),d={status:"PENJUALAN",kode_sales:u.kode_sales,cashback:Object(i.E)("poin_penjualan_member")||0,kode_member:"NONMEMBER"===u.jenis_pelanggan?u.jenis_pelanggan:u.kode_customer,nama_customer:u.nama_customer,alamat_customer:u.alamat_customer,no_hp:u.no_hp,detail_barang:r,pembayaran:s,total_usd:n.reduce(function(a,e){return a+parseFloat(e.total_usd)},0),total_profit:n.reduce(function(a,e){return a+parseFloat(e.profit)},0),total_ongkos_berlian:n.reduce(function(a,e){return a+parseFloat(e.ongkos_berlian)},0)};Object(i.M)("penjualan/simpan",d).then(function(a){Object(i.K)("data_barang_penjualan_tmp",JSON.stringify([])),Object(i.t)("success",a.data.message)}).then(function(){e.props.dispatch(Object(i.G)()),e.props.dispatch(Object(l.t)(!1))}).then(function(){e.props.dispatch(Object(i.R)("ModalPembayaran"))}).then(function(){Object(i.K)("data_customer_tmp",JSON.stringify([])),Object(i.K)("total_dp",JSON.stringify([])),Object(i.K)("trx_pemabayran_penjualan",JSON.stringify([])),Object(i.K)("filter_titipan",JSON.stringify([])),localStorage.removeItem("data_tukar_barang_temp"),e.props.dispatch(Object(p.m)([])),Object(i.S)("sisa_bayar_penjualan",[]),Object(i.S)("sisa_bayar_penjualan",0)}).then(function(){e.setState({isLoadingPembayran:!1,onSend:!1}),e.props.dispatch(Object(p.l)([]))}).catch(function(a){e.setState({isLoadingPembayran:!1,onSend:!1}),e.errorhandling(a||"Koneksi Bermasalah")})}},{key:"errorhandling",value:function(a){this.setState({isLoadingPembayran:!1,isLoadingPembayranTitipan:!1}),Object(i.t)("info",/conflict/i.test(a.response.data||"Error")?"Terjadi Kesalahan Saat Mengirim Data":a.response.data)}},{key:"errorhandlingTitipan",value:function(a){console.log(a.response.data),this.setState({isLoadingPembayran:!1,isLoadingPembayranTitipan:!1}),Object(i.t)("info",/conflict/i.test(a.response.data.message||"Error")?"Terjadi Kesalahan Saat Mengirim Data":a.response.data.message)}},{key:"ShowModalBarang",value:function(){this.props.dispatch(Object(i.T)()),this.props.dispatch(Object(i.R)("ModalTambahBarang")),this.setState({FormModal:"ShowModalBarang"})}},{key:"ShowModalCustomer",value:function(){this.setState({FormModal:"ShowModalCustomer"}),this.props.dispatch(Object(i.T)())}},{key:"showModalTitipan",value:function(){this.setState({FormModal:"AmbilTitipan"}),this.props.dispatch(Object(i.T)())}},{key:"showModalOtorisasi",value:function(){this.setState({FormModal:"Otorisasi"}),this.props.dispatch(Object(i.T)())}},{key:"showModalPembayaran",value:function(){var a=0===Object(i.J)("data_customer_tmp").length?[]:JSON.parse(Object(i.J)("data_customer_tmp")),e=0===Object(i.J)("data_barang_penjualan_tmp").length?[]:JSON.parse(Object(i.J)("data_barang_penjualan_tmp"));0===a.length||0===e.length?Object(i.t)("info","Data Customer Atau Data Barang Belum Diisi !!!"):(this.setState({FormModal:"ShowModalPembayaran"}),this.props.dispatch(Object(i.T)()))}},{key:"batalPenjualan",value:function(){var a=this;this.setState({isLoadingBatal:!0}),setTimeout(function(){Object(i.S)("total_dp",0),Object(i.K)("trx_pemabayran_penjualan",JSON.stringify([])),Object(i.K)("data_customer_tmp",JSON.stringify([])),a.props.dispatch(Object(p.l)([])),Object(i.K)("data_barang_penjualan_tmp",JSON.stringify([])),a.setState({isLoadingBatal:!1})},500)}},{key:"SimpanBarangLocal",value:function(){var a=this.state.data;if(0===a.harga_jual)return Object(i.t)("info","Harga Jual Tidak Boleh 0"),!1;var e=void 0!==this.state.saveImage.dataimage?Object(h.c)(this.state.saveImage.dataimage):void 0;void 0!==e&&Object(k.o)(e,"foto_produk/"+this.state.saveImage.kode_barcode).then(function(a){}).catch(function(a){Object(i.t)("info","upload Foto Gagal, Silahkan Edit Didata Barang")});var t=0===Object(i.J)("data_barang_penjualan_tmp").length?[]:JSON.parse(Object(i.J)("data_barang_penjualan_tmp"));-1===t.findIndex(function(e){return e.kode_barcode===a.kode_barcode})?(this.props.dispatch(Object(i.R)("ModalTambahBarang")),t.push(a),Object(i.K)("data_barang_penjualan_tmp",JSON.stringify(t)),this.props.dispatch(Object(p.l)(t)),this.props.change("kode_barcode","")):(document.getElementById("kode_barcode").focus(),Object(i.t)("info","Barang Sudah Ada Di Tabel"))}},{key:"cekOtorisasi",value:function(a){var e=this;if(void 0===a.username)return Object(i.t)("info","Username Tidak Boleh Kosong !!!"),!1;if(void 0===a.password)return Object(i.t)("info","Password Tidak Boleh Kosong !!!"),!1;if(void 0===a.keterangan)return Object(i.t)("info","Keterangan Tidak Boleh Kosong !!!"),!1;var t={user_id:a.username,password:a.password,kategori:"PENJUALAN",description:"PENJUALAN DI BAWAH MODAL",keterangan:a.keterangan.toUpperCase()||"-"};Object(k.k)("authorization",t).then(function(a){e.SimpanBarangLocal(),Object(i.t)("success",a.data.message),localStorage.setItem("otorisasi","false"),e.setState({otorisasi:!0}),e.props.dispatch(Object(i.G)())}).catch(function(a){e.setState({otorisasi:!1}),Object(i.t)("info","Otorisasi Gagal..")})}},{key:"showModalAmbilPesanan",value:function(){this.setState({FormModal:"AmbilPesanan"}),this.props.dispatch(Object(i.T)())}},{key:"showTukarBarang",value:function(){var a=0===Object(i.J)("data_customer_tmp").length?[]:JSON.parse(Object(i.J)("data_customer_tmp")),e=0===Object(i.J)("data_barang_penjualan_tmp").length?[]:JSON.parse(Object(i.J)("data_barang_penjualan_tmp"));0===a.length||0===e.length?Object(i.t)("info","Data Customer Atau Data Barang Belum Diisi !!!"):(this.setState({FormModal:"TukarBarang"}),this.props.dispatch(Object(i.T)()))}},{key:"simpanTukarBarang",value:function(a){console.log(a);var e={no_faktur:a.no_faktur||"-",nama_barang:a.nama_barang,qty:1,kadar:a.kadar||0,berat:a.Berat||0,harga_nota:a.harga_nota||0,harga_beli:a.harga_beli||0,harga_gram:a.harga_per_gram||0},t=0===Object(i.J)("data_tukar_barang_temp").length?{detail_barang:[]}:JSON.parse(Object(i.J)("data_tukar_barang_temp")),n=t.detail_barang,r=0===Object(i.J)("trx_pemabayran_penjualan").length?[]:JSON.parse(Object(i.J)("trx_pemabayran_penjualan")),o=r.findIndex(function(a){return"TUKAR"===a.jenis}),s=Number(n.map(function(a){return parseInt(a.harga_beli)}).reduce(function(a,e){return a+e},0))+Number(a.harga_beli);if(-1===t.detail_barang.findIndex(function(e){return e.no_faktur===a.no_faktur})){this.props.dispatch(Object(i.R)("ModalTambahBarang")),n.push(e);var l={kode_sales:this.state.kode_sales,jenis:"TUKAR",keterangan:"-",nominal:s,jumlah_rp:s,detail_barang:n};Object(i.K)("data_tukar_barang_temp",JSON.stringify(l)),-1===o?(r.push(l),Object(i.S)("trx_pemabayran_penjualan",r)):(r.splice(o,1),r.push(l),Object(i.S)("trx_pemabayran_penjualan",r)),this.props.dispatch(Object(p.m)(t)),this.props.dispatch(Object(i.R)("ModalTukarBarang"))}else Object(i.t)("info","Barang sudah ada di table")}},{key:"render",value:function(){var a=this,e={renderer:function(a){return i.n.createElement("div",{className:"container"},i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-12"},"Nama Atribut : ",a.nama_atribut," ",i.n.createElement("br",null),"Berat Atribut : ",a.berat_atribut," ",i.n.createElement("br",null),"Harga Atribut : ",a.harga_atribut," ",i.n.createElement("br",null),"Kadr Jual : ",a.kadar||0," ",i.n.createElement("br",null),"Kadr Cetak : ",a.kadar_cetak||0," ",i.n.createElement("br",null))))},showExpandColumn:!0,expandByColumnOnly:!0};return i.n.createElement(i.k,null,i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-12"},i.n.createElement("br",null),i.n.createElement("textarea",{style:{display:"none"},id:"nota_titip",rows:"100",cols:"100"}),i.n.createElement(i.s,{keyField:"kode_barcode",exportCsv:!1,data:0===this.props.setBarangPenjualan.length?0===Object(i.J)("data_barang_penjualan_tmp").length?[]:JSON.parse(Object(i.J)("data_barang_penjualan_tmp")):this.props.setBarangPenjualan||[],btnOptional3:!0,btnTextOptional3:"Ambil Pesanan",handleClickOptional3:function(){return a.showModalAmbilPesanan()},btnOptional2:!0,btnTextOptional2:"Ambil Titipan",handleClickOptional2:function(){return a.showModalTitipan()},tambahData:!0,btnText:"Data Customer",columns:this.props.columns,btnOptional:!0,namaCustomer:!0,jenisCustomer:!0,form:"Penjualan",btnTextOptional:"Data Barang",handleClick:function(){return a.ShowModalCustomer()},handleClickOptional:function(){return a.ShowModalBarang()},empty:!0,textEmpty:"Data Barang Kosong",expandRow:e,disable_search:!0}))),i.n.createElement(i.i,{size:"ShowModalCustomer"===this.state.FormModal?"xl":"ShowModalBarang"===this.state.FormModal?"xl":"AmbilTitipan"===this.state.FormModal?"xl":"TukarBarang"===this.state.FormModal?"xl":"l",title:i.n.createElement(la,{state:this.state.FormModal}),content:"ShowModalCustomer"===this.state.FormModal?i.n.createElement(F,{isLoadingDataCustomer:this.state.isLoadingDataCustomer,onSubmit:function(e){return a.handleSubmit(e)}}):"ShowModalBarang"===this.state.FormModal?i.n.createElement(V,{isLoadingTopBar:this.props.isLoadingTopBar,hideModal:function(){return a.hideModa()},onSubmit:function(e){return a.simpanBarang(e)}}):"AmbilTitipan"===this.state.FormModal?i.n.createElement(I,null):"AmbilPesanan"===this.state.FormModal?i.n.createElement(na,{isLoadingPesanan:this.state.isLoadingPesanan,getNomorPesanan:function(e){return a.getNomorPesanan(e)}}):"Otorisasi"===this.state.FormModal?i.n.createElement(ea.a,{isLoadingOtorisasi:this.state.isLoading,onSubmit:function(e){return a.cekOtorisasi(e)},keterangan:!0}):"TukarBarang"===this.state.FormModal?i.n.createElement(aa,{onSubmit:function(e){return a.simpanTukarBarang(e)},barang:this.props.setBarangTukar.detail_barang,columns:this.state.columns,kode_sales:this.state.kode_sales}):i.n.createElement(J,{isLoadingPembayranTitipan:this.state.isLoadingPembayranTitipan,isLoadingPembayran:this.state.isLoadingPembayran,bayarTitipan:function(e){return a.bayarTitipan(e)},simpanPembayaran:function(e){return a.simpanPembayaran(e)}})}),i.n.createElement("div",{className:"row"},i.n.createElement("div",{className:"col-12"},i.n.createElement("button",{onClick:function(){return a.showModalPembayaran()},className:"btn btn-primary",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data Penjualan"),"\xa0",i.n.createElement("button",{onClick:function(){return a.showTukarBarang()},className:"btn btn-outline-primary",disabled:this.props.isLoading,type:"button"},this.props.isLoading?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Bayar dengan tukar"),"\xa0",i.n.createElement("button",{onClick:function(){return a.batalPenjualan()},className:"btn btn-warning",disabled:this.state.isLoadingBatal,type:"button"},this.state.isLoadingBatal?i.n.createElement(i.n.Fragment,null,i.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Reset"):"Reset"))),this.state.onSend?i.n.createElement(G.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),t}(i.b);function la(a,e){return"ShowModalCustomer"===a.state?"Form Data Customer":"ShowModalBarang"===a.state?"Form Data Barang":"AmbilTitipan"===a.state?"Form Data Ambil Titipan":"AmbilPesanan"===a.state?"Form Ambil Pesanan":"TukarBarang"===a.state?"Form Tukar Barang":"Otorisasi"===a.state?"Form Otorisasi":"Form Pembayaran"}ia=Object(i.Q)({form:"HeadTransaksiPenjualan",enableReinitialize:!0,validate:m.a})(ia);var ca=Object(i.u)(function(a){return{setBarangPenjualan:a.penjualan.setBarangPenjualan,DataSales:a.datamaster.getDataSales,hideModal:a.datamaster.modalDialog,setBarangTukar:a.penjualan.setBarangTukar}})(ia),pa=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={isLoading:!1,columns:[{dataField:"kode_barcode",text:"Kode Barcode",footerAttrs:{colSpan:"2"},footer:"Total"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"harga_pergram",text:"Harga",headerClasses:"text-right",formatter:function(a){return i.n.createElement("div",{className:"text-right"},parseInt(a).toLocaleString("kr-KO"))},footer:function(a){return i.n.createElement("div",{className:"text-right"}," ",parseInt(a.reduce(function(a,e){return a+e},0)).toLocaleString("kr-KO"))}},{dataField:"ongkos",text:"Ongkos",headerClasses:"text-right",formatter:function(a){return i.n.createElement("div",{className:"text-right"},parseInt(a).toLocaleString("kr-KO"))},footer:function(a){return i.n.createElement("div",{className:"text-right"}," ",parseInt(a.reduce(function(a,e){return a+e},0)).toLocaleString("kr-KO"))}},{dataField:"harga_jual",text:"Harga Jual",headerClasses:"text-right",formatter:function(a){return i.n.createElement("div",{className:"text-right"},parseInt(a).toLocaleString("kr-KO"))},footer:function(a){return i.n.createElement("div",{className:"text-right"}," ",parseInt(a.reduce(function(a,e){return a+e},0)).toLocaleString("kr-KO"))}},{dataField:"berat_jual",text:"Berat Jual",headerClasses:"text-right",formatter:function(a){return i.n.createElement("div",{className:"text-right"},a.toFixed(3))},footer:function(a){return i.n.createElement("div",{className:"text-right"},a.reduce(function(a,e){return a+e},0).toFixed(3))}},{dataField:"total",text:"Total Harga",headerClasses:"text-right",formatter:function(a){return i.n.createElement("div",{className:"text-right"},parseInt(a).toLocaleString("kr-KO"))},footer:function(a){return i.n.createElement("div",{className:"text-right"}," ",parseInt(a.reduce(function(a,e){return a+e},0)).toLocaleString("kr-KO"))}},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,e,t){return i.n.createElement("div",{className:"row text-center"},i.n.createElement("div",{className:"col-12"},i.n.createElement("button",{type:"button",onClick:function(){return r.hapusdata(t,e)},className:"btn btn-danger mr-3"},i.n.createElement("i",{className:"fa fa-trash"}))))},footer:""}]},r}return Object(r.a)(t,[{key:"hapusdata",value:function(a,e){var t=this;i.r.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(e){if(e.isConfirmed){t.setState({status:!1});var n=JSON.parse(Object(i.J)("data_barang_penjualan_tmp"));n.splice(a,1),Object(i.K)("data_barang_penjualan_tmp",JSON.stringify(n)),t.props.dispatch(Object(p.l)(n)),Object(i.S)("trx_pemabayran_penjualan",[]),Object(i.S)("sisa_bayar_penjualan",[]),t.setState({status:!0})}})}},{key:"componentWillUnmount",value:function(){localStorage.setItem("data_customer_tmp",JSON.stringify([])),localStorage.setItem("data_barang_penjualan_tmp",JSON.stringify([])),localStorage.removeItem("data_tukar_barang_temp")}},{key:"errorhandling",value:function(a){Object(i.t)("info","Transaksi Gagal Disimpan")}},{key:"render",value:function(){return i.n.createElement("div",null,i.n.createElement("ol",{className:"breadcrumb float-xl-right"},i.n.createElement("li",{className:"breadcrumb-item"},i.n.createElement(i.g,{to:"#"},"Penjualan")),i.n.createElement("li",{className:"breadcrumb-item active"},"Transaksi Penjualan")),i.n.createElement("h1",{className:"page-header"},"Transaksi Penjualan "),i.n.createElement(i.k,null,i.n.createElement(i.m,null,"Transaksi Penjualan"),i.n.createElement("br",null),i.n.createElement(i.l,null,i.n.createElement(ca,{isLoading:this.state.isLoading,columns:this.state.columns})),i.n.createElement("br",null)))}}]),t}(i.n.Component);e.default=Object(i.u)(null)(pa)},686:function(a,e,t){"use strict";e.a=function(a){var e={};return a.jenis||(e.jenis="Jenis Tidak Boleh Kosong"),e}},702:function(a,e,t){"use strict";e.a=function(a){var e={};return a.user_id||(e.user_id="User Id Tidak Boleh Kosong"),a.user_name||(e.user_name="Username Tidak Boleh Kosong"),a.level||(e.level="Level Harus Dipilih "),e}},733:function(a,e,t){"use strict";var n=t(19),r=t(20),o=t(22),s=t(21),i=t(0),l=t.n(i),c=t(58),p=t(311),m=t(312),u=t(78),d=function(a){Object(o.a)(t,a);var e=Object(s.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).state={},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){setTimeout(function(){document.getElementById("username").focus()},100)}},{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(p.a,{name:"no_faktur_group",component:u.b,type:"hidden"}),l.a.createElement(p.a,{name:"alasan",component:u.b,type:"hidden"}),l.a.createElement(p.a,{id:"username",name:"username",component:u.e,type:"text",nouperCase:!0,label:"Username",placeholder:"Masukan Username"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(p.a,{name:"password",component:u.e,type:"password",nouperCase:!0,label:"Password",placeholder:"Masukan Password"})),l.a.createElement("div",{className:this.props.keterangan?"col-lg-12":"col-lg-12 d-none"},l.a.createElement(p.a,{name:"keterangan",component:u.e,label:"Keterangan",placeholder:"Masukan Keterangan"})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("label",null," \xa0 "),l.a.createElement("button",{type:"submit",name:"type_btn",className:"btn btn-primary btn-block",disabled:this.props.isLoadingOtorisasi},this.props.isLoadingOtorisasi?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Otorisasi"):"Otorisasi"))))}}]),t}(i.Component);d=Object(m.a)({form:"OtorisasiHancur",enableReinitialize:!0})(d),e.a=Object(c.b)(null)(d)}}]);
//# sourceMappingURL=13.4699fc92.chunk.js.map