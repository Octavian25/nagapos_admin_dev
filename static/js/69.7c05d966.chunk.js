(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{1293:function(e,a,t){"use strict";t.r(a);var n=t(19),i=t(20),o=t(33),s=t(22),r=t(21),l=t(12),c=t(0),d=t.n(c),m=t(58),u=t(311),p=t(312),b=t(9),h=t(78),k=t(732),g=t(210),f=t.n(g),v=t(159),E=function(e){Object(s.a)(t,e);var a=Object(r.a)(t);function t(){var e;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).state={aktif:!1},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(b.Hb)()),setTimeout(function(){document.getElementById("no_rekening").focus()},100)}},{key:"render",value:function(){var e=this;return d.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},this.props.isEdit?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.a,{name:"id",component:h.b,type:"hidden",readOnly:this.props.isEdit})):null,d.a.createElement(u.a,{tabIndex:"1",id:"no_rekening",name:"no_rekening",component:h.e,type:"text",normalize:v.c,label:"No Rekening",placeholder:"Masukan No Rekening"}),d.a.createElement(u.a,{tabIndex:"2",id:"nama_rekening",name:"nama_rekening",component:h.e,type:"text",label:"Nama Rekening",placeholder:"Masukan Nama Rekening"}),d.a.createElement(u.a,{id:"kode_bank",name:"kode_bank",component:h.f,options:this.props.data.map(function(e){return{name:e.nama_bank,value:e.kode_bank}}),type:"text",label:"Kode Bank",onChange:function(){return e.setState({aktif:!0})},placeholder:"Masukan Kode Bank"}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 text-right"},d.a.createElement("button",{className:"btn btn-white",onClick:function(){return e.props.dispatch(Object(b.lc)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",d.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?d.a.createElement(f.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),t}(c.Component);E=Object(p.a)({form:"ModalDataSales",enableReinitialize:!0,validate:k.a})(E);var _=Object(m.b)(function(e){if(null!==e.datamaster.ShowDataModal)return{data:e.datamaster.getDataBanks,initialValues:{id:e.datamaster.ShowDataModal.id,no_rekening:e.datamaster.ShowDataModal.no_rekening,kode_bank:e.datamaster.ShowDataModal.kode_bank,nama_rekening:e.datamaster.ShowDataModal.nama_rekening}}},null)(E),O=function(e){Object(s.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).state={isLoading:!1,settings:"",columns:[{dataField:"no_rekening",text:"No Rekening",sort:!0},{dataField:"nama_rekening",text:"Nama Rekening"},{dataField:"kode_bank",text:"Kode Bank"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(e,a){var t={id:a._id,kode_bank:a.kode_bank,nama_rekening:a.nama_rekening,no_rekening:a.no_rekening};return l.n.createElement("div",{className:"row text-center"},l.n.createElement("div",{className:"col-12"},l.n.createElement("button",{onClick:function(){return i.modalEdit(t)},className:"btn btn-primary mr-3"},l.n.createElement("i",{className:"fa fa-edit"})),l.n.createElement("button",{onClick:function(){return i.hapusData(a)},className:"btn btn-danger"},l.n.createElement("i",{className:"fa fa-trash"}))))}}]},i.handleSubmit=i.handleSubmit.bind(Object(o.a)(i)),i}return Object(i.a)(t,[{key:"hapusData",value:function(e){var a=this;l.r.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>No Rekening "+e.no_rekening+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(t){t.isConfirmed&&Object(l.x)("rekenings/"+e._id).then(function(e){Object(l.t)("success",e.data.message||"Berhasil Menghapus Data"),a.setState({isLoading:!1}),a.props.dispatch(Object(b.Vb)())}).catch(function(e){var t,n;Object(l.t)("info",(null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal Menghapus Data"),a.setState({isLoading:!1})})})}},{key:"handleSubmit",value:function(e){var a=this;this.setState({isLoading:!0}),this.state.isEdit?Object(l.P)("rekenings/"+e.id,e).then(function(e){var t;Object(l.t)("success",(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)||"Berhasil Menyimpan Data"),a.setState({isLoading:!1}),a.props.dispatch(Object(b.lc)()),a.props.dispatch(Object(b.Vb)())}).catch(function(e){var t,n;a.setState({isLoading:!1}),Object(l.t)("info",(null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"Terjadi Kesalhaan Saat Mengirim Data")}):Object(l.O)("rekenings",e).then(function(e){var t;Object(l.t)("success",(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)||"Berhasil Menyimpan Data"),a.setState({isLoading:!1}),a.props.dispatch(Object(b.lc)()),a.props.dispatch(Object(b.Vb)()),a.props.dispatch(Object(l.R)())}).catch(function(e){var t,n;a.setState({isLoading:!1}),Object(l.t)("info",(null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"Terjadi Kesalhaan Saat Mengirim Data")})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(b.Vb)())}},{key:"modalEdit",value:function(e){this.props.dispatch(Object(b.nc)()),this.props.dispatch(Object(b.lb)(e)),this.setState({isEdit:!0})}},{key:"showModal",value:function(){this.props.dispatch(Object(b.nc)()),this.props.dispatch(Object(b.lb)(!1)),this.setState({isEdit:!1})}},{key:"render",value:function(){var e=this;return l.n.createElement("div",null,l.n.createElement("ol",{className:"breadcrumb float-xl-right"},l.n.createElement("li",{className:"breadcrumb-item"},l.n.createElement(l.g,{to:"#"},"Data Master")),l.n.createElement("li",{className:"breadcrumb-item active"},"Master Rekening")),l.n.createElement("h1",{className:"page-header"},"Master Rekening "),l.n.createElement(l.k,null,l.n.createElement(l.m,null,"Master Rekening"),l.n.createElement(l.l,null,l.n.createElement(l.s,{keyField:"no_rekening",tambahData:!0,handleClick:function(){return e.showModal()},exportCsv:!0,data:this.props.data,columns:this.state.columns,empty:this.props.data,textEmpty:"Data Rekening"}))),l.n.createElement(l.i,{title:this.state.isEdit?"Edit Data Rekening":"Tambah Data Rekening",size:"P",content:l.n.createElement(_,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:function(a){return e.handleSubmit(a)}})}))}}]),t}(l.n.Component);O=Object(l.Q)({form:"MasterRekening",enableReinitialize:!0})(O);a.default=Object(l.u)(function(e){return{data:e.datamaster.getDataRekening}})(O)},732:function(e,a,t){"use strict";a.a=function(e,a){var t={};return e.kode_sales||(t.kode_sales="Kode Sales Tidak Boleh Kosong"),e.nama_sales||(t.nama_sales="Nama Sales Tidak Boleh Kosong"),e.kode_bank||(t.kode_bank="Kode Bank Tidak Boleh Kosong"),e.nama_bank||(t.nama_bank="Nama Bank Tidak Boleh Kosong"),e.no_rekening||(t.no_rekening="No Rekening Tidak Boleh Kosong"),e.nama_rekening||(t.nama_rekening="Nama Rekening Tidak Boleh Kosong"),t}}}]);
//# sourceMappingURL=69.7c05d966.chunk.js.map