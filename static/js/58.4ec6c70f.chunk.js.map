{"version":3,"sources":["pages/Pesanan/LihatPesanan/HeadPesanan.jsx","pages/Pesanan/LihatPesanan/HeadInputPembayaran.jsx","pages/Pesanan/LihatPesanan/ModalPembayaran.jsx","pages/Pesanan/LihatPesanan/index.jsx","Validasi/Penjualan/ValidasiPembayaran.jsx"],"names":["HeadPesanan","props","_this","Object","classCallCheck","this","_super","call","state","date","Date","setStartDate","bind","assertThisInitialized","setLastDate","data","setState","tgl_awal","tgl_akhir","_this2","library","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","autoComplete","className","name","component","InputDate","label","type","selected","onChange","placeholder","value","isLoading","Fragment","loading_default","a","loading","background","loaderColor","React","Component","reduxForm","form","enableReinitialize","connect","initialValues","getTglSystem","currencyMask","createNumberMask","prefix","locale","jenis_pembayaran","HeadInputPembayaran","type_pembayaran","columns","dataField","text","footerAttrs","colSpan","footer","dispatch","getDataSales","data_barang_penjualan","JSON","parse","localStoragedecryp","setTimeout","localStorage","getItem","total","forEach","element","nominal","total_bayar","NumberOnly","document","getElementById","change","parseInt","total_harga","focus","kembali","nominal_kembali","_this3","assign","id","ReanderField","hitungTotal","readOnly","options","pilihPembyaran","ReanderSelect","style","display","tabIndex","normalize","validate","ValidasiPembayaran","selector","formValueSelector","_selector","cash","grand_total_pembayaran","hasil","parseFloat","harus_bayar_rp","toString","replace","nominal_cash","ModalPembayaran","kembalian","formatter","cell","toLocaleString","columnData","reduce","acc","item","csvExport","headerClasses","rowcontent","row","index","disabled","status","onClick","hapusdata","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","then","result","isConfirmed","splice","setItem","undefined","no_card","jenis","ToastNotification","datacek","total_transaksi","sisa_bayar","nama_bank","length","console","log","b","findIndex","keterangan","fee","push","masuk","data_pembayaran","map","element2","LihatPesanan_HeadInputPembayaran","simpanPembayaran","keyField","exportCsv","empty","pagination","textEmpty","isLoadingPembayran","data_barang","no_titip_group","no_pesanan","LihatPesanan","datapesanan","status_pesanan","data-tooltip","batalPesanan","pembyaran","pembayaran","jumlah_rp","postData2","res","showModal","catch","err","tanggal","putData2","getData2","pesanan","nama_customer","no_hp","jumlah_bayar","tanggal_transaksi","detail_barang","error","test","response","message","_this4","data_post","formatDate","moment","format","_this5","expandRow","renderer","detail","kode_kategori","perkiraan_berat","toFixed","perkiraan_kadar","harga_gram","attribut","harga_atribut","kode_barcode","ongkos","sub_total","deskripsi","deskripsi_contoh","showExpandColumn","to","LihatPesanan_HeadPesanan","size","content","LihatPesanan_ModalPembayaran","isLoadingPembayranTitipan","bayarTitipan","simpanPembayaranAmbilPesanan","errors"],"mappings":"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","file":"static/js/58.4ec6c70f.chunk.js","sourcesContent":["import { React, connect, reduxForm, InputDate, Field, getTglSystem } from \"../../../components/helpers/library\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nclass HeadPesanan extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: new Date(),\r\n    };\r\n    this.setStartDate = this.setStartDate.bind(this);\r\n    this.setLastDate = this.setLastDate.bind(this);\r\n  }\r\n\r\n  handleSubmit(data) {}\r\n  setStartDate(date) {\r\n    this.setState({\r\n      tgl_awal: new Date(date),\r\n    });\r\n  }\r\n  setLastDate(date) {\r\n    this.setState({\r\n      tgl_akhir: new Date(date),\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-4\">\r\n              <Field\r\n                name=\"tgl_awal\"\r\n                component={InputDate}\r\n                label=\"Tanggal Dari\"\r\n                type=\"text\"\r\n                selected={this.state.tgl_awal}\r\n                onChange={(date) => this.setStartDate(date)}\r\n                placeholder=\"Masukan Tanggal Dari\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-lg-4\">\r\n              <Field\r\n                name=\"tgl_akhir\"\r\n                component={InputDate}\r\n                type=\"text\"\r\n                selected={this.state.tgl_akhir}\r\n                onChange={(date) => this.setLastDate(date)}\r\n                label=\"Tanggal Akhir\"\r\n                placeholder=\"Masukan Tanggal Akhir\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"col-lg-4\">\r\n              <div className=\"text-right\">\r\n                <label>&nbsp;</label>\r\n                <button\r\n                  type=\"submit\"\r\n                  value=\"PDF\"\r\n                  name=\"type_btn\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                >\r\n                  {this.props.isLoading ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                      Mencari\r\n                    </>\r\n                  ) : (\r\n                    \"Cari Pesanan\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {this.props.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHeadPesanan = reduxForm({\r\n  form: \"HeadPesanan\",\r\n  enableReinitialize: true,\r\n})(HeadPesanan);\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    initialValues: {\r\n      tgl_awal: getTglSystem(),\r\n      tgl_akhir: getTglSystem(),\r\n    },\r\n  };\r\n})(HeadPesanan);\r\n","import {\r\n  React,\r\n  Component,\r\n  connect,\r\n  Field,\r\n  createNumberMask,\r\n  formValueSelector,\r\n  reduxForm,\r\n  NumberOnly,\r\n  localStoragedecryp,\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/helpers/library\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport ValidasiPembayaran from \"../../../Validasi/Penjualan/ValidasiPembayaran\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"kr-KO\",\r\n});\r\nconst jenis_pembayaran = [\r\n  {\r\n    value: \"CASH\",\r\n    name: \"CASH\",\r\n  },\r\n  {\r\n    value: \"DEBET\",\r\n    name: \"DEBET\",\r\n  },\r\n  {\r\n    value: \"TRANSFER\",\r\n    name: \"TRANSFER\",\r\n  },\r\n  {\r\n    value: \"CREDIT\",\r\n    name: \"CREDIT\",\r\n  },\r\n];\r\nclass HeadInputPembayaran extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      type_pembayaran: \"CASH\",\r\n      columns: [\r\n        // {\r\n        //   dataField: \"nama_bank\",\r\n        //   text: \"Nama Bank\",\r\n        //   footerAttrs: {\r\n        //     colSpan: \"2\",\r\n        //   },\r\n        //   footer: \"Grand Total\",\r\n        // },\r\n        {\r\n          dataField: \"type\",\r\n          text: \"Type\",\r\n          footerAttrs: {\r\n            colSpan: \"1\",\r\n          },\r\n          footer: \"Grand Total\",\r\n        },\r\n        {\r\n          dataField: \"Total\",\r\n          text: \"Total\",\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    let data_barang_penjualan = JSON.parse(\r\n      localStoragedecryp(\"data_barang_ambil_pesanan\")\r\n    );\r\n\r\n    setTimeout(() => {\r\n      // console.log();\r\n      let data = JSON.parse(localStorage.getItem(\"trx_pemabayran_ambil_pesanan\")) || [];\r\n      let total = 0;\r\n      data.forEach((element) => {\r\n        total = element.nominal + total;\r\n      });\r\n      let total_bayar = NumberOnly(document.getElementById('grand_total_pembayaran').value);\r\n      this.props.change('harus_bayar_rp',parseInt(total_bayar) - parseInt(total))\r\n    }, 100);\r\n\r\n    // let total_dp = getItem(\"total_dp\");\r\n    // this.props.change(\"total_dp\", total_dp);\r\n  \r\n    this.props.change(\"grand_total_pembayaran\", data_barang_penjualan.total_harga);\r\n    // this.props.change(\"harus_bayar_rp\", total);\r\n    this.props.change(\"jenis\", \"CASH\");\r\n    setTimeout(() => {\r\n      document.getElementById(\"cash_trx_penjualan\").focus();\r\n    }, 100);\r\n  }\r\n  hitungTotal() {\r\n    // console.log(this.props.nominal_kembali);\r\n    this.props.change(\"kembali\", this.props.kembali);\r\n    this.props.change(\"nominal_kembali\", this.props.nominal_kembali);\r\n  }\r\n\r\n  pilihPembyaran(e) {\r\n    if (e === \"CASH\") {\r\n      this.setState({\r\n        type_pembayaran: \"CASH\",\r\n      });\r\n    } else if (e === \"TRANSFER\") {\r\n      this.setState({\r\n        type_pembayaran: \"TRANSFER\",\r\n      });\r\n    } else if (e === \"DEBET\") {\r\n      this.setState({\r\n        type_pembayaran: \"DEBET\",\r\n      });\r\n    } else {\r\n      this.setState({\r\n        type_pembayaran: \"CREDIT\"\r\n      })\r\n    }\r\n    this.props.change(\"cash\", \"\");\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <Field\r\n              id=\"grand_total_pembayaran\"\r\n              name=\"grand_total_pembayaran\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              onChange={this.hitungTotal()}\r\n              readOnly={true}\r\n              {...currencyMask}\r\n              label=\"Total Harga Jual\"\r\n              placeholder=\"Total Harga Jual\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"col-6\">\r\n            <Field\r\n              id=\"harus_bayar_rp\"\r\n              name=\"harus_bayar_rp\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              onChange={this.hitungTotal()}\r\n              readOnly={true}\r\n              {...currencyMask}\r\n              label=\"Harus Bayar Rp\"\r\n              placeholder=\"Harus Bayar Rp\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"jenis\"\r\n              label=\"Pilih Jenis Bayar\"\r\n              placeholder=\"Pilih Jenis Pembayaran\"\r\n              options={jenis_pembayaran}\r\n              onChange={(e) => this.pilihPembyaran(e)}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            className=\"col-6\"\r\n            style={{\r\n              display:\r\n                this.state.type_pembayaran === \"CASH\"\r\n                  ? \"none\"\r\n                  : this.state.type_pembayaran === \"DEBET\"\r\n                  ? \"block\"\r\n                  : \"block\",\r\n            }}\r\n          >\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"nama_bank\"\r\n              id=\"nama_bank\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Bank\"\r\n              placeholder=\"Masukan Nama Bank\"\r\n            />\r\n          </div>\r\n          <div\r\n            className=\"col-6\"\r\n            style={{\r\n              display:\r\n                this.state.type_pembayaran === \"CASH\"\r\n                  ? \"none\"\r\n                  : this.state.type_pembayaran === \"DEBET\"\r\n                  ? \"none\"\r\n                  : \"block\",\r\n            }}\r\n          >\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"no_card\"\r\n              id=\"no_card\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Card No\"\r\n              placeholder=\"Masukan Card No\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"cash\"\r\n              id=\"cash_trx_penjualan\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nominal\"\r\n              onChange={this.hitungTotal()}\r\n              {...currencyMask}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Masukan Nominal\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\" \r\n          style={{\r\n              display:\r\n                this.state.type_pembayaran === \"CREDIT\"\r\n                  ? \"block\"\r\n                  : \"none\"\r\n            }}>\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"fee\"\r\n              id=\"fee\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Fee (%)\"\r\n              normalize={NumberOnly}\r\n              placeholder=\"5\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6 d-none\">\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"nominal_kembali\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nominal\"\r\n              placeholder=\"Masukan Nominal\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"kembali\"\r\n              id=\"sisa_bayar\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              readOnly={true}\r\n              label=\"Sisa\"\r\n              //   {...currencyMask}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Sisa Pembayaran\"\r\n            />\r\n          </div>\r\n          <div\r\n            className={\r\n              this.state.type_pembayaran === \"CASH\"\r\n                ? \"col-6 text-right\"\r\n                : this.state.type_pembayaran === \"TRANSFER\"\r\n                ? \"col-6 text-right\"\r\n                : \"col-12 text-right\"\r\n            }\r\n          >\r\n            <br />\r\n            <label>&nbsp;</label>\r\n            <button tabIndex=\"2\" className=\"btn btn-primary\">\r\n              {\" \"}\r\n              <i className=\"fa fa-plus\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadInputPembayaran = reduxForm({\r\n  form: \"HeadInputPembayaran\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPembayaran,\r\n})(HeadInputPembayaran);\r\n\r\nconst selector = formValueSelector(\"HeadInputPembayaran\"); // <-- same as form name\r\n\r\nexport default connect((state) => {\r\n  const { cash,grand_total_pembayaran } = selector(\r\n    state,\r\n    \"grand_total_pembayaran\",\r\n    \"cash\"\r\n  );\r\n  let data = JSON.parse(localStorage.getItem(\"trx_pemabayran_ambil_pesanan\")) || [];\r\n  let total = 0;\r\n  data.forEach((element) => {\r\n    total = element.nominal + total;\r\n  });\r\n  let hasil = parseFloat(total || 0) - parseFloat(grand_total_pembayaran || 0);\r\n  return {\r\n    harus_bayar_rp: hasil,\r\n    kembali: hasil.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\r\n    nominal_cash: cash,\r\n    nominal_kembali : hasil + parseInt(cash)\r\n  };\r\n})(HeadInputPembayaran);\r\n","import {\r\n  React,\r\n  reduxForm,\r\n  Component,\r\n  connect,\r\n  getItem,\r\n  setItem,\r\n  Tabel,\r\n  Swal,\r\n  ToastNotification,\r\n} from \"../../../components/helpers/library\";\r\n\r\nimport ValidasiPembayaran from \"../../../Validasi/Penjualan/ValidasiPembayaran\";\r\nimport HeadInputPembayaran from \"./HeadInputPembayaran\";\r\n\r\n// data_barang_penjualan_tmp\r\n\r\nconst maptostate = (state) => {\r\n  let data_barang = getItem(\"data_barang_pesanan\") || [];\r\n  let status = \"PENJUALAN\";\r\n  data_barang.forEach((element) => {\r\n    if (element.no_titip_group === \"-\") {\r\n      status = \"PENJUALAN\";\r\n    } if (element.no_pesanan === \"-\") {\r\n      status = \"PESANAN\";\r\n    } else {\r\n      status = \"TITIPAN\";\r\n    }\r\n  });\r\n  return {\r\n    status: status,\r\n  };\r\n};\r\nclass ModalPembayaran extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      type_pembayaran: \"CASH\",\r\n      kembalian: \"\",\r\n      columns: [\r\n        {\r\n          dataField: \"jenis\",\r\n          text: \"Jenis\",\r\n          footerAttrs: {\r\n            colSpan: \"2\",\r\n          },\r\n          footer: \"Grand Total\",\r\n        },\r\n        {\r\n          dataField: \"keterangan\",\r\n          text: \"Keterangan\",\r\n        },\r\n        {\r\n          dataField: \"nominal\",\r\n          text: \"Total\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"kr-KO\"),\r\n        },\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    disabled={row.status === \"DONE\" ? true : false}\r\n                    onClick={() => this.hapusdata(index)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  hapusdata(id) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      // console.log(id);\r\n      if (result.isConfirmed) {\r\n        let data = getItem(\"trx_pemabayran_ambil_pesanan\");\r\n        data.splice(id, 1);\r\n        setItem(\"trx_pemabayran_ambil_pesanan\", data);\r\n        this.setState({\r\n          status: \"berhasil\",\r\n        });\r\n        // deleteLocalItemBarcode(\"data_barang_hancur_tmp\", id);\r\n        // this.props.dispatch(getListReturnSupplier());\r\n      }\r\n    });\r\n  }\r\n  simpanPembayaran(row) {\r\n    if(row.no_card === undefined && row.jenis !== \"CASH\" && row.jenis !== \"DEBET\"){\r\n      ToastNotification(\"info\", \"Nomor kartu tidak boleh kosong\");\r\n      return false;\r\n    }\r\n    let datacek = {\r\n      total_transaksi : row.grand_total_pembayaran,\r\n      sisa_bayar : row.nominal_kembali\r\n    }\r\n    // console.log(row);\r\n    if(row.nama_bank === undefined && row.jenis !== \"CASH\"){\r\n      ToastNotification(\"info\", \"Nama Bank tidak boleh kosong\");\r\n      return false;\r\n    }\r\n    if(row.cash === undefined || row.cash === \"0\"){\r\n      ToastNotification(\"info\", \"Nominal tidak boleh kosong\");\r\n      return false;\r\n    }\r\n    setItem('sisa_bayar_pesanan',datacek)\r\n    let data = JSON.parse(localStorage.getItem(\"trx_pemabayran_ambil_pesanan\")) || [];\r\n    if (row.jenis !== \"CASH\" && !data.length) {\r\n      if (row.kembali.replace(/[^0-9]/g, \"\") - row.cash < 0) {\r\n        ToastNotification(\"info\", \"Pembayaran tidak boleh lebih dari sisa\");\r\n        return false;\r\n      }\r\n    } else {\r\n      if(row.jenis !== \"CASH\"){\r\n      if (row.kembali.replace(/[^0-9]/g, \"\") - row.cash < 0 && parseInt(row.kembali) !== 0){\r\n        ToastNotification(\"info\", \"Pembayaran tidak boleh lebih dari sisa\");\r\n        return false;\r\n      } else {\r\n        console.log(row.grand_total_pembayaran);\r\n        if (data.reduce((a, b) => a + b.nominal, 0) >= row.grand_total_pembayaran) {\r\n          ToastNotification(\"info\", \"Pembayaran Sudah Cukup1\");\r\n          return false;\r\n        }\r\n        }\r\n      }\r\n    }\r\n   \r\n\r\n    let cash = data.findIndex((hasil) => hasil.jenis === \"CASH\");\r\n    if (cash >= 0) {\r\n      if (row.kembali.replace(/[^0-9]/g, \"\") - row.cash < 0 && data.reduce((a, b) => a + b.nominal, 0) > row.grand_total_pembayaran) {\r\n        ToastNotification(\"info\", \"Pembayaran Sudah Cukup2\");\r\n        return false;\r\n      } else {\r\n        if (data.reduce((a, b) => a + b.nominal, 0) >= row.grand_total_pembayaran) {\r\n          ToastNotification(\"info\", \"Pembayaran Sudah Cukup3\");\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    let index = data.findIndex((hasil) => hasil.jenis === row.jenis);\r\n    if (index === -1) {\r\n      let keterangan = \"\";\r\n      if (row.jenis === \"CASH\") {\r\n        keterangan = \"CASH\";\r\n      } else if (row.jenis === \"TRANSFER\") {\r\n        keterangan = row.no_card + \" - \" + row.nama_bank;\r\n      } else {\r\n        keterangan = row.nama_bank;\r\n      }\r\n      let hasil = {\r\n        jenis: row.jenis,\r\n        nominal: parseInt(row.cash) * parseInt(row.fee || 0) / 100 + parseInt(row.cash),\r\n        nama_bank: row.nama_bank,\r\n        fee : row.jenis === \"CREDIT\" ? row.fee || 0 : 0 ,\r\n        no_card: row.no_card || \"-\",\r\n        keterangan: keterangan,\r\n        kembali: row.nominal_kembali\r\n      };\r\n      data.push(hasil);\r\n      this.setState({\r\n        masuk: true,\r\n        kembalian: row.kembali,\r\n      });\r\n      setItem(\"trx_pemabayran_ambil_pesanan\", data);\r\n    } else {\r\n      let data_pembayaran = getItem(\"trx_pemabayran_ambil_pesanan\");\r\n      data_pembayaran = data_pembayaran.map((element2) => {\r\n        if (element2.jenis === row.jenis) {\r\n          element2.nominal += parseInt(row.cash);\r\n        }\r\n        return element2;\r\n      });\r\n      setItem(\"trx_pemabayran_ambil_pesanan\", data_pembayaran);\r\n      this.setState({\r\n        status: true,\r\n        kembalian: row.kembalian,\r\n      });\r\n      // ToastNotification(\r\n      //   \"info\",\r\n      //   \"Pembayaran dengan \" + row.jenis + \" sudah ada\"\r\n      // );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <HeadInputPembayaran onSubmit={(data) => this.simpanPembayaran(data)} />\r\n        <hr />\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Tabel\r\n            // handleClick={() => this.simpanpembbayaran()}\r\n            keyField=\"jenis\"\r\n            // tambahData={true}\r\n            // btnText=\"Tambah Pembyaran\"\r\n            exportCsv={false}\r\n            data={getItem(\"trx_pemabayran_ambil_pesanan\") || []}\r\n            columns={this.state.columns}\r\n            empty={true}\r\n            pagination=\"off\"\r\n            textEmpty=\"Data Pembayaran Kosong\"\r\n          />\r\n          <div className=\"row\">\r\n            <div className=\"col-12 text-right\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                disabled={this.props.isLoadingPembayran}\r\n                onClick={() => this.props.simpanPembayaran()}\r\n                type=\"button\"\r\n              >\r\n                {this.props.isLoadingPembayran ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                    Diproses\r\n                  </>\r\n                ) : (\r\n                  \"Bayar Sekarang\"\r\n                )}\r\n              </button>\r\n            </div>\r\n           \r\n          </div>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nModalPembayaran = reduxForm({\r\n  form: \"ModalPembayaran\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPembayaran,\r\n})(ModalPembayaran);\r\n\r\nexport default connect(maptostate)(ModalPembayaran);\r\n","import {\r\n  React,\r\n  connect,\r\n  Link,\r\n  reduxForm,\r\n  Panel,\r\n  PanelHeader,\r\n  Tabel,\r\n  formatDate,\r\n  moment,\r\n  setItem,\r\n  ToastNotification,\r\n  getItem,\r\n  Swal,\r\n  showModal,\r\n  ModalGlobal,\r\n} from \"../../../components/helpers/library\";\r\nimport { getData2, postData2, putData2 } from \"../../../config/axios\";\r\nimport HeadPesanan from \"./HeadPesanan\";\r\nimport Loading from 'react-fullscreen-loading';\r\nimport ModalPembayaran from \"./ModalPembayaran\";\r\n\r\nclass LihatPesanan extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      datapesanan: [],\r\n      columns: [\r\n        {\r\n          dataField: \"no_pesanan\",\r\n          text: \"No Pesanan\",\r\n          footerAttrs: {\r\n            colSpan: \"3\",\r\n          },\r\n          footer: \"Total\",\r\n        },\r\n        {\r\n          dataField: \"tanggal_transaksi\",\r\n          text: \"Tgl Transaksi\",\r\n        },\r\n        {\r\n          dataField: \"nama_customer\",\r\n          text: \"Nama Customer\",\r\n        },\r\n        {\r\n          dataField: \"no_hp\",\r\n          text: \"Nomor HP\",\r\n        },\r\n        {\r\n          dataField: \"total_harga\",\r\n          text: \"Total Harga\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"jumlah_bayar\",\r\n          text: \"Jumlah Pembayaran\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n          },\r\n        },\r\n        // {\r\n        //   dataField: \"sisa_bayar\",\r\n        //   text: \"Sisa Bayar\",\r\n        //   formatter: (cell) => {\r\n        //     return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\r\n        //   },\r\n        // },\r\n\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  {/* {row.status_pesanan === \"DONE\" ? \r\n                  <button\r\n                  type=\"button\"\r\n                  \r\n                  data-tooltip=\"Ambil Pesanan\"\r\n                  onClick={() => this.ambilpesanan(row)}\r\n                  className=\"btn btn-success mr-3\"\r\n                >\r\n                  <i className=\"fa fa-check\"></i>\r\n                  </button>\r\n                  : */}\r\n                  <button\r\n                    type=\"button\"\r\n                    disabled={\r\n                      row.status_pesanan === \"DONE\" ? true : false\r\n                    }\r\n                    data-tooltip={\r\n                      row.status_pesanan === \"DONE\"\r\n                        ? \"Tidak Bisa Dibatal\"\r\n                        : \"Batal Pesanan\"\r\n                    }\r\n                    onClick={() => this.batalPesanan(row)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-window-close\"></i>\r\n                    </button>\r\n                  {/* } */}\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  ambilpesanan(row) {\r\n    let pembyaran = [];\r\n    row.pembayaran.forEach(element => {\r\n      let row = {\r\n        jenis : element.jenis,\r\n        keterangan : element.keterangan,\r\n        nominal: element.jumlah_rp,\r\n        status : \"DONE\"\r\n      }\r\n      pembyaran.push(row)\r\n    });\r\n    setItem('trx_pemabayran_ambil_pesanan', pembyaran)\r\n    postData2(\"pesanan/ambil/no\", { no_pesanan: row.no_pesanan }).then((res) => {\r\n      setItem('data_barang_ambil_pesanan', res.data)\r\n      this.props.dispatch(showModal());\r\n    }).catch((err) => {\r\n      ToastNotification('info', 'Terjadi Kesalahaan Saat Request Data')\r\n    })\r\n   \r\n  }\r\n\r\n  // simpanPembayaranAmbilPesanan() {\r\n  //   this.setState({\r\n  //     isLoadingPembayran: true,\r\n  //     onSend: true,\r\n  //   });\r\n  //   let harus_bayar = document.getElementById(\"harus_bayar_rp\").value;\r\n  //   let harus_bayar2 = harus_bayar.replace(\"Rp.\", \"\");\r\n  //   let harus_bayar3 = harus_bayar2.replaceAll(\".\", \"\");\r\n  //   let data_pesanan = JSON.parse(\r\n  //     localStoragedecryp(\"data_barang_ambil_pesanan\")\r\n  //   );\r\n  //   let detail_barang = [];\r\n\r\n  //   data_pesanan.dataPesanan.forEach((item, index) => {\r\n  //     let row = {\r\n  //       no_pesanan: item.no_pesanan,\r\n  //       kode_barcode: item.kode_barcode,\r\n  //       berat: data_pesana.berat,\r\n  //       berat_bandrol: data_pesanan.berat_bandrol,\r\n  //       ongkos: item.ongkos,\r\n  //       harga_jual: data_pesanan.harga_jual,\r\n  //       berat_atribut: data_pesanan.berat_atribut,\r\n  //       harga_atribut: item.harga_atribut,\r\n  //     };\r\n    \r\n  //     detail_barang.push(row);\r\n  //   });\r\n  //   let pembayaran = getItem(\"trx_pemabayran_ambil_pesanan\");\r\n  //   let data_pembayaran = [];\r\n  //   let total_pembayarn = 0;\r\n  //   pembayaran.forEach((element) => {\r\n  //     let row = {\r\n  //       bank : element.jenis !== \"CASH\" ? element.nama_bank : \"CASH\", \r\n  //       jenis: element.jenis,\r\n  //       keterangan: element.keterangan,\r\n  //       nominal: element.nominal >= parseInt(getItem('sisa_bayar_penjualan').total_transaksi) ? parseInt(element.nominal) - parseInt(getItem('sisa_bayar_penjualan').sisa_bayar) : parseInt(element.nominal),\r\n  //     };\r\n  //     total_pembayarn = element.nominal + total_pembayarn;\r\n  //     data_pembayaran.push(row);\r\n  //   });\r\n\r\n  //   let sisa = parseInt(harus_bayar3) - parseInt(total_pembayarn);\r\n\r\n  //   if (parseInt(sisa) > 0) {\r\n  //     ToastNotification(\r\n  //       \"info\",\r\n  //       \"Pembayaran Masih Kurang Rp.\" + parseInt(sisa).toLocaleString(\"kr-KO\")\r\n  //     );\r\n  //     this.setState({\r\n  //       isLoadingPembayran: false,\r\n  //       onSend: false,\r\n  //     });\r\n  //     return false;\r\n  //   }\r\n\r\n  //   let data_customer = JSON.parse(localStoragedecryp(\"data_customer_tmp\"));\r\n    \r\n  //   let datapenjualan = {\r\n  //     status: \"PENJUALAN\",\r\n  //     kode_sales: data_customer.kode_sales,\r\n  //     kode_member:\r\n  //       data_customer.jenis_pelanggan === \"NONMEMBER\"\r\n  //         ? data_customer.jenis_pelanggan\r\n  //         : data_customer.kode_customer,\r\n  //     nama_customer: data_customer.nama_customer,\r\n  //     alamat_customer: data_customer.alamat_customer,\r\n  //     no_hp: data_customer.no_hp,\r\n  //     detail_barang: detail_barang,\r\n  //     pembayaran: data_pembayaran,\r\n  //   };\r\n   \r\n  //   console.log(datapenjualan);\r\n  //   return false\r\n  //   postData(\"penjualan/simpan\", datapenjualan)\r\n  //     .then((res) => {\r\n  //       console.log(res.data);\r\n  //       localStorageencryp(\"data_barang_penjualan_tmp\", JSON.stringify([]));\r\n  //       ToastNotification(\"success\", res.data.message);\r\n  //     })\r\n  //     .then(() => {\r\n  //       this.props.dispatch(hideModal());\r\n  //     })\r\n  //     .then(() => {\r\n  //       this.props.dispatch(reset(\"ModalPembayaran\"));\r\n  //     })\r\n  //     .then(() => {\r\n  //       localStorageencryp(\"data_customer_tmp\", JSON.stringify([]));\r\n  //       localStorageencryp(\"total_dp\", JSON.stringify([]));\r\n  //       localStorageencryp(\"trx_pemabayran_penjualan\", JSON.stringify([]));\r\n  //       localStorageencryp(\"filter_titipan\", JSON.stringify([]));\r\n  //       setItem('sisa_bayar_penjualan',0)\r\n  //     })\r\n  //     .then(() => {\r\n  //       this.setState({\r\n  //         isLoadingPembayran: false,\r\n  //         onSend: false,\r\n  //       });\r\n\r\n  //     })\r\n  //     .catch((err) =>\r\n  //       {\r\n  //         this.setState({\r\n  //           isLoadingPembayran: false,\r\n  //           onSend: false,\r\n  //         });\r\n  //         this.errorhandling(err.response.data || \"Koneksi Bermasalah\")\r\n  //       }\r\n  //     );\r\n  // }\r\n  batalPesanan(row) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Membatalkan Pesanan Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        let tanggal = getItem(\"tgl_laporan\");\r\n        this.setState({\r\n          isLoading: true,\r\n        });\r\n        putData2(\"pesanan/cancel\", { no_pesanan: row.no_pesanan })\r\n          .then((res) => {\r\n            this.setState({\r\n              isLoading: false,\r\n            });\r\n            ToastNotification(\"success\", \"Pesanan Berhasil Di Batal\");\r\n            getData2(\r\n              \"pesanan/\" + tanggal.tgl_awal + \"/\" + tanggal.tgl_akhir\r\n            ).then((res) => {\r\n              // console.log(res.data);\r\n              let pesanan = [];\r\n                res.data.forEach((element) => {\r\n                  let row = {\r\n                    no_pesanan: element.no_pesanan,\r\n                    nama_customer: element.nama_customer,\r\n                    no_hp: element.no_hp,\r\n                    sisa_bayar: element.sisa_bayar,\r\n                    jumlah_bayar: element.jumlah_bayar,\r\n                    total_harga: element.total_harga,\r\n                    tanggal_transaksi: element.tanggal,\r\n                    detail_barang: element.detail_barang,\r\n                    pembayaran: element.pembayaran,\r\n                    status_pesanan: element.status_pesanan,\r\n                  };\r\n                  pesanan.push(row);\r\n                });\r\n              this.setState({\r\n                datapesanan: pesanan,\r\n                isLoading: false,\r\n              });\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            this.setState({\r\n              isLoading: false,\r\n            });\r\n            ToastNotification(\"info\", /conflict/i.test(error.response.data.message || \"Error\") ? \"Terjadi Kesalahan Saat Mengirim Data\" : error.response.data.message);\r\n          });\r\n      }\r\n    });\r\n  }\r\n  handleSubmit(data) {\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    getData2(\"pesanan/\" + data.tgl_awal + \"/\" + data.tgl_akhir)\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Pesanan Tidak Ada\");\r\n        }\r\n        // res\r\n        let pesanan = [];\r\n        res.data.forEach((element) => {\r\n          let row = {\r\n            no_pesanan: element.no_pesanan,\r\n            nama_customer: element.nama_customer,\r\n            no_hp: element.no_hp,\r\n            sisa_bayar: element.sisa_bayar,\r\n            jumlah_bayar: element.jumlah_bayar,\r\n            total_harga: element.total_harga,\r\n            tanggal_transaksi: element.tanggal,\r\n            detail_barang: element.detail_barang,\r\n            pembayaran: element.pembayaran,\r\n            status_pesanan: element.status_pesanan,\r\n          };\r\n          pesanan.push(row);\r\n        });\r\n\r\n        let data_post = {\r\n          tgl_awal: formatDate(\r\n            moment(new Date(data.tgl_awal)).format(\"YYYY-MM-DD\")\r\n          ),\r\n          tgl_akhir: formatDate(\r\n            moment(new Date(data.tgl_akhir)).format(\"YYYY-MM-DD\")\r\n          ),\r\n        };\r\n        this.setState({\r\n          isLoading: false,\r\n          datapesanan: pesanan,\r\n        });\r\n        setItem(\"tgl_laporan\", data_post);\r\n      })\r\n      .catch((error) => {\r\n        ToastNotification(\"info\", /conflict/i.test(error.response.data.message || \"Error\") ? \"Terjadi Kesalahan Saat Mengirim Data\" : error.response.data.message);\r\n        this.setState({\r\n          isLoading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const expandRow = {\r\n      renderer: (row) => (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              Detail Barang\r\n              <table>\r\n                <tr>\r\n                  <td> Kode Kategori </td>\r\n                  <td> Perkiraan Berat </td>\r\n                  <td> Perkiraan Kadar </td>\r\n                  <td> Harga / Gram </td>\r\n                  <td> Attribut </td>\r\n                  <td> Harga Attribut </td>\r\n                  <td> Kode Barcode </td>\r\n                  <td> Ongkos </td>\r\n                  <td> Total </td>\r\n                  <td> keterangan </td>\r\n                  <td> Deskripsi </td>\r\n                  <td> Deskripsi Contoh </td>\r\n                </tr>\r\n                {row.detail_barang.map((detail, index) => (\r\n                  <>\r\n                    <tr>\r\n                      <td> {detail.kode_kategori}</td>\r\n                      <td> {detail.perkiraan_berat.toFixed(3)}</td>\r\n                      <td> {detail.perkiraan_kadar}</td>\r\n                      <td> {detail.harga_gram.toLocaleString(\"kr-KO\")}</td>\r\n                      <td> {detail.attribut}</td>\r\n                      <td> {detail.harga_atribut.toLocaleString(\"kr-KO\")}</td>\r\n                      <td> {detail.kode_barcode}</td>\r\n                      <td> {detail.ongkos.toLocaleString(\"kr-KO\")}</td>\r\n                      <td> {detail.sub_total.toLocaleString(\"kr-KO\")}</td>\r\n                      <td> {detail.keterangan}</td>\r\n                      <td> {detail.deskripsi}</td>\r\n                      <td> {detail.deskripsi_contoh}</td>\r\n                    </tr>\r\n                  </>\r\n                ))}\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ),\r\n      showExpandColumn: true,\r\n    };\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Pesanan</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Lihat Pesanan</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Lihat Pesanan </h1>\r\n        <Panel>\r\n          <PanelHeader>Lihat Pesanan</PanelHeader>\r\n          <br />\r\n          {/* Lihat Pesanan */}\r\n          <div className=\"container\">\r\n            <HeadPesanan\r\n              isLoading={this.state.isLoading}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n            />\r\n            <Tabel\r\n              keyField=\"no_pesanan\"\r\n              exportCsv={false}\r\n              data={this.state.datapesanan}\r\n              columns={this.state.columns}\r\n              empty={true}\r\n              textEmpty=\"Data Barang Kosong\"\r\n              expandRow={expandRow}\r\n            />\r\n          </div>\r\n          <br />\r\n          {/* End Tambah Lihat Pesanan  */}\r\n          <ModalGlobal\r\n          size=\"l\"\r\n          title=\"Form Pembayaran\"\r\n          content={\r\n              <ModalPembayaran\r\n                isLoadingPembayranTitipan={this.state.isLoadingPembayranTitipan}\r\n                isLoadingPembayran={this.state.isLoadingPembayran}\r\n                bayarTitipan={(data) => this.bayarTitipan(data)}\r\n                simpanPembayaran={(data) => this.simpanPembayaranAmbilPesanan(data)}\r\n              />\r\n          }\r\n        />\r\n        </Panel>\r\n        {this.state.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLihatPesanan = reduxForm({\r\n  form: \"LihatPesanan\",\r\n  enableReinitialize: true,\r\n})(LihatPesanan);\r\nexport default connect()(LihatPesanan);\r\n","const ValidasiPembayaran = (value) => {\r\n    const errors = {};\r\n    if (!value.jenis) {\r\n        errors.jenis = \"Jenis Tidak Boleh Kosong\";\r\n    }\r\n    // if (!value.cash) {\r\n    //     errors.cash = \"Nominal Tidak Boleh Kosong\";\r\n    // }\r\n\r\n    return errors;\r\n}\r\n\r\nexport default ValidasiPembayaran;\r\n\r\n\r\n"],"sourceRoot":""}