(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1292:function(a,e,t){"use strict";t.r(e);var n=t(19),i=t(20),s=t(33),o=t(22),l=t(21),r=t(9),c=t(12),d=t(0),m=t.n(d),u=t(58),b=t(311),p=t(312),h=t(78),k=t(732),f=t(210),g=t.n(f),v=function(a){Object(o.a)(t,a);var e=Object(l.a)(t);function t(){var a;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(a=e.call.apply(e,[this].concat(s))).state={aktif:!1},a}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var a=this;setTimeout(function(){a.props.isEdit?document.getElementById("nama_bank").focus():document.getElementById("kode_bank").focus()},100)}},{key:"render",value:function(){var a=this;return m.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},this.props.isEdit?m.a.createElement(m.a.Fragment,null,m.a.createElement(b.a,{name:"id",component:h.b,type:"hidden",readOnly:this.props.isEdit})):null,m.a.createElement(b.a,{tabIndex:"1",id:"kode_bank",name:"kode_bank",component:h.e,type:"text",label:"Kode Bank",placeholder:"Masukan Kode Bank",readOnly:this.props.isEdit}),m.a.createElement(b.a,{id:"nama_bank",tabIndex:"2",name:"nama_bank",component:h.e,type:"text",label:"Nama Bank",onBlur:function(){return a.setState({aktif:!0})},placeholder:"Masukan Nama Bank"}),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12 text-right"},m.a.createElement("button",{className:"btn btn-white",onClick:function(){return a.props.dispatch(Object(r.lc)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",m.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?m.a.createElement(m.a.Fragment,null,m.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?m.a.createElement(g.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),t}(d.Component);v=Object(p.a)({form:"ModalDataSales",enableReinitialize:!0,validate:k.a})(v);var E=Object(u.b)(function(a){if(null!==a.datamaster.ShowDataModal)return{initialValues:{id:a.datamaster.ShowDataModal.id,kode_bank:a.datamaster.ShowDataModal.kode_bank,nama_bank:a.datamaster.ShowDataModal.nama_bank}}},null)(v),O=function(a){Object(o.a)(t,a);var e=Object(l.a)(t);function t(a){var i;return Object(n.a)(this,t),(i=e.call(this,a)).state={isLoading:!1,settings:"",columns:[{dataField:"kode_bank",text:"Kode Bank",sort:!0},{dataField:"nama_bank",text:"Nama Bank"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,e){var t={id:e._id,kode_bank:e.kode_bank,nama_bank:e.nama_bank};return c.n.createElement("div",{className:"row text-center"},c.n.createElement("div",{className:"col-12"},c.n.createElement("button",{onClick:function(){return i.modalEdit(t)},className:"btn btn-primary mr-3"},c.n.createElement("i",{className:"fa fa-edit"})),c.n.createElement("button",{onClick:function(){return i.hapusData(e)},className:"btn btn-danger"},c.n.createElement("i",{className:"fa fa-trash"}))))}}]},i.handleSubmit=i.handleSubmit.bind(Object(s.a)(i)),i}return Object(i.a)(t,[{key:"handleSubmit",value:function(a){var e=this;this.setState({isLoading:!0}),this.state.isEdit?Object(c.P)("banks/"+a.id,a).then(function(a){var t;Object(c.t)("success",(null===a||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Berhasil Menyimpan Data"),e.setState({isLoading:!1}),e.props.dispatch(Object(r.lc)()),e.props.dispatch(Object(r.Hb)())}).catch(function(a){var t,n;e.setState({isLoading:!1}),Object(c.t)("info",(null===(t=a.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"Terjadi Kesalhaan Saat Mengirim Data")}):Object(c.O)("banks",a).then(function(a){var t;Object(c.t)("success",(null===a||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Berhasil Menyimpan Data"),e.setState({isLoading:!1}),e.props.dispatch(Object(r.lc)()),e.props.dispatch(Object(r.Hb)()),e.props.dispatch(Object(c.R)())}).catch(function(a){var t,n;e.setState({isLoading:!1}),Object(c.t)("info",(null===(t=a.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"Terjadi Kesalhaan Saat Mengirim Data")})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(r.Hb)())}},{key:"hapusData",value:function(a){var e=this;c.r.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Bank "+a.kode_bank+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(t){t.isConfirmed&&Object(c.x)("banks/"+a._id).then(function(a){Object(c.t)("success",a.data.message||"Berhasil Menghapus Data"),e.setState({isLoading:!1}),e.props.dispatch(Object(r.Hb)())}).catch(function(a){var t,n;Object(c.t)("info",(null===(t=a.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"Gagal Menghapus Data"),e.setState({isLoading:!1})})})}},{key:"modalEdit",value:function(a){this.props.dispatch(Object(r.nc)()),this.props.dispatch(Object(r.lb)(a)),this.setState({isEdit:!0})}},{key:"showModal",value:function(){this.props.dispatch(Object(r.nc)()),this.props.dispatch(Object(r.lb)(!1)),this.setState({isEdit:!1})}},{key:"render",value:function(){var a=this;return c.n.createElement("div",null,c.n.createElement("ol",{className:"breadcrumb float-xl-right"},c.n.createElement("li",{className:"breadcrumb-item"},c.n.createElement(c.g,{to:"#"},"Data Master")),c.n.createElement("li",{className:"breadcrumb-item active"},"Master Bank")),c.n.createElement("h1",{className:"page-header"},"Master Bank "),c.n.createElement(c.k,null,c.n.createElement(c.m,null,"Master Bank"),c.n.createElement(c.l,null,c.n.createElement(c.s,{keyField:"kode_bank",tambahData:!0,handleClick:function(){return a.showModal()},exportCsv:!0,data:this.props.data,columns:this.state.columns,empty:[],textEmpty:"Data Bank"}))),c.n.createElement(c.i,{title:this.state.isEdit?"Edit Data Bank":"Tambah Data Bank",size:"P",content:c.n.createElement(E,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:function(e){return a.handleSubmit(e)}})}))}}]),t}(c.n.Component);O=Object(c.Q)({form:"MasterBank",enableReinitialize:!0})(O);e.default=Object(c.u)(function(a){return{data:a.datamaster.getDataBanks}})(O)},732:function(a,e,t){"use strict";e.a=function(a,e){var t={};return a.kode_sales||(t.kode_sales="Kode Sales Tidak Boleh Kosong"),a.nama_sales||(t.nama_sales="Nama Sales Tidak Boleh Kosong"),a.kode_bank||(t.kode_bank="Kode Bank Tidak Boleh Kosong"),a.nama_bank||(t.nama_bank="Nama Bank Tidak Boleh Kosong"),a.no_rekening||(t.no_rekening="No Rekening Tidak Boleh Kosong"),a.nama_rekening||(t.nama_rekening="Nama Rekening Tidak Boleh Kosong"),t}}}]);
//# sourceMappingURL=68.33971d7a.chunk.js.map