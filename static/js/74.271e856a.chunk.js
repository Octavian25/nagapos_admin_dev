(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1241:function(t,e,a){"use strict";a.r(e);var n=a(19),l=a(20),r=a(33),o=a(22),c=a(21),i=a(0),s=a.n(i),d=a(28),m=a(123),b=a(58),u=a(312),h=a(11),g=(a(327),a(36)),E=a(13),p=a(311),f=a(315),k=a(9),_=a(677),O=a.n(_),x=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).state={},l}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Barang",sheet:"Laporan Tambah Barang",buttonText:"Export Exel"}),s.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"12",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG ")),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"12"}," TOKO :  ",Object(h.j)(h.j).nama_toko," ")),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"12"}," ALAMAT :  ",Object(h.j)().alamat_toko," ")),s.a.createElement("tr",null),s.a.createElement("tr",null,s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BARCODE"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GUDANG"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE TOKO"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GROUP"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE JENIS"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BARANG"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA ATRIBUT"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ASLI"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ATRIBUT"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"HARGA JUAL"))),s.a.createElement("tbody",null,this.props.data.map(function(t,e){return s.a.createElement("tr",{key:e},s.a.createElement("td",{style:{textAlign:"center"}}," ",e+1),s.a.createElement("td",null,"\xa0",t.kode_barcode),s.a.createElement("td",null," ",t.kode_gudang),s.a.createElement("td",null," ",t.kode_toko),s.a.createElement("td",null," ",t.kode_group),s.a.createElement("td",null," ",t.kode_dept),s.a.createElement("td",null," ",t.nama_barang),s.a.createElement("td",null," ",t.nama_atribut),s.a.createElement("td",{style:{textAlign:"right"}}," ",Object(h.f)(t.berat,3)),s.a.createElement("td",{style:{textAlign:"right"}}," ",Object(h.f)(t.berat_asli,3)),s.a.createElement("td",{style:{textAlign:"right"}}," ",Object(h.f)(t.berat_atribut,3)),s.a.createElement("td",{style:{textAlign:"right"}}," ",t.harga_jual.toLocaleString("kr-KO")))})),s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"8"},"  "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.berat}).reduce(function(t,e){return t+e},0),3),"   "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.berat_asli}).reduce(function(t,e){return t+e},0),3),"  "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.berat_atribut}).reduce(function(t,e){return t+e},0),3),"  "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(function(t){return t.harga_jual}).reduce(function(t,e){return t+e},0).toLocaleString("kr-KO"),"  ")))))}}]),a}(i.Component),y=a(211),A=a(678),j=(a(679),function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new A.default("l","mm",[297,210]),n=[],l=30,r=0,o=0,c=0,i=0;a.setFontSize(15),a.text("LAPORAN TAMBAH BARANG",14,15),a.setFontSize(20),a.text(Object(h.j)().nama_toko,200,15),a.setFontSize(8);var s=Object(h.j)().alamat_toko.length;s>20&&a.text(Object(h.j)().alamat_toko.slice(0,48),200,20),s>50&&a.text(Object(h.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TAMBAH BARANG"}),a.text("PERIODE : ".concat(0===Object(h.l)("tgl_laporan").length?null:JSON.parse(Object(h.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(h.l)("tgl_laporan")).tgl_akhir),14,25),t=[[{content:"NO"},{content:"KODE BARCODE"},{content:"KODE GUDANG"},{content:"KODE TOKO"},{content:"KODE GROUP"},{content:"KODE JENIS"},{content:"NAMA BARANG"},{content:"NAMA ATRIBUT"},{content:"BERAT",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}},{content:"BERAT ATRIBUT",styles:{halign:"right"}},{content:"HARGA JUAL",styles:{halign:"right"}}]],e.forEach(function(t,e){var a=[{content:"".concat(++e),styles:{cellWidth:10}},t.kode_barcode,t.kode_gudang,t.kode_toko,t.kode_group,t.kode_dept,t.nama_barang,t.nama_atribut,{content:Object(h.f)(t.berat,3),styles:{halign:"right"}},{content:Object(h.f)(t.berat_asli,3),styles:{halign:"right"}},{content:Object(h.f)(t.berat_atribut,3),styles:{halign:"right"}},{content:t.harga_jual.toLocaleString("kr-KO"),styles:{halign:"right"}}];r+=t.berat,c+=t.berat_asli,o+=t.berat_atribut,i+=t.harga_jual,n.push(a)});var d=[{content:"Total Berat",colSpan:7,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:" ",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(r.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(c.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(o.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(i.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];n.push(d);var m=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(h.l)("userdata")).user_id," / ").concat(Object(h.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];n.push(m),a.autoTable({head:t,body:n,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,n=[];var b=a.internal.getNumberOfPages(),u=a.internal.pageSize.width,g=a.internal.pageSize.height;a.setFontSize(10);for(var E=1;E<b+1;E++){var p=u/2,f=g-10;a.setPage(E),a.text("".concat(E," of ").concat(b),p,f,{align:"center"})}a.save("LAPORAN BARANG DETAIL.pdf")}),S=a(210),v=a.n(S),N=a(78),T=a(89),B=a.n(T),C=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new A.default("l","mm",[297,210]),n=[],l=30,r=0,o=0,c=0;a.setFontSize(15),a.text("LAPORAN TAMBAH STOCK",14,15),a.setFontSize(20),a.text(Object(h.j)().nama_toko,200,15),a.setFontSize(8);var i=Object(h.j)().alamat_toko.length;i>20&&a.text(Object(h.j)().alamat_toko.slice(0,48),200,20),i>50&&a.text(Object(h.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TAMBAH STOCK"}),a.text("PERIODE : ".concat(0===Object(h.l)("tgl_laporan").length?null:JSON.parse(Object(h.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(h.l)("tgl_laporan")).tgl_akhir),14,25),t=[[{content:"NO"},{content:"KODE BAKI"},{content:"NAMA BAKI"},{content:"TAMBAH PTG",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}}]],e.forEach(function(t,e){var a=[{content:"".concat(++e),styles:{cellWidth:10}},t.kode_toko,t.nama_toko,{content:t.stock_tambah,styles:{halign:"right"}},{content:Object(h.f)(t.berat_asli_tambah,3),styles:{halign:"right"}}];o+=t.stock_tambah,r+=t.berat_tambah,c=c+t.berat_asli_tambah||0,n.push(a)});var s=[{content:"Total",colSpan:3,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(o),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(h.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(h.f)(c,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];n.push(s);var d=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(h.l)("userdata")).user_id," / ").concat(Object(h.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];n.push(d),a.autoTable({head:t,body:n,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,n=[];var m=a.internal.getNumberOfPages(),b=a.internal.pageSize.width,u=a.internal.pageSize.height;a.setFontSize(10);for(var g=1;g<m+1;g++){var E=b/2,p=u-10;a.setPage(g),a.text("".concat(g," of ").concat(m),E,p,{align:"center"})}a.save("LAPORAN TAMBAH BARANG.pdf")},L=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).state={},l}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Stock",sheet:"Laporan Tambah Stock",buttonText:"Export Exel"}),s.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"6",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG GLOBAL PER BAKI")),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"6"}," TOKO :  ",Object(h.j)(h.j).nama_toko," ")),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"6"}," ALAMAT :  ",Object(h.j)().alamat_toko," ")),s.a.createElement("tr",null),s.a.createElement("tr",null,s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BAKI"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BAKI"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH PTG"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TAMBAH BERAT ASLI"))),s.a.createElement("tbody",null,this.props.data.map(function(t,e){return s.a.createElement("tr",{key:e},s.a.createElement("td",{style:{textAlign:"center"}}," ",e+1),s.a.createElement("td",null,t.kode_toko),s.a.createElement("td",null,t.nama_toko),s.a.createElement("td",{style:{textAlign:"right"}}," ",t.stock_tambah),s.a.createElement("td",{style:{textAlign:"right"}}," ",Object(h.f)(t.berat_asli_tambah,3)))})),s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"3"},"  "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.stock_tambah}).reduce(function(t,e){return t+e},0),3),"   "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.berat_tambah}).reduce(function(t,e){return t+e},0),3),"  "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.berat_asli_tambah}).reduce(function(t,e){return t+e},0),3),"  ")))))}}]),a}(i.Component),w=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).state={},l}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Stock",sheet:"Laporan Tambah Stock",buttonText:"Export Exel"}),s.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"6",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG GLOBAL PER JENIS")),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"6"}," TOKO :  ",Object(h.j)(h.j).nama_toko," ")),s.a.createElement("tr",null,s.a.createElement("th",{colSpan:"6"}," ALAMAT :  ",Object(h.j)().alamat_toko," ")),s.a.createElement("tr",null),s.a.createElement("tr",null,s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE JENIS"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA JENIS"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH PTG"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH BERAT"),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TAMBAH BERAT ASLI"))),s.a.createElement("tbody",null,this.props.data.map(function(t,e){return s.a.createElement("tr",{key:e},s.a.createElement("td",{style:{textAlign:"center"}}," ",e+1),s.a.createElement("td",null,t.kode_dept),s.a.createElement("td",null,t.nama_dept),s.a.createElement("td",{style:{textAlign:"right"}}," ",t.stock_tambah),s.a.createElement("td",{style:{textAlign:"right"}}," ",Object(h.f)(t.berat_tambah,3)),s.a.createElement("td",{style:{textAlign:"right"}}," ",Object(h.f)(t.berat_asli_tambah,3)))})),s.a.createElement("tfoot",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"3"},"  "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.stock_tambah}).reduce(function(t,e){return t+e},0),3),"   "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.berat_tambah}).reduce(function(t,e){return t+e},0),3),"  "),s.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(h.f)(this.props.data.map(function(t){return t.berat_asli_tambah}).reduce(function(t,e){return t+e},0),3),"  ")))))}}]),a}(i.Component),D=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new A.default("l","mm",[297,210]),n=[],l=30,r=0,o=0,c=0;a.setFontSize(15),a.text("LAPORAN TAMBAH STOCK",14,15),a.setFontSize(20),a.text(Object(h.j)().nama_toko,200,15),a.setFontSize(8);var i=Object(h.j)().alamat_toko.length;i>20&&a.text(Object(h.j)().alamat_toko.slice(0,48),200,20),i>50&&a.text(Object(h.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TAMBAH STOCK"}),a.text("PERIODE : ".concat(0===Object(h.l)("tgl_laporan").length?null:JSON.parse(Object(h.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(h.l)("tgl_laporan")).tgl_akhir),14,25),t=[[{content:"NO"},{content:"KODE BAKI"},{content:"NAMA BAKI"},{content:"TAMBAH PTG",styles:{halign:"right"}},{content:"BERAT TAMBAH",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}}]],e.forEach(function(t,e){var a=[{content:"".concat(++e),styles:{cellWidth:10}},t.kode_dept,t.nama_dept,{content:t.stock_tambah,styles:{halign:"right"}},{content:Object(h.f)(t.berat_tambah,3),styles:{halign:"right"}},{content:Object(h.f)(t.berat_asli_tambah,3),styles:{halign:"right"}}];o+=t.stock_tambah,r+=t.berat_tambah,c=c+t.berat_asli_tambah||0,n.push(a)});var s=[{content:"Total",colSpan:3,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(o),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(h.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(h.f)(c,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];n.push(s);var d=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(h.l)("userdata")).user_id," / ").concat(Object(h.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];n.push(d),a.autoTable({head:t,body:n,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,n=[];var m=a.internal.getNumberOfPages(),b=a.internal.pageSize.width,u=a.internal.pageSize.height;a.setFontSize(10);for(var g=1;g<m+1;g++){var E=b/2,p=u-10;a.setPage(g),a.text("".concat(g," of ").concat(m),E,p,{align:"center"})}var f=a.output("datauristring"),k=window.open();k.document.open(),k.document.write("<html><head><title>LAPORAN TAMBAH BARANG</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+f+"></embed></body></html>")},P=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).state={loading:!1,data_per_baki:[],data_per_jenis:[],table_per_baki:!1,table_per_jenis:!1,isLoading:!1},l.setStartDate=l.setStartDate.bind(Object(r.a)(l)),l.setLastDate=l.setLastDate.bind(Object(r.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(k.Fb)()),this.props.dispatch(Object(k.Nb)()),this.props.change("kode_toko","ALL"),this.props.change("kode_dept","ALL"),this.props.change("tgl_awal",Object(h.h)()),this.props.change("tgl_akhir",Object(h.h)())}},{key:"setStartDate",value:function(t){this.setState({tgl_awal:new Date(t)})}},{key:"setLastDate",value:function(t){if(new Date(t)>new Date)return Object(g.e)("info","Tanggal tidak boleh lebih dari hari ini"),!1;this.setState({tgl_akhir:new Date(t)})}},{key:"exportPdf",value:function(){j(this.props.data),this.props.change("kode_toko","ALL"),this.props.change("kode_dept","ALL")}},{key:"exportPdfGlobalBaki",value:function(){C(this.state.data_per_baki)}},{key:"exportPdfGlobalJenis",value:function(){D(this.state.data_per_jenis)}},{key:"GlobalPerBaki",value:function(){var t=this,e={tgl_awal:Object(h.e)(B()(new Date(this.props.tgl_awal||Object(h.h)())).format("YYYY-MM-DD")),tgl_akhir:Object(h.e)(B()(new Date(this.props.tgl_akhir||Object(h.h)())).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(E.d)("barang/tambah-barangs/global-per-baki?tanggal[gte]=".concat(e.tgl_awal,"&tanggal[lte]=").concat(e.tgl_akhir)).then(function(a){0===a.data.length?(t.setState({export:!1,LaporanBarangDetail:[],isLoading:!1}),Object(g.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(g.e)("success","Laporan Tambah Barang Tersedia"),Object(h.m)("tgl_laporan",JSON.stringify(e)),t.setState({isLoading:!1,export:!0,data_per_baki:a.data,table_per_baki:!0,table_per_jenis:!1,table_per_normal:!1}))}).then(function(){t.setState({isLoading:!1})}).catch(function(e){return t.errorHandling(e)})}},{key:"GlobalPerJenis",value:function(){var t=this,e={tgl_awal:Object(h.e)(B()(new Date(this.props.tgl_awal||Object(h.h)())).format("YYYY-MM-DD")),tgl_akhir:Object(h.e)(B()(new Date(this.props.tgl_akhir||Object(h.h)())).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(E.d)("barang/tambah-barangs/global-per-jenis?tanggal[gte]=".concat(e.tgl_awal,"&tanggal[lte]=").concat(e.tgl_akhir)).then(function(a){0===a.data.length?(t.setState({export:!1,LaporanBarangDetail:[],isLoading:!1}),Object(g.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(g.e)("success","Laporan Tambah Barang Tersedia"),Object(h.m)("tgl_laporan",JSON.stringify(e)),t.setState({isLoading:!1,export:!0,data_per_jenis:a.data,table_per_jenis:!0,table_per_baki:!1}))}).then(function(){t.setState({isLoading:!1})}).catch(function(e){return t.errorHandling(e)})}},{key:"errorHandling",value:function(t){Object(g.a)(t),this.setState({isLoading:!1})}},{key:"render",value:function(){var t=this,e=[{value:"ALL",name:"SEMUA"}];this.props.databaki.forEach(function(t){var a={value:t.kode_baki,name:t.kode_baki+" - "+t.nama_baki};e.push(a)});var a=[{value:"ALL",name:"SEMUA"}];return this.props.dataJenis.forEach(function(t){var e={value:t.kode_dept,name:t.kode_dept+" - "+t.nama_dept};a.push(e)}),s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{onSubmit:function(e){return t.props.handleSubmit(e)},autoComplete:"off",onKeyPress:function(t){"Enter"===t.key&&t.preventDefault()}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(p.a,{name:"tgl_awal",component:N.c,label:"Tanggal Dari",type:"text",defaultValue:Object(h.h)(),selected:this.state.tgl_awal,onChange:function(e){return t.setStartDate(e)},placeholder:"Masukan Tanggal Dari"})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(p.a,{name:"tgl_akhir",component:N.c,type:"text",defaultValue:Object(h.h)(),selected:this.state.tgl_akhir,onChange:function(e){return t.setLastDate(e)},label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),s.a.createElement("div",{className:"col-3"},!1===this.state.loading?s.a.createElement(p.a,{label:"Jenis",name:"kode_dept",options:a,placeholder:"Silahkan Pilih Kode Jenis",component:N.f}):s.a.createElement(N.g,{label:"Kode Jenis"})),s.a.createElement("div",{className:"col-3"},!1===this.state.loading?s.a.createElement(p.a,{label:"Baki",name:"kode_toko",options:e,placeholder:"Silahkan Pilih Kode Baki",component:N.f}):s.a.createElement(N.g,{label:"Kode Baki"})),s.a.createElement("div",{className:"col-4 mb-2"},s.a.createElement("label",null," \xa0 "),s.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"submit",onClick:function(){return t.setState({table_per_normal:!0,table_per_baki:!1,table_per_jenis:!1})}},this.props.isLoading?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Lihat Laporan")),s.a.createElement("div",{className:"col-4 mb-2"},s.a.createElement("label",null," \xa0 "),s.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"button",onClick:function(){return t.GlobalPerBaki()}},this.state.isLoading?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Global Per baki")),s.a.createElement("div",{className:"col-4 mb-2"},s.a.createElement("label",null," \xa0 "),s.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"button",onClick:function(){return t.GlobalPerJenis()}},this.state.isLoading?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Global Per Jenis")),s.a.createElement("div",{className:"col-12"},this.state.table_per_baki?s.a.createElement(y.a,{keyField:"kode_barcode",data:this.state.data_per_baki,columns:this.props.columns_per_baki,empty:!0,textEmpty:"Data Laporan Barang Global Per Baki Kosong"}):this.state.table_per_jenis?s.a.createElement(y.a,{keyField:"kode_barcode",data:this.state.data_per_jenis,columns:this.props.columns_per_jenis,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"}):s.a.createElement(y.a,{keyField:"kode_barcode",data:this.props.data,columns:this.props.columns,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"})),this.props.export&&this.state.table_per_normal?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("button",{type:"button",onClick:function(){return t.exportPdf()},className:"btn btn-warning btn-block"}," ","Export PDF"," ")),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(x,{data:this.props.data,kode_baki:this.props.kode_baki}))):null,this.state.table_per_baki?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("button",{type:"button",onClick:function(){return t.exportPdfGlobalBaki()},className:"btn btn-warning btn-block"}," ","Export PDF"," ")),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(L,{data:this.state.data_per_baki,kode_baki:this.props.kode_baki}))):null,this.state.table_per_jenis?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("button",{type:"button",onClick:function(){return t.exportPdfGlobalJenis()},className:"btn btn-warning btn-block"}," ","Export PDF"," ")),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(w,{data:this.state.data_per_jenis,kode_baki:this.props.kode_baki}))):null),this.props.isLoading?s.a.createElement(v.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null,this.state.isLoading?s.a.createElement(v.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}]),a}(i.Component);P=Object(u.a)({form:"HeadFilterLaporan",enableReinitialize:!0})(P);var F=Object(f.a)("HeadFilterLaporan"),R=Object(b.b)(function(t){return{databaki:t.datamaster.getDataBaki,dataJenis:t.datamaster.getDataJenis,tgl_awal:F(t,"tgl_awal"),tgl_akhir:F(t,"tgl_akhir"),initialValues:{tgl_awal:Object(h.h)(),tgl_akhir:Object(h.h)()}}})(P),M=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).state={isEdit:!1,modalDialog:!1,isLoading:!1,export:!1,kode_baki:[],LaporanBarangDetail:!1,columns:[{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"kode_gudang",text:"Kode Gudang"},{dataField:"kode_toko",text:"Kode Baki"},{dataField:"kode_group",text:"Kode Group"},{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"nama_atribut",text:"Nama Atribut"},{dataField:"berat",text:"Berat",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",Object(h.f)(t,3)," ")}},{dataField:"berat_asli",text:"Berat Asli",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",Object(h.f)(t,3)," ")}},{dataField:"berat_atribut",text:"Berat Atribut",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",Object(h.f)(t,3)," ")}},{dataField:"harga_jual",text:"Harga Jual",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",parseFloat(t).toLocaleString("kr-KO"))}}],columns_per_baki:[{dataField:"kode_toko",text:"Kode Baki"},{dataField:"nama_toko",text:"Nama Baki"},{dataField:"stock_tambah",text:"Tambah Ptg",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",t," ")}},{dataField:"berat_tambah",text:"Tambah Berat",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",Object(h.f)(t,3)," ")}},{dataField:"berat_asli_tambah",text:"Tambah Berat Asli",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",Object(h.f)(t,3)," ")}}],columns_per_jenis:[{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"nama_dept",text:"Nama Jenis"},{dataField:"stock_tambah",text:"Tambah Ptg",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",t," ")}},{dataField:"berat_tambah",text:"Tambah Berat",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",Object(h.f)(t,3)," ")}},{dataField:"berat_asli_tambah",text:"Tambah Berat Asli",headerClasses:"text-right",formatter:function(t){return s.a.createElement("div",{className:"text-right"}," ",Object(h.f)(t,3)," ")}}]},l.handleSubmit=l.handleSubmit.bind(Object(r.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=JSON.parse(Object(h.l)("userdata"));this.setState({username:t.user_id})}},{key:"handleSubmit",value:function(t){var e=this,a={tgl_awal:Object(h.e)(B()(new Date(t.tgl_awal||Object(h.h)())).format("YYYY-MM-DD")),tgl_akhir:Object(h.e)(B()(new Date(t.tgl_akhir||Object(h.h)())).format("YYYY-MM-DD"))};this.setState({isLoading:!0,kode_toko:t.kode_baki}),Object(E.m)("barang/tambah-barangs?tanggal[gte]=".concat(a.tgl_awal,"&tanggal[lte]=").concat(a.tgl_akhir,"&kode_dept=").concat(t.kode_dept,"&kode_toko=").concat(t.kode_toko)).then(function(t){0===t.data.length?(e.setState({export:!1,LaporanBarangDetail:[]}),Object(g.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(g.e)("success","Laporan Tambah Barang Tersedia"),Object(h.m)("tgl_laporan",JSON.stringify(a)),e.setState({export:!0,LaporanBarangDetail:t.data}))}).then(function(){e.setState({isLoading:!1})}).catch(function(t){return e.errorHandling(t)})}},{key:"errorHandling",value:function(t){Object(g.a)(t),this.setState({isLoading:!1})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("ol",{className:"breadcrumb float-xl-right"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(d.b,{to:"#"},"Laporan Tambah Barang")),s.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Tambah Barang Detail")),s.a.createElement("h1",{className:"page-header"},"Laporan Tambah Barang"),s.a.createElement(m.a,null,s.a.createElement(m.c,null,"Filter Laporan"),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement(R,{kode_baki:this.state.kode_baki,export:this.state.export,columns:this.state.columns,data:this.state.LaporanBarangDetail,isLoading:this.state.isLoading,columns_per_baki:this.state.columns_per_baki,columns_per_jenis:this.state.columns_per_jenis,onSubmit:function(e){return t.handleSubmit(e)}})))),s.a.createElement("br",null)))}}]),a}(s.a.Component);M=Object(u.a)({form:"FormLaporanTambahBarang",enableReinitialize:!0})(M);e.default=Object(b.b)(function(t){return{hideModal:t.datamaster.modalDialog}},null)(M)},677:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),l=a(0),r=c(l),o=c(a(1));function c(t){return t&&t.__esModule?t:{default:t}}var i={table:o.default.string.isRequired,filename:o.default.string.isRequired,sheet:o.default.string.isRequired,id:o.default.string,className:o.default.string,buttonText:o.default.string},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.handleDownload=a.handleDownload.bind(a),a}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.Component),n(e,[{key:"handleDownload",value:function(){if(!document)return null;if(1!==document.getElementById(this.props.table).nodeType||"TABLE"!==document.getElementById(this.props.table).nodeName)return null;var t=document.getElementById(this.props.table).outerHTML,a=String(this.props.sheet),n=String(this.props.filename)+".xls",l={worksheet:a||"Worksheet",table:t};if(window.navigator.msSaveOrOpenBlob){var r=new Blob(['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>'+t+"</body></html>"]);return document.getElementById("react-html-table-to-excel").click()(function(){window.navigator.msSaveOrOpenBlob(r,n)}),!0}var o=window.document.createElement("a");return o.href="data:application/vnd.ms-excel;base64,"+e.base64(e.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',l)),o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),!0}},{key:"render",value:function(){return r.default.createElement("button",{id:this.props.id,className:this.props.className,type:"button",onClick:this.handleDownload},this.props.buttonText)}}],[{key:"base64",value:function(t){return window.btoa(unescape(encodeURIComponent(t)))}},{key:"format",value:function(t,e){return t.replace(/{(\w+)}/g,function(t,a){return e[a]})}}]),e}();s.propTypes=i,s.defaultProps={id:"button-download-as-xls",className:"button-download",buttonText:"Download"},e.default=s}}]);
//# sourceMappingURL=74.271e856a.chunk.js.map