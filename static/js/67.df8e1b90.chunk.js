(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{1328:function(e,a,t){"use strict";t.r(a);var n=t(19),s=t(20),i=t(33),o=t(22),l=t(21),c=t(0),r=t.n(c),d=t(28),m=t(123),u=t(9),h=t(58),p=t(27),b=t.n(p),f=t(36),k=t(64),S=t(13),E=t(11),g=t(211),O=t(311),j=t(312),_=t(78),v=t(732),y=t(210),D=t.n(y),N=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(n.a)(this,t);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=a.call.apply(a,[this].concat(i))).state={aktif:!1},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.isEdit?document.getElementById("nama_sales").focus():document.getElementById("kode_sales").focus()},100)}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},this.props.isEdit?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{name:"id",component:_.b,type:"hidden",readOnly:this.props.isEdit})):null,r.a.createElement(O.a,{tabIndex:"1",id:"kode_sales",name:"kode_sales",component:_.e,type:"text",label:"Kode Sales",placeholder:"Masukan Kode Sales",readOnly:this.props.isEdit}),r.a.createElement(O.a,{id:"nama_sales",tabIndex:"2",name:"nama_sales",component:_.e,type:"text",label:"Nama Sales",onBlur:function(){return e.setState({aktif:!0})},placeholder:"Masukan Nama Sales"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-right"},r.a.createElement("button",{className:"btn btn-white",onClick:function(){return e.props.dispatch(Object(u.lc)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",r.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?r.a.createElement(D.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),t}(c.Component);N=Object(j.a)({form:"ModalDataSales",enableReinitialize:!0,validate:v.a})(N);var M=Object(h.b)(function(e){if(null!==e.datamaster.ShowModalSales)return{initialValues:{id:e.datamaster.ShowModalSales.id,kode_sales:e.datamaster.ShowModalSales.kode_sales,nama_sales:e.datamaster.ShowModalSales.nama_sales}}},null)(N),w=t(213),B=function(e,a,t){b.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Sales "+e+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(e){e.isConfirmed&&Object(S.b)("sales/delete/by-kode-sales/"+a).then(function(){Object(f.d)("Data Berhasil Di Hapus").then(function(){return t(Object(u.Wb)())})}).catch(function(e){Object(f.e)("error",e.response.data)})})},x=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var s;return Object(n.a)(this,t),(s=a.call(this,e)).state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_sales",text:"Kode Sales",sort:!0},{dataField:"nama_sales",text:"Nama Sales"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(e,a){var t={id:a._id,kode_sales:a.kode_sales,nama_sales:a.nama_sales};return r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{onClick:function(){return s.formEditSales(t)},className:"btn btn-primary mr-3"},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("button",{onClick:function(){return B(a.kode_sales,a._id,s.props.dispatch)},className:"btn btn-danger"},r.a.createElement("i",{className:"fa fa-trash"}))))}}]},s.handleSubmit=s.handleSubmit.bind(Object(i.a)(s)),s}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(u.Wb)())}},{key:"handleSubmit",value:function(e){var a=this;this.setState({isLoading:!0});var t={nama_sales:e.nama_sales},n={kode_sales:e.kode_sales,nama_sales:e.nama_sales};this.state.isEdit?Object(S.p)("sales/edit/by-kode-sales/"+e.id,t).then(function(){a.props.dispatch(Object(u.lc)())}).then(function(){Object(f.e)("success","Data Berhasil Diedit")}).then(function(){a.props.dispatch(Object(u.Wb)())}).then(function(){a.setState({isLoading:!1})}).then(function(){a.props.dispatch(Object(k.d)("ModalDataSales"))}).catch(function(e){Object(f.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Megirim Data ":e.response.data),a.setState({isLoading:!1})}):Object(S.j)("sales/add",n).then(function(){a.props.dispatch(Object(u.lc)())}).then(function(){Object(f.e)("success","Data Berhasil Simpan")}).then(function(){a.props.dispatch(Object(u.Wb)())}).then(function(){a.props.dispatch(Object(k.d)("ModalDataSales"))}).then(function(){a.setState({isLoading:!1})}).catch(function(e){return Object(E.a)(e,"sales/reactive/by-kode-sales/",n,a.props.dispatch,Object(u.Wb)(),Object(u.lc)(),"ModalDataSales").then(function(){a.setState({isLoading:!1})})})}},{key:"formEditSales",value:function(e){this.props.dispatch(Object(u.nc)()),this.props.dispatch(Object(u.Ab)(e)),this.setState({isEdit:!0})}},{key:"showModalSales",value:function(){this.props.dispatch(Object(u.nc)()),this.props.dispatch(Object(u.Ab)(!1)),this.setState({isEdit:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb float-xl-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(d.b,{to:"#"},"Data Master")),r.a.createElement("li",{className:"breadcrumb-item active"},"Master Sales")),r.a.createElement("h1",{className:"page-header"},"Master Sales "),r.a.createElement(m.a,null,r.a.createElement(m.c,null,"Master Sales"),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement(g.a,{keyField:"kode_sales",tambahData:!0,handleClick:function(){return e.showModalSales()},exportCsv:!0,data:this.props.DataSales,columns:this.state.columns,empty:this.props.DataSales,textEmpty:"Data Sales Kosong"})),r.a.createElement("br",null),r.a.createElement(w.a,{title:this.state.isEdit?"Edit Data Sales":"Tambah Data Sales",size:"P",content:r.a.createElement(M,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:function(a){return e.handleSubmit(a)}})})))}}]),t}(r.a.Component);a.default=Object(h.b)(function(e){return{DataSales:e.datamaster.getDataSales,hideModal:e.datamaster.modalDialog}},null)(x)},732:function(e,a,t){"use strict";a.a=function(e,a){var t={};return e.kode_sales||(t.kode_sales="Kode Sales Tidak Boleh Kosong"),e.nama_sales||(t.nama_sales="Nama Sales Tidak Boleh Kosong"),e.kode_bank||(t.kode_bank="Kode Bank Tidak Boleh Kosong"),e.nama_bank||(t.nama_bank="Nama Bank Tidak Boleh Kosong"),e.no_rekening||(t.no_rekening="No Rekening Tidak Boleh Kosong"),e.nama_rekening||(t.nama_rekening="Nama Rekening Tidak Boleh Kosong"),t}}}]);
//# sourceMappingURL=67.df8e1b90.chunk.js.map