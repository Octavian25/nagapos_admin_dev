(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{1300:function(t,e,a){"use strict";a.r(e);var n=a(19),i=a(20),s=a(33),r=a(22),c=a(21),l=a(9),o=a(12),d=a(219),u=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={isLoading:!1},i.handleSubmit=i.handleSubmit.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"handleSubmit",value:function(){}},{key:"componentDidMount",value:function(){var t=this;setTimeout(function(){t.props.isEdit?document.getElementById("nama_clarity").focus():document.getElementById("kode_clarity").focus()},100)}},{key:"render",value:function(){var t=this;return o.n.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:function(t){"Enter"===t.key&&t.preventDefault()}},o.n.createElement(o.c,{id:"id",tabIndex:"1",name:"id",component:o.e,type:"hidden"}),o.n.createElement(o.c,{id:"kode_clarity",tabIndex:"1",name:"kode_clarity",component:o.p,type:"text",label:"Kode Clarity",readOnly:this.props.isEdit,placeholder:"Masukan Kode Clarity"}),o.n.createElement(o.c,{id:"nama_clarity",tabIndex:"2",name:"nama_clarity",component:o.p,type:"text",label:"Nama Clarity",placeholder:"Masukan Nama Clarity",onBlur:function(){return t.setState({aktif:!0})}}),o.n.createElement("div",{className:"row"},o.n.createElement("div",{className:"col-12 text-right"},o.n.createElement("button",{className:"btn btn-white",onClick:function(){return t.props.dispatch(Object(o.G)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",o.n.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?o.n.createElement(o.n.Fragment,null,o.n.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?o.n.createElement(o.h,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),a}(o.n.Component);u=Object(o.Q)({form:"HeadBatuClarity",enableReinitialize:!0,validate:d.a})(u);var m=Object(o.u)(function(t){return{initialValues:{id:t.datamaster.ShowDataModal.id,kode_clarity:t.datamaster.ShowDataModal.kode_clarity,nama_clarity:t.datamaster.ShowDataModal.nama_clarity}}})(u),p=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={isLoading:!1,columns:[{dataField:"kode_clarity",text:"Kode Clarity"},{dataField:"nama_clarity",text:"Nama Clarity"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(t,e){var a={id:e._id,kode_clarity:e.kode_clarity,nama_clarity:e.nama_clarity};return o.n.createElement("div",{className:"row text-center"},o.n.createElement("div",{className:"col-12"},o.n.createElement("button",{onClick:function(){return i.editData(a)},className:"btn btn-primary mr-3"},o.n.createElement("i",{className:"fa fa-edit"})),o.n.createElement("button",{onClick:function(){return i.hapusData(e)},className:"btn btn-danger"},o.n.createElement("i",{className:"fa fa-trash"}))))}}]},i.handleSubmit=i.handleSubmit.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"handleSubmit",value:function(t){var e=this;this.setState({isLoading:!0}),this.state.isEdit?Object(o.P)("batu-clarity/"+t.id,t).then(function(t){var a;Object(o.t)("success",(null===t||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Berhasil Menyimpan Data"),e.setState({isLoading:!1}),e.props.dispatch(Object(o.G)()),e.props.dispatch(Object(l.Ib)())}).catch(function(t){var a,n;e.setState({isLoading:!1}),Object(o.t)("info",(null===(a=t.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message)||"Terjadi Kesalhaan Saat Mengirim Data")}):Object(o.O)("batu-clarity",t).then(function(t){var a;Object(o.t)("success",(null===t||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Berhasil Menyimpan Data"),e.setState({isLoading:!1}),e.props.dispatch(Object(o.G)()),e.props.dispatch(Object(l.Ib)()),e.props.dispatch(Object(o.R)())}).catch(function(t){var a,n;e.setState({isLoading:!1}),Object(o.t)("info",(null===(a=t.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message)||"Terjadi Kesalhaan Saat Mengirim Data")})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(l.Ib)())}},{key:"editData",value:function(t){this.props.dispatch(Object(o.T)()),this.props.dispatch(Object(l.lb)(t)),this.setState({isEdit:!0})}},{key:"showModal",value:function(){this.props.dispatch(Object(o.T)()),this.props.dispatch(Object(l.lb)(!0)),this.setState({isEdit:!1})}},{key:"hapusData",value:function(t){var e=this;o.r.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Clarity "+t.kode_clarity+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(a){a.isConfirmed&&Object(o.x)("batu-clarity/"+t._id).then(function(t){Object(o.t)("success",t.data.message||"Berhasil Menghapus Data"),e.setState({isLoading:!1}),e.props.dispatch(Object(l.Ib)())}).catch(function(t){var a,n;Object(o.t)("info",(null===(a=t.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message)||"Gagal Menghapus Data"),e.setState({isLoading:!1})})})}},{key:"render",value:function(){var t=this;return o.n.createElement("div",null,o.n.createElement("ol",{className:"breadcrumb float-xl-right"},o.n.createElement("li",{className:"breadcrumb-item"},o.n.createElement(o.g,{to:"#"},"Data Master")),o.n.createElement("li",{className:"breadcrumb-item"},o.n.createElement(o.g,{to:"#"},"Data Berlian")),o.n.createElement("li",{className:"breadcrumb-item active"},"Batu Clarity")),o.n.createElement("h1",{className:"page-header"},"Batu Clarity "),o.n.createElement(o.k,null,o.n.createElement(o.m,null,"Batu Clarity"),o.n.createElement(o.l,null,o.n.createElement(o.s,{keyField:"kode_clarity",tambahData:!0,handleClick:function(){return t.showModal()},exportCsv:!0,data:this.props.data,columns:this.state.columns,empty:this.props.data,textEmpty:"Batu Clarity Kosong"}))),o.n.createElement(o.i,{size:"P",title:this.state.isEdit?"Edit Data Clarity":"Tambah Data Clarity",content:o.n.createElement(m,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:function(e){return t.handleSubmit(e)}})}))}}]),a}(o.n.Component);p=Object(o.Q)({form:"BatuClarity",enableReinitialize:!0})(p);e.default=Object(o.u)(function(t){return{data:t.datamaster.getDataClarity}})(p)}}]);
//# sourceMappingURL=96.6cdb88db.chunk.js.map