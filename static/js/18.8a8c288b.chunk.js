(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1304:function(t,a,e){"use strict";e.r(a);var n=e(19),i=e(20),l=e(33),o=e(22),s=e(21),c=e(0),r=e.n(c),u=e(58),_=e(28),d=e(64),m=e(312),g=e(65),h=e(11),b=e(36),p=e(123),f=e(13),S=e(758),v=e(9),k=e(211),O=e(210),N=e.n(O),j=function(t){Object(o.a)(e,t);var a=Object(s.a)(e);function e(t){var i;return Object(n.a)(this,e),(i=a.call(this,t)).state={isLoading:!1,DataValidasi:[],kode_sales:!1},i}return Object(i.a)(e,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(v.Wb)()),this.getDetaValidasi()}},{key:"getDataSales",value:function(t){var a=this;this.setState({kode_sales:t}),Object(f.d)("sales/get/by-kode-sales/").then(function(t){a.props.change("nama_sales",t.data.nama_sales)}).catch(function(t){Object(b.e)("info","Gagal Mengambil Data Keserver")})}},{key:"getDetaValidasi",value:function(){var t=this;this.setState({isLoading:!0});var a={kode_sales:"all"};if(!1===a.kode_sales)return this.setState({isLoading:!1}),Object(b.e)("info","Kode Sales Harus Di pilih"),this.setState({isLoading:!1}),!1;Object(f.j)("validasi/get/hutang",a).then(function(a){0===a.data[0].hutang.length?(Object(b.e)("info","Belum Ada Data Validasi"),t.setState({isLoading:!1})):(Object(b.e)("success","Data Validasi Tersedia"),t.setState({isLoading:!1}),t.props.dispatch(Object(g.j)(a.data[0].hutang)))}).catch(function(a){Object(b.e)("info","Terjadi Kesalahan Saat Request"),t.setState({isLoading:!1,DataValidasi:[]})})}},{key:"render",value:function(){var t={mode:"checkbox",clickToSelect:!0,selectColumnPosition:"left",onSelect:function(t,a,e,n){if(!0===a){var i={no_faktur_hutang:t.no_faktur_hutang},l=JSON.parse(localStorage.getItem("validas_hutang"))||[];-1===l.findIndex(function(a){return a.no_faktur_hutang===t.no_faktur_hutang})&&(l.push(i),localStorage.setItem("validas_hutang",JSON.stringify(l)))}else if(null===localStorage.getItem("validas_hutang"));else{var o=JSON.parse(localStorage.getItem("validas_hutang"));o.splice(t.no_faktur_hutang,1),localStorage.setItem("validas_hutang",JSON.stringify(o))}},onSelectAll:function(t,a,e){a.forEach(function(a,e){if(!0===t){var n={no_faktur_hutang:a.no_faktur_hutang},i=JSON.parse(localStorage.getItem("validas_hutang"))||[];-1===i.findIndex(function(t){return t.no_faktur_hutang===a.no_faktur_hutang})&&(i.push(n),localStorage.setItem("validas_hutang",JSON.stringify(i)))}else if(null===localStorage.getItem("validas_hutang"));else{var l=JSON.parse(localStorage.getItem("validas_hutang"));l.splice(a.no_faktur_hutang,1),localStorage.setItem("validas_hutang",JSON.stringify(l))}})}};return r.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:function(t){"Enter"===t.key&&t.preventDefault()}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(k.a,{selectRow:t,keyField:"no_faktur_hutang",columns:this.props.columns,data:this.props.getValidasiHutang||[],empty:!0})),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Validasi"):"Validasi")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-warning btn-block",disabled:this.props.isLoadingBatal,onClick:this.props.btnClear,type:"button"},this.props.isLoadingBatal?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal"):"Batal"))),this.props.isLoading||this.props.isLoadingBatal||this.state.isLoading?r.a.createElement(N.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),e}(c.Component);j=Object(m.a)({form:"HeadValidasiHutang",enableReinitialize:!0})(j);var x=Object(u.b)(function(t){return{DataSales:t.datamaster.getDataSales,getValidasiHutang:t.hutang.getDataValidasiHutang}})(j),y=function(t){Object(o.a)(e,t);var a=Object(s.a)(e);function e(t){var i;return Object(n.a)(this,e),(i=a.call(this,t)).state={isLoading:!1,isLoadingBatal:!1,columns:[{dataField:"no_faktur_hutang",text:"No Faktur Hutang "},{dataField:"nama_customer",text:"Nama Customer "},{dataField:"jumlah_hutang",text:"Jumlah Hutang ",formatter:function(t){return r.a.createElement("span",null,parseFloat(t).toLocaleString("kr-KO"))}},{dataField:"no_hp",text:"No Hp "},{dataField:"alamat_customer",text:"Alamat "}]},i.handleSubmit=i.handleSubmit.bind(Object(l.a)(i)),i}return Object(i.a)(e,[{key:"handleSubmit",value:function(t){var a=this;if(null===localStorage.getItem("validas_hutang")||0===JSON.parse(localStorage.getItem("validas_hutang")).length)Object(b.e)("info","No Faktur Hutang Belum Dipilih"),this.setState({isLoading:!1});else{var e={hutang:JSON.parse(localStorage.getItem("validas_hutang")||[])};this.setState({isLoading:!0}),Object(f.m)("validasi/simpan/hutang",e).then(function(t){if(a.setState({isLoading:!1}),(Object(h.g)("module")||[]).findIndex(function(t){return"REPRINT_NOTA_HUTANG"===t.key})>=0)Object(S.a)(t.data.notahutang);else{for(var e=[],n=0;n<2;n++){var i="";t.data.notahutang.forEach(function(t,a){var e=t.n_alamat_customer.length;i+="========================================\n",i+="              NOTA HUTANG               \n",i+="========================================\nTanggal          : ".concat(t.tgl_system,"\nKode Sales       : ").concat(t.kode_sales,"\nNama Customer    : ").concat(t.nama_customer,"\nNo Hp            : ").concat(t.no_hp,"\nAlamat Customer  : ").concat(t.n_alamat_customer.slice(0,20),"\nNo Faktur Hutang : ").concat(t.no_faktur_hutang.toLocaleString("kr-KO"),"\n"),e>20&&(i+="                   ".concat(t.n_alamat_customer.slice(0,20),"\n")),e>40&&(i+="                   ".concat(t.n_alamat_customer.slice(40,20),"\n")),i+="========================================\n",i+="Keterangan\n",i+="========================================\n",t.detail_barang.forEach(function(t,a){i+="Nama Barang      : ".concat(t.nama_barang,"\n"),i+="Kondisi          : ".concat(t.kondisi,"\n"),i+="Kategori         : ".concat(t.kategori,"\n"),i+="Jumlah           : ".concat(t.jumlah,"\n"),i+="Berat            : ".concat(t.berat.toFixed(3),"\n"),i+="========================================\n"}),i+="Berat            : ".concat(t.berat.toFixed(3),"\n"),i+="Bunga            : ".concat(t.bunga.toFixed(3),"\n"),i+="Jumlah Hutang    : ".concat(t.jumlah_hutang.toLocaleString("kr-KO"),"\n"),i+="========================================\n",i+="                               TTD      \n",i+="                                        \n",i+="                                        \n",i+="                                        \n",i+="                         (             )\n",i+="                                        \n",i+="                                        \n",i+="                                        \n"}),e.push(i)}document.getElementById("myInput").value=e.join(""),setTimeout(function(){var t=document.createElement("a"),a=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});t.href=URL.createObjectURL(a),t.download="autoprint_hutang.txt",document.body.appendChild(t),t.click()},300)}Object(b.e)("success","Hutang Berhasil Di Validasi"),localStorage.removeItem("validas_hutang"),a.props.dispatch(Object(d.d)("HeadValidasiHutang")),a.props.dispatch(Object(g.j)([]))}).catch(function(t){a.setState({isLoading:!1}),Object(b.e)("info","Gagal Mengambil Data Keserver")})}}},{key:"clearHutang",value:function(){var t=this;this.setState({isLoadingBatal:!0}),setTimeout(function(){t.setState({isLoadingBatal:!1}),localStorage.removeItem("validas_hutang"),t.props.dispatch(Object(d.d)("HeadValidasiHutang")),t.props.dispatch(Object(g.j)([]))},1e3)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb float-xl-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(_.b,{to:"#"},"Kasir")),r.a.createElement("li",{className:"breadcrumb-item active"},"Validasi Hutang")),r.a.createElement("h1",{className:"page-header"},"Validasi Hutang "),r.a.createElement(p.a,null,r.a.createElement("textarea",{style:{display:"none"},id:"myInput",rows:"100",cols:"100"}),r.a.createElement(p.c,null,"Validasi Hutang"),r.a.createElement("br",null),r.a.createElement(p.b,null,r.a.createElement(x,{columns:this.state.columns,isLoading:this.state.isLoading,isLoadingBatal:this.state.isLoadingBatal,btnClear:function(){return t.clearHutang()},onSubmit:function(a){return t.handleSubmit(a)}})),r.a.createElement("br",null)))}}]),e}(r.a.Component);y=Object(m.a)({form:"FormValidasiHutang",enableReinitialize:!0})(y);a.default=Object(u.b)()(y)},758:function(t,a,e){"use strict";var n=e(678),i=(e(679),e(11)),l=e(759),o=e.n(l),s=e(760),c=e.n(s);a.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],new n.default("l","mm",[218,140])),e=[],l=[];t.forEach(function(t,n){0!==n&&a.addPage(),a.setFontSize(10),a.addImage(o.a,"png",14,10,20,20),a.text(90,15,"PUSAT KOPRASI KEPOLISIAN RI\n DAERAH JAWA TIMUR\n (POUSKOPPOLDA JATIM)","center"),a.text(90,30,"Badan Hukum No. 6067 B / BH / II / 1969\nTanggal 8 Juli 1985 ","center"),a.setFontSize(10),a.text("UNIT ANEKA USAHA\nTOKO EMAS ".concat(Object(i.j)().nama_toko),170,15,"center");var s=Object(i.j)().alamat_toko.length;s>10&&a.text(Object(i.j)().alamat_toko.slice(0,48),145,30),s>50&&a.text(Object(i.j)().alamat_toko.slice(48,90),145,30),a.setFontSize(10),a.setProperties({title:"REPRINT NOTA HUTANG"}),a.text(14,35,"_______________________________________________________________________________________________"),a.setFontSize(10),a.text(14,43,"TANGGAL"),a.text(35,43,": ".concat(t.tgl_system)),a.text(14,48,"NILAI"),a.text(35,48,": ".concat(t.jumlah_hutang.toLocaleString("kr-KO"))),a.text(90,43,"No.".concat(t.no_faktur_hutang)),a.text(140,43,"Nama"),a.text(152,43,": ".concat(t.nama_customer)),a.text(140,48,"Alamat"),a.text(152,48,": ".concat(t.n_alamat_customer)),a.text(140,53,"Telp"),a.text(152,53,": ".concat(t.no_hp)),a.text(90,53,"Sales"),a.text(100,53,": ".concat(t.kode_sales)),l=[[{content:"NAMA BARANG",styles:{halign:"center"}},{content:"KADAR",styles:{halign:"center"}},{content:"BERAT",styles:{halign:"center"}}]];var r=0;t.detail_barang.forEach(function(t){r+=t.berat;var a=[t.nama_barang,{content:t.kadar||"-",styles:{halign:"center"}},{content:"".concat(t.berat," GR"),styles:{halign:"center"}}];l.push(a)}),a.setFontSize(10),a.text(14,100,"Jumlah"),a.text(30,100,": Rp: ".concat(t.jumlah_hutang.toLocaleString("ko-Ko"))),a.text(14,105,"Terbilang"),a.text(30,105,": ".concat(c()(t.jumlah_hutang))),a.text(150,105,"Total Berat"),a.text(170,105,": ".concat(r," Gr")),a.text(14,107,"_______________________________________________________________________________________________"),a.setFontSize(10),a.text(14,112,"Keterangan"),a.text(14,118,"Apabila titipan (jaminan) tidak bisa di beli kembali dalam waktu 3(tiga)\nbulan atau tidak dibayar dari keuntungannya, maka pihak UNIT ANEKA USAHA\nTOKO EMAS SUMBER URIP berhak menjual barang-barang tersebut tanpa\npemberitahuan kepada pemilik"),a.text(169,112,"Peminjam"),a.text(165,130,"(.........................)"),a.setFontSize(8),a.text(135,130,"Tgl Cetak : ".concat(t.tgl_system)),a.autoTable({head:l,body:e,startY:60,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,lineWidth:.01,lineColor:"#000"}})}),e=[],a.setFontSize(10);var s=a.output("datauristring"),r=window.open();r.document.open(),r.document.write("<html><head><title>LAPORAN  BARANG DETAIL</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+s+"></embed></body></html>"),r.document.close()}},759:function(t,a,e){t.exports=e.p+"static/media/POUSKOPPOLDA.150036b4.png"},760:function(t,a,e){"use strict";var n=["","ribu","juta","milyar","triliun","quadriliun","quintiliun","sextiliun","septiliun","oktiliun","noniliun","desiliun","undesiliun","duodesiliun","tredesiliun","quattuordesiliun","quindesiliun","sexdesiliun","septendesiliun","oktodesiliun","novemdesiliun","vigintiliun"],i=n.length-1;function l(t){var a=t/3;return a<=i?n[a]:n[i]}var o=["","satu","dua","tiga","empat","lima","enam","tujuh","delapan","sembilan"];function s(t){return o[t]||""}var c=function(t){var a=t.length,e=a-1;if(0===e&&0===Number(t[0]))return"nol";for(var n="",i="",o=0;o!==a;){var c=e-o,r=c%3,u=Number(t[o]);if(3===c&&1===u&&(0===o||0===Number(t[o-2])&&0===Number(t[o-1])))i+="".concat(n,"seribu");else if(0!==u)if(0===r)i+="".concat(n).concat(s(u)).concat(o===e?"":" ").concat(l(c));else if(2===r)i+=1===u?"".concat(n,"seratus"):"".concat(n).concat(s(u)," ratus");else if(1===u){o++;var _=Number(t[o]);0===_?(i+="".concat(n,"sepuluh"),1===c||0===Number(t[o-2])&&0===Number(t[o-1])||(i+=" ".concat(l(c-1)))):(i+=1===_?"".concat(n,"sebelas"):"".concat(n).concat(s(_)," belas"),1!==c&&(i+=" ".concat(l(c-1))))}else i+="".concat(n).concat(s(u)," puluh");else 0!==r||0===Number(t[o-2])&&0===Number(t[o-1])||0===c||(i+=" ".concat(l(c)));o<=1&&(n=" "),o++}return i};t.exports=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{decimal:"."};return"string"!==typeof t&&(t=String(t)),t.indexOf(a.decimal)>-1?(t=t.split(a.decimal),"".concat(c(t[0])," koma ").concat(t[1].split("").map(function(t){return 0==t?"nol":s(t)}).join(" "))):c(t)}}}]);
//# sourceMappingURL=18.8a8c288b.chunk.js.map