{"version":3,"sources":["pages/Hutang/TransaksiHutang/Modal/ModalDataCustomer.jsx","Validasi/Hutang/ValidasiFormHutang.jsx","pages/Hutang/TransaksiHutang/Modal/ModalHutang.jsx","Validasi/ValidasiHutang.jsx","pages/Hutang/TransaksiHutang/Modal/ModalTambahBarang.jsx","pages/Hutang/TransaksiHutang/HeadHutang.jsx","pages/Hutang/TransaksiHutang/FormTransaksiHutang.jsx","Validasi/ManageUsers/ValidasiDataUsers.jsx","Validasi/Penjualan/ValidasiFormDataMemberPenjualan.jsx"],"names":["jenis_pelanggan","value","name","ModalDataCustomer","props","_this","Object","classCallCheck","this","_super","call","state","showMember","dispatch","getDataSales","data_customer","localStorage","getItem","JSON","parse","setState","change","e","document","getElementById","focus","_this2","getData","then","res","data","length","ToastNotification","forEach","item","index","nama_customer","no_hp","alamat_customer","catch","err","_this3","react_default","a","createElement","onSubmit","handleSubmit","onKeyPress","key","preventDefault","autoComplete","className","Field","label","placeholder","options","DataSales","filter","list","undefined","kode_sales","map","component","ReanderSelect","onChange","changemember","id","getMember","target","ReanderField","type","readOnly","normalize","NumberOnly","disabled","isLoadingDataCustomer","Fragment","isLoading","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","validate","ValidasiFormDataMemberPenjualan","connect","initialValues","kode_customer","datamaster","ValidasiFormHutang","event","errors","tgl_hutang","emasdanplastik","jml_hutang","bunga","lama_pinjam","currencyMask","createNumberMask","prefix","locale","ModalHutang","isLoadingBatal","setStartDate","bind","assertThisInitialized","date","Date","total_berat","berat","parseFloat","toFixed","setTimeout","bunga_rp","besar_kembali","tgl_jatuh_tempo","setItem","stringify","setBarangHutang","reset","hideModal","berat_emas","_this4","InputDate","selected","Gramasi","onBlur","cekBeratEmas","assign","hitungTotal","isLoadingHutang","_selector","formValueSelector","selector","tomorrow","moment","setDate","getDate","parseInt","format","getToday","toLocaleString","datakondisi","getDataKondisiBarang","kategori","GetDataGroup","ValidasiHutang","nama_barang","jumlah","ModalTambahBarang","visible","loadimage","imgfound","ModalWebCam","harga_jual","berat_jual","hargapergram","ongkos","total","gambar","getKondisiPinjaman","setCamera","url","file","dataURLtoFile","resizeFile","showModal","library","onTakePhoto","dataUri","handleTakePhoto","HiidenFiled","loadcamera","src","foto","alt","height","width","onClick","showModalWebcam","defaultValue","databarang","showEditBarang","HeadHutang","FormModal","hasil","data_barang_hutang","detail_barang","row","kondisi","kondisi_barang","kadar","push","data_hutang","kode_member","formatDate","tgl_tempo","tgl_jth_tempo","jumlah_hutang","berat_bruto","postData","message","cek","_this5","panel","tabel","keyField","exportCsv","tambahData","btnText","handleClick","ShowModalCustomer","columns","btnOptional","namaCustomer","jenisCustomer","btnTextOptional","handleClickOptional","ShowModalBarang","btnOptional2","btnTextOptional2","handleClickOptional2","ShowModalHutang","empty","textEmpty","batalHutang","ModalGlobal","size","title","TitleModal","content","Modal_ModalDataCustomer","Modal_ModalTambahBarang","simpanBarang","Modal_ModalHutang","simpanTransaksiHutang","ValidasiDataUsers","hutang","modalDialog","FormTransaksiHutang","dataField","text","footer","headerClasses","formatter","cell","columnData","reduce","acc","csvExport","rowcontent","hapusdata","Swal","fire","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","result","isConfirmed","splice","berhasil","react_router_dom","to","TransaksiHutang_HeadHutang","React","user_id","user_name","level","alamat"],"mappings":"kWAgCMA,EAAkB,CACtB,CACEC,MAAO,SACPC,KAAM,UAER,CACED,MAAO,YACPC,KAAM,eAGJC,oDACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CACXC,YAAY,GAHGP,kEAOjBG,KAAKJ,MAAMS,SAASC,gBACpB,IAAIC,EACmD,OAArDC,aAAaC,QAAQ,4BACjB,GACAC,KAAKC,MAAMH,aAAaC,QAAQ,6BAA+B,IAEjEF,GAAmD,WAAlCA,EAAcf,gBACjCQ,KAAKY,SAAS,CACZR,YAAY,KAGdJ,KAAKY,SAAS,CACZR,YAAY,IAEdJ,KAAKJ,MAAMiB,OAAO,kBAAmB,mDAU5BC,GAED,WAANA,GACFd,KAAKY,SAAS,CACZR,YAAY,IAEdW,SAASC,eAAe,iBAAiBC,UAEzCF,SAASC,eAAe,iBAAiBC,QACzCjB,KAAKJ,MAAMiB,OAAO,gBAAiB,IACnCb,KAAKJ,MAAMiB,OAAO,gBAAiB,IACnCb,KAAKJ,MAAMiB,OAAO,QAAS,IAC3Bb,KAAKJ,MAAMiB,OAAO,kBAAmB,IACrCb,KAAKY,SAAS,CACZR,YAAY,uCAMRU,GAAG,IAAAI,EAAAlB,KAEXmB,YAAQ,6BAA+BL,GACpCM,KAAK,SAACC,GAEmB,IAApBA,EAAIC,KAAKC,OACXC,YAAkB,OAAQ,0CAE1BH,EAAIC,KAAKG,QAAQ,SAACC,EAAMC,GACtBT,EAAKtB,MAAMiB,OAAO,gBAAiBa,EAAKE,eACxCV,EAAKtB,MAAMiB,OAAO,QAASa,EAAKG,OAChCX,EAAKtB,MAAMiB,OAAO,kBAAmBa,EAAKI,qBAI/CC,MAAM,SAACC,GACNR,YACE,OACA,oFAIC,IAAAS,EAAAjC,KACP,OACEkC,EAAAC,EAAAC,cAAA,QACEC,SAAUrC,KAAKJ,MAAM0C,aACrBC,WAAY,SAACzB,GACD,UAAVA,EAAE0B,KAAmB1B,EAAE2B,kBAEzBC,aAAa,OAEbR,EAAAC,EAAAC,cAAA,OAAKO,UAAU,OACbT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,aACLmD,MAAM,mBACNC,YAAY,qBACZC,QAAS/C,KAAKJ,MAAMoD,UAAUC,OAC5B,SAACC,GAAD,YAA8BC,IAApBD,EAAKE,aACfC,IAAI,SAACH,GAKL,MAJW,CACTzD,MAAOyD,EAAKE,WACZ1D,KAAMwD,EAAKE,cAIfE,UAAWC,OAGfrB,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,kBACLmD,MAAM,kBACNW,SAAU,SAAC1C,GAAD,OAAOmB,EAAKwB,aAAa3C,IACnCgC,YAAY,2BACZC,QAASvD,EACT8D,UAAWC,OAGfrB,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEc,GAAG,gBACHhE,KAAK,gBACL8D,SAAU,SAAC1C,GAAD,OAAOmB,EAAK0B,UAAU7C,EAAE8C,OAAOnE,QACzC6D,UAAWO,IACXC,KAAK,OACLC,SAAU/D,KAAKG,MAAMC,WACrByC,MAAM,gBACNC,YAAY,2BAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEc,GAAG,gBACHhE,KAAK,gBACL4D,UAAWO,IACXC,KAAK,OACLjB,MAAM,gBACNC,YAAY,2BAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,QACL4D,UAAWO,IACXC,KAAK,OACLE,UAAWC,IACXpB,MAAM,QACNC,YAAY,mBAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,kBACL4D,UAAWO,IACXC,KAAK,WACLjB,MAAM,kBACNC,YAAY,8BAKlBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,OACbT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,UACfT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAAA,UACEO,UAAU,4BACVuB,SAAUlE,KAAKJ,MAAMuE,sBACrBL,KAAK,UAEJ9D,KAAKJ,MAAMuE,sBACVjC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiC,SAAA,KACElC,EAAAC,EAAAC,cAAA,KAAGO,UAAU,2BADf,0BAKA,iBAKP3C,KAAKJ,MAAMyE,UACZnC,EAAAC,EAAAC,cAACkC,EAAAnC,EAAD,CACAoC,SAAO,EACPC,WAAW,sBACVC,YAAY,0BACX,aAlLsBC,aAwLhC/E,EAAoBgF,YAAU,CAC5BC,KAAM,oBACNC,oBAAoB,EACpBC,SAAUC,KAHQJ,CAIjBhF,GACYqF,kBAzNI,SAAC7E,GAClB,IAAII,EACmD,OAArDC,aAAaC,QAAQ,4BACjB,GACAC,KAAKC,MAAMH,aAAaC,QAAQ,6BAA+B,IACrE,MAAO,CACLwE,cAAe,CACb7B,WAAY7C,EAAc6C,YAAc,GACxC5D,gBAAiBe,EAAcf,iBAAmB,GAClD0F,cAAe3E,EAAc2E,eAAiB,GAC9CtD,cAAerB,EAAcqB,eAAiB,GAC9CC,MAAOtB,EAAcsB,OAAS,GAC9BC,gBAAiBvB,EAAcuB,iBAAmB,IAEpDkB,UAAW7C,EAAMgF,WAAW7E,eA2MG,KAApB0E,CAA0BrF,8BClNxByF,EArBU,SAAC3F,EAAO4F,GAC/B,IAAMC,EAAS,GAiBf,OAfK7F,EAAM8F,aACTD,EAAOC,WAAa,qCAEjB9F,EAAM+F,iBACTF,EAAOE,eAAiB,2CAErB/F,EAAMgG,aACTH,EAAOG,WAAa,oCAEjBhG,EAAMiG,QACTJ,EAAOI,MAAQ,oCAEZjG,EAAMkG,cACTL,EAAOK,YAAc,kCAEhBL,GCHLM,EAAeC,2BAAiB,CACpCC,OAAQ,OACRC,OAAQ,UAEJC,oDACJ,SAAAA,EAAYpG,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgG,IACjBnG,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CAEX8F,gBAAgB,GAElBpG,EAAKqG,aAAerG,EAAKqG,aAAaC,KAAlBrG,OAAAsG,EAAA,EAAAtG,CAAAD,IANHA,2DASNwG,GACXrG,KAAKY,SAAS,CACZ2E,WAAa,IAAIe,KAAKD,iDAGN,IAAAnF,EAAAlB,KACduG,EAAc,EAClBvG,KAAKJ,MAAMiB,OAAO,cAAc,IAChC,IAAIS,EAAOZ,KAAKC,MAAMH,aAAaC,QAAQ,2BAE9B,OAATa,GACFA,EAAKG,QAAQ,SAACC,EAAMC,GAElB4E,GAA4B7E,EAAK8E,MACjCtF,EAAKtB,MAAMiB,OAAO,aAAc4F,WAAWF,GAAaG,QAAQ,IAChExF,EAAKtB,MAAMiB,OAAO,iBAAkB4F,WAAWF,GAAaG,QAAQ,MAIxEC,WAAW,WACT5F,SAASC,eAAe,kBAAkBC,SACzC,2CAGHjB,KAAKJ,MAAMiB,OAAO,WAAYb,KAAKJ,MAAMgH,UACzC5G,KAAKJ,MAAMiB,OAAO,gBAAiBb,KAAKJ,MAAMiH,eAC9C7G,KAAKJ,MAAMiB,OAAO,gBAAiBb,KAAKJ,MAAMkH,uDAGlC,IAAA7E,EAAAjC,KACZA,KAAKY,SAAS,CACZqF,gBAAgB,IAElBU,WAAW,WACTnG,aAAauG,QAAQ,2BAA4BrG,KAAKsG,UAAU,KAChExG,aAAauG,QAAQ,yBAA0BrG,KAAKsG,UAAU,KAC9D/E,EAAKrC,MAAMS,SAAS4G,YAAgB,KACpChF,EAAKrC,MAAMS,SAAS6G,YAAM,gBAC1BjF,EAAKrC,MAAMS,SAAS8G,iBACnB,0CAEQrG,GACX,IAAIsG,EAAarG,SAASC,eAAe,cAAcvB,MACvD,GAAIgH,WAAW3F,GAAK2F,WAAWW,GAI7B,OAHA5F,YAAkB,OAAQ,iEAC1BxB,KAAKJ,MAAMiB,OAAO,iBAAkB,IACpCE,SAASC,eAAe,kBAAkBC,SACnC,mCAGF,IAAAoG,EAAArH,KACP,OACEkC,EAAAC,EAAAC,cAAA,QACEC,SAAUrC,KAAKJ,MAAM0C,aACrBC,WAAY,SAACzB,GACD,UAAVA,EAAE0B,KAAmB1B,EAAE2B,kBAEzBC,aAAa,OAEbR,EAAAC,EAAAC,cAAA,OAAKO,UAAU,OACbT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEmB,UAAU,EACVL,GAAG,aACHhE,KAAK,aACL4D,UAAWO,IACXC,KAAK,OACLjB,MAAM,aACNC,YAAY,wBAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SAQbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,aACL4D,UAAWgE,IACXzE,MAAM,iBACNiB,KAAK,OACLyD,SAAUvH,KAAKG,MAAMoF,WACrB/B,SAAU,SAAC6C,GAAD,OAAUgB,EAAKnB,aAAaG,IACtCvD,YAAY,0BAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEc,GAAG,iBACHhE,KAAK,iBACLoE,KAAK,OACLR,UAAWO,IACXG,UAAWwD,IACXC,OAAQ,SAAC3G,GAAD,OAAOuG,EAAKK,aAAa5G,EAAE8C,OAAOnE,QAC1CoD,MAAM,uBACNC,YAAY,kCAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD9C,OAAA6H,OAAA,CACEjI,KAAK,aACL4D,UAAWO,IACXC,KAAK,QACD8B,EAJN,CAKEpC,SAAUxD,KAAK4H,cACf/E,MAAM,gBACNC,YAAY,4BAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,QACL4D,UAAWO,IACXC,KAAK,OACLE,UAAWwD,IACXhE,SAAUxD,KAAK4H,cACf/E,MAAM,sBACNC,YAAY,iCAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,cACL4D,UAAWO,IACXC,KAAK,OACLE,UAAWC,IACXT,SAAUxD,KAAK4H,cACf/E,MAAM,cACNC,YAAY,yBAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEmB,UAAU,EACVrE,KAAK,gBACL4D,UAAWO,IACXC,KAAK,OACLjB,MAAM,sBACNC,YAAY,iCAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEmB,UAAU,EACVrE,KAAK,WACL4D,UAAWO,IACXG,UAAWC,IACXH,KAAK,OACLjB,MAAM,WACNC,YAAY,sBAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEmB,UAAU,EACVrE,KAAK,gBACL4D,UAAWO,IACXC,KAAK,OACLjB,MAAM,gBACNC,YAAY,2BAIhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,UACfT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,UAGfT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAAA,UACEO,UAAU,4BACVuB,SAAUlE,KAAKJ,MAAMiI,gBACrB/D,KAAK,UAEJ9D,KAAKJ,MAAMiI,gBACV3F,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiC,SAAA,KACElC,EAAAC,EAAAC,cAAA,KAAGO,UAAU,2BADf,0BAKAT,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiC,SAAA,KACElC,EAAAC,EAAAC,cAAA,KAAGO,UAAU,uBADf,wBAOP3C,KAAKJ,MAAMiI,gBACZ3F,EAAAC,EAAAC,cAACkC,EAAAnC,EAAD,CACAoC,SAAO,EACPC,WAAW,sBACVC,YAAY,0BACX,aA5MgBC,aAkN1BsB,EAAcrB,YAAU,CACtBC,KAAM,cACNC,oBAAoB,EACpBC,SAAUM,GAHET,CAIXqB,GACYhB,kBAAQ,SAAC7E,GACtB,IADgC2H,EACfC,YAAkB,cACoBC,CACrD7H,EACA,aACA,QACA,cACA,cALMsF,EAFwBqC,EAExBrC,WAAYC,EAFYoC,EAEZpC,MAAOC,EAFKmC,EAELnC,YAAaJ,EAFRuC,EAEQvC,WAOpCqB,EACDH,WAAWf,GAAS,GAAKe,WAAW,KACrCA,WAAWhB,GAAc,IACxBgB,WAAWd,GAAe,GAAKc,WAAW,KACzCI,EAAgBJ,WAAWhB,GAAc,GAAKgB,WAAWG,GAAY,GACrEqB,EAAW,IAAI3B,KAAKf,GAEpBuB,EAAkBoB,EACpBD,EAASE,QAAQF,EAASG,UAAYC,SAAS1C,GAAe,KAC9D2C,OAAO,cACT,MAAO,CACLrD,cAAe,CACbM,WAAYgD,eAEd3B,SAAUH,WAAWG,GAAU4B,eAAe,SAC9C3B,cAAeJ,WAAWI,GAAe2B,eAAe,SACxD1B,gBAAiBA,EACjB2B,YAAatI,EAAMgF,WAAWuD,qBAC9BC,SAAUxI,EAAMgF,WAAWyD,eA3BhB5D,CA6BZgB,8BCvPc6C,EAhBM,SAACpJ,EAAO4F,GAC3B,IAAMC,EAAS,GAYf,OAVK7F,EAAMqJ,cACTxD,EAAOwD,YAAc,kCAElBrJ,EAAM+G,QACTlB,EAAOkB,MAAQ,4BAEZ/G,EAAMsJ,SACTzD,EAAOyD,OAAS,6BAGXzD,mBCSL0D,oDACJ,SAAAA,EAAYpJ,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgJ,IACjBnJ,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CACX8I,SAAS,EACTC,UAAWC,IACXC,aAAa,EACb/E,WAAW,EACXgF,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,QAAQ,EACRC,OAAO,EACPC,QAAQ,GAZO7J,kEAeC,IAAAqB,EAAAlB,KAClBA,KAAKJ,MAAMS,SAASsJ,gBACpB3J,KAAKJ,MAAMS,SAASuI,eACpBjC,WAAW,WAETzF,EAAKtB,MAAMS,SAASuJ,aAAU,KAC7B,qFAGiBC,2FAEZC,EAAOC,YAAcF,YACTG,YAAWF,UAAvBzI,SAENrB,KAAKJ,MAAMS,SAASuJ,YAAUvI,IAC9BrB,KAAKJ,MAAMiB,OAAO,OAAQQ,GAE1BN,SAASC,eAAe,sBAAsBC,iNAMhDjB,KAAKJ,MAAMS,SAASuJ,aAAU,IAC9B5J,KAAKJ,MAAMS,SAAS4J,gBACpBjK,KAAKY,SAAS,CAAEwI,aAAa,yCAElB,IAAAnH,EAAAjC,KACX,OACEkC,EAAAC,EAAAC,cAAC8H,EAAA,EAAD,CACEC,YAAa,SAACC,GACZnI,EAAKoI,gBAAgBD,uCAKpB,IAAA/C,EAAArH,KACP,OACEkC,EAAAC,EAAAC,cAAA,QACEC,SAAUrC,KAAKJ,MAAM0C,aACrBC,WAAY,SAACzB,GACD,UAAVA,EAAE0B,KAAmB1B,EAAE2B,kBAEzBC,aAAa,OAEbR,EAAAC,EAAAC,cAAA,OAAKO,UAAU,OACbT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,yBACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEmB,UAAU,EACVrE,KAAK,OACLoE,KAAK,SACLR,UAAWgH,OAEe,IAA3BtK,KAAKG,MAAMiJ,cACe,IAAzBpJ,KAAKJ,MAAMgK,UACT1H,EAAAC,EAAAC,cAAA,OAAKO,UAAU,aAAa3C,KAAKuK,cAoBnCrI,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiC,SAAA,KACElC,EAAAC,EAAAC,cAAA,OACEoI,SACsBrH,IAApBnD,KAAKJ,MAAM6K,MACkB,IAAzBzK,KAAKJ,MAAMgK,UACTT,IACAnJ,KAAKJ,MAAMgK,UACb5J,KAAKJ,MAAMgK,UACX5J,KAAKJ,MAAMgK,UACX5J,KAAKJ,MAAM6K,KAEjBC,IAAI,MACJC,OAAO,QACPC,MAAM,YAKd1I,EAAAC,EAAAC,cAAA,OAAKO,UAAU,yBACbT,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAAA,OAAKO,UAAU,yBACbT,EAAAC,EAAAC,cAAA,UACE0B,KAAK,SACLnB,UAAU,kBACVkI,QAAS,kBAAMxD,EAAKyD,oBAEnB,IALH,SAMS,MAGX5I,EAAAC,EAAAC,cAAA,OAAKO,UAAU,yBACbT,EAAAC,EAAAC,cAAA,YAGFF,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEc,GAAG,qBACHhE,KAAK,cACL4D,UAAWO,IACXC,KAAK,OACLjB,MAAM,cACNC,YAAY,yBAIhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,QACL4D,UAAWO,IACXG,UAAWwD,IACX1D,KAAK,OACLjB,MAAM,QACNC,YAAY,mBAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,QACL4D,UAAWO,IACXG,UAAWwD,IACX1D,KAAK,OACLjB,MAAM,QACNC,YAAY,mBAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACbT,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACElD,KAAK,SACLqL,aAAa,IACbzH,UAAWO,IACXC,KAAK,SACLE,UAAWC,IACXpB,MAAM,SACNC,YAAY,oBAGhBZ,EAAAC,EAAAC,cAAA,OAAKO,UAAU,qBACbT,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UACEO,UAAU,mBACVuB,SAAUlE,KAAKJ,MAAMyE,UACrBP,KAAK,UAEJ9D,KAAKJ,MAAMyE,UACVnC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiC,SAAA,KACElC,EAAAC,EAAAC,cAAA,KAAGO,UAAU,2BADf,0BAKAT,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiC,SAAA,KACElC,EAAAC,EAAAC,cAAA,KAAGO,UAAU,uBADf,wBAOP3C,KAAKJ,MAAMyE,UACVnC,EAAAC,EAAAC,cAACkC,EAAAnC,EAAD,CACEoC,SAAO,EACPC,WAAW,sBACXC,YAAY,0BAEZ,aAlMoBC,aA+MhCsE,EAAoBrE,YAAU,CAC5BC,KAAM,oBACNC,oBAAoB,EACpBC,SAAU+D,GAHQlE,CAIjBqE,GAEYhE,kBAAQ,SAAC7E,GACtB,MAAO,CACL8E,cAAe,CACb8D,OAAQ,KAEVN,YAAatI,EAAMgF,WAAWwE,mBAC9BhB,SAAUxI,EAAMgF,WAAWyD,aAC3B6B,KAAMtK,EAAM6K,WAAWC,eAAeR,KACtCb,UAAWzJ,EAAM6K,WAAWpB,YARjB5E,CAUZgE,GC5NGkC,oDACJ,SAAAA,EAAYtL,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkL,IACjBrL,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CACXgE,uBAAuB,EACvB8B,gBAAgB,EAChB4B,iBAAiB,EACjBsD,UAAW,IANItL,+GAYjBG,KAAKY,SAAS,CAAEuK,UAAW,sBAC3BnL,KAAKJ,MAAMS,SAAS4J,0DAGpBjK,KAAKJ,MAAMS,SAAS4J,gBACpBjK,KAAKY,SAAS,CAAEuK,UAAW,8DAG3B,IAAI5K,EAAgBG,KAAKC,MAAMH,aAAaC,QAAQ,6BAChDa,EAAOZ,KAAKC,MAAMH,aAAaC,QAAQ,2BAC3C,GAAa,OAATa,GAA8C,IAAhBA,EAAKC,QAAkC,OAAlBhB,GAAgE,IAAzBA,EAAcgB,OAE1G,OADAC,YAAkB,OAAQ,4CACnB,EAEPxB,KAAKJ,MAAMS,SAAS4J,gBACpBjK,KAAKY,SAAS,CAAEuK,UAAW,yDAiBlB7J,GAAM,IAAAJ,EAAAlB,KACboL,EAAQ,CACVtJ,gBAAiBR,EAAKQ,iBAAmB,IACzCtC,gBAAiB8B,EAAK9B,iBAAmB,YACzC0F,cAAwC,cAAzB5D,EAAK9B,gBAAkC,YAAc8B,EAAK4D,cACzE9B,WAAY9B,EAAK8B,WACjBxB,cAAeN,EAAKM,eAAiB,UACrCC,MAAOP,EAAKO,OAAS,KAEvB7B,KAAKY,SAAU,CACbuD,uBAAuB,IAEzB3D,aAAauG,QAAQ,2BAA4BrG,KAAKsG,UAAUoE,IAChEzE,WAAW,WACTzF,EAAKN,SAAU,CACbuD,uBAAuB,IAEzBjD,EAAKtB,MAAMS,SAAS8G,iBACnB,mDAGiB7F,GAAM,IAAAW,EAAAjC,KAGtBO,EAAgBG,KAAKC,MAAMH,aAAaC,QAAQ,6BAChD4K,EAAqB3K,KAAKC,MAAMH,aAAaC,QAAQ,2BAErD6K,EAAgB,GACpBD,EAAmB5J,QAAQ,SAACC,EAAMC,GAChC,IAAI4J,EAAM,CACRzC,YAAapH,EAAKoH,YAClB0C,QAAS9J,EAAK+J,eACd9C,SAAUjH,EAAKiH,SACf8B,KAAM/I,EAAK+I,KACXjE,MAAOC,WAAW/E,EAAK8E,OACvBkF,MAAOjF,WAAW/E,EAAKgK,OACvB3C,OAAQV,SAAS3G,EAAKqH,SAExBuC,EAAcK,KAAKJ,KAErB,IAAIK,EAAc,CAChBxI,WAAY7C,EAAc6C,WAC1BxB,cAAerB,EAAcqB,cAC7BE,gBAAiBvB,EAAcuB,gBAC/B+J,YAA+C,cAAlCtL,EAAcf,gBAAkCe,EAAcf,gBAAkBe,EAAc2E,cAC3GrD,MAAQtB,EAAcsB,MACtB0D,WAAauG,YAAW5D,IAAO,IAAI5B,KAAKhF,EAAKiE,aAAa+C,OAAO,eACjEyD,UAAYzK,EAAK0K,cACjBC,cAAgB5D,SAAS/G,EAAKmE,YAC9BE,YAAc0C,SAAS/G,EAAKqE,aAC5BD,MAAQe,WAAWnF,EAAKoE,OACxB0B,WAAaX,WAAWnF,EAAK8F,YAC7B8E,YAAazF,WAAWnF,EAAKkE,gBAC7B8F,cAAgBA,GAIlBtL,KAAKY,SAAS,CACZiH,iBAAiB,IAEnBlB,WAAW,WACTwF,YAAS,gBAAiBP,GAAaxK,KAAK,SAACC,GAC3CG,YAAkB,UAAWH,EAAIC,KAAK8K,SACtCnK,EAAKrB,SAAS,CACZiH,iBAAiB,IAEnB5F,EAAKrC,MAAMS,SAAS6G,YAAM,kBACzB9F,KAAK,WACNZ,aAAauG,QAAQ,2BAA4BrG,KAAKsG,UAAU,KAChExG,aAAauG,QAAQ,yBAA0BrG,KAAKsG,UAAU,KAC9D/E,EAAKrC,MAAMS,SAAS4G,YAAgB,KACpChF,EAAKrB,SAAS,CACZiH,iBAAiB,MAElBzG,KAAK,WACNa,EAAKrC,MAAMS,SAAS8G,kBAEnBpF,MAAM,SAACC,GACNC,EAAKrB,SAAS,CACZiH,iBAAiB,IAErBrG,YAAkB,OAAO,+BAE1B,2CAGS,IAAA6F,EAAArH,KACZA,KAAKY,SAAS,CACZqF,gBAAgB,IAElBU,WAAW,WACTnG,aAAauG,QAAQ,2BAA4BrG,KAAKsG,UAAU,KAChExG,aAAauG,QAAQ,yBAA0BrG,KAAKsG,UAAU,KAC9DK,EAAKzH,MAAMS,SAAS4G,YAAgB,KACpCI,EAAKzH,MAAMS,SAAS6G,YAAM,gBAC1BG,EAAKzH,MAAMS,SAAS8G,gBACpBE,EAAKzG,SAAS,CACZqF,gBAAgB,KAEjB,0CAEQ3E,GACX,IAAI8J,EAAQ,CACVtC,YAAaxH,EAAKwH,aAAe,IACjC2C,eAAgBnK,EAAKmK,gBAAkB,IACvC9C,SAAUrH,EAAKqH,UAAY,IAC3BnC,MAAOC,WAAWnF,EAAKkF,QAAU,EACjCuC,OAAQV,SAAS/G,EAAKyH,SAAW,EACjC2C,MAAOjF,WAAWnF,EAAKoK,QAAU,EACjCjB,KAAMnJ,EAAKmJ,MAAQ,KAEjB4B,EAAM3L,KAAKC,MAAMH,aAAaC,QAAQ,4BAA8B,GACxE4L,EAAIV,KAAKP,GACTrK,SAASC,eAAe,sBAAsBC,QAC9CjB,KAAKJ,MAAMS,SAAS6G,YAAM,sBAC1BlH,KAAKJ,MAAMS,SAAS4G,YAAgBoF,IACpC7L,aAAauG,QAAQ,yBAA0BrG,KAAKsG,UAAUqF,IAC9DrM,KAAKJ,MAAMS,SAAS8G,iDAEb,IAAAmF,EAAAtM,KACP,OACEkC,EAAAC,EAAAC,cAACmK,EAAA,EAAD,KACErK,EAAAC,EAAAC,cAAA,OAAKO,UAAU,OACbT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,UACbT,EAAAC,EAAAC,cAACoK,EAAA,EAAD,CACEC,SAAS,cACTC,WAAW,EACXpL,KACwC,IAAtCtB,KAAKJ,MAAMqH,gBAAgB1F,OAAeb,KAAKC,MAAMH,aAAaC,QAAQ,4BAA8B,GACtGT,KAAKJ,MAAMqH,iBAAmB,GAElC0F,YAAY,EACZC,QAAQ,gBACRC,YAAa,kBAAMP,EAAKQ,qBACxBC,QAAS/M,KAAKJ,MAAMmN,QACpBC,aAAa,EACbC,cAAc,EACdC,eAAe,EACftI,KAAK,SACLuI,gBAAgB,cAChBC,oBAAqB,kBAAMd,EAAKe,mBAChCC,cAAc,EACdC,iBAAiB,cACjBC,qBAAsB,kBAAMlB,EAAKmB,mBACjCC,OAAO,EACPC,UAAU,yBAKhBzL,EAAAC,EAAAC,cAAA,OAAKO,UAAU,OACXT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,SACfT,EAAAC,EAAAC,cAAA,UACEyI,QAAS,kBAAMyB,EAAKsB,eACpBjL,UAAU,kBACVuB,SAAUlE,KAAKG,MAAM8F,eACrBnC,KAAK,UAEJ9D,KAAKG,MAAM8F,eACV/D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiC,SAAA,KACElC,EAAAC,EAAAC,cAAA,KAAGO,UAAU,2BADf,eAIA,WAKRT,EAAAC,EAAAC,cAACyL,EAAA,EAAD,CACEC,KAA+B,oBAAzB9N,KAAKG,MAAMgL,UAAkC,IAAK,KACxD4C,MAAO7L,EAAAC,EAAAC,cAAC4L,EAAD,CAAY7N,MAAOH,KAAKG,MAAMgL,YACrC8C,QAC2B,sBAAzBjO,KAAKG,MAAMgL,UACTjJ,EAAAC,EAAAC,cAAC8L,EAAD,CAAmB/J,sBAAuBnE,KAAKG,MAAMgE,sBAAuB9B,SAAU,SAACf,GAAD,OAAUgL,EAAKhK,aAAahB,MACvF,oBAAzBtB,KAAKG,MAAMgL,UACbjJ,EAAAC,EAAAC,cAAC+L,EAAD,CAAmB9L,SAAU,SAACf,GAAD,OAAUgL,EAAK8B,aAAa9M,MAEzDY,EAAAC,EAAAC,cAACiM,EAAD,CAAaxG,gBAAiB7H,KAAKG,MAAM0H,gBAAiBxF,SAAU,SAACf,GAAD,OAAUgL,EAAKgC,sBAAsBhN,gBA9N9FoD,aAuOzB,SAASsJ,EAAW1M,EAAMe,GAExB,MAAmB,sBAAff,EAAKnB,MACA,qBACiB,oBAAfmB,EAAKnB,MACP,mBAEA,mBAGX+K,EAAavG,YAAU,CACrBC,KAAM,aACNC,oBAAoB,EACpBC,SAAUyJ,KAHC5J,CAIVuG,GACYlG,kBA9PI,SAAC7E,GAClB,MAAO,CACL8G,gBAAiB9G,EAAMqO,OAAOvH,gBAC9BjE,UAAW7C,EAAMgF,WAAW7E,aAC5B6G,UAAWhH,EAAMgF,WAAWsJ,cA0PG,KAApBzJ,CAA0BkG,GCvQnCwD,qDACJ,SAAAA,EAAY9O,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0O,IACjB7O,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CACXkE,WAAW,EACX0I,QAAS,CACP,CACE4B,UAAW,cACXC,KAAM,cAENC,OAAO,IAGT,CACEF,UAAW,QACXC,KAAM,QACNE,cAAgB,aAChBC,UAAW,SAACC,GACV,OAAO9M,EAAAC,EAAAC,cAAA,OAAKO,UAAU,cAAcqM,IAEtCH,OAAQ,SAAAI,GAAU,OAAI/M,EAAAC,EAAAC,cAAA,OAAKO,UAAU,cAAf,IAA8B8D,WAAWwI,EAAWC,OAAO,SAACC,EAAKzN,GAAN,OAAeyN,EAAMzN,GAAM,OAE9G,CACEiN,UAAW,QACXC,KAAM,QACNE,cAAgB,aAChBC,UAAW,SAACC,GACV,OAAO9M,EAAAC,EAAAC,cAAA,OAAKO,UAAU,cAAc0F,SAAS2G,GAAMtI,QAAQ,KAE7DmI,OAAQ,SAAAI,GAAU,OAAI/M,EAAAC,EAAAC,cAAA,OAAKO,UAAU,cAAf,IAA8B8D,WAAWwI,EAAWC,OAAO,SAACC,EAAKzN,GAAN,OAAeyN,EAAMzN,GAAM,IAAIgF,QAAQ,MAE1H,CACEiI,UAAW,SACXC,KAAM,SACNE,cAAgB,aAChBC,UAAW,SAACC,GACV,OAAO9M,EAAAC,EAAAC,cAAA,OAAKO,UAAU,cAAc0F,SAAS2G,GAAMxG,eAAe,WAEpEqG,OAAQ,SAAAI,GAAU,OAAI/M,EAAAC,EAAAC,cAAA,OAAKO,UAAU,cAAc0F,SAAS4G,EAAWC,OAAO,SAACC,EAAKzN,GAAN,OAAeyN,EAAMzN,GAAM,IAAI8G,eAAe,YAE9H,CACEmG,UAAW,SACXC,KAAM,SACNQ,WAAW,EACXN,cAAe,cACfC,UAAW,SAACM,EAAY9D,EAAK5J,GAE3B,OACEO,EAAAC,EAAAC,cAAA,OAAKO,UAAU,mBACbT,EAAAC,EAAAC,cAAA,OAAKO,UAAU,UACbT,EAAAC,EAAAC,cAAA,UACE0B,KAAK,SACL+G,QAAS,kBAAMhL,EAAKyP,UAAU3N,IAC9BgB,UAAU,uBAEVT,EAAAC,EAAAC,cAAA,KAAGO,UAAU,oBAMvBkM,OAAQ,MAIdhP,EAAKyC,aAAezC,EAAKyC,aAAa6D,KAAlBrG,OAAAsG,EAAA,EAAAtG,CAAAD,IAhEHA,wDAmET6D,GAAI,IAAAxC,EAAAlB,KACZuP,IAAKC,KAAK,CACRzB,MAAO,gBACPa,KAAM,6BACNa,KAAM,UACNC,SAAU,aACVC,iBAAkB,QAClBC,kBAAkB,EAClBC,kBAAmB,KACnBC,mBAAmB,IAClB1O,KAAK,SAAC2O,GAEP,GAAIA,EAAOC,YAAa,CACtB,IAAI1O,EAAOZ,KAAKC,MAAMH,aAAaC,QAAQ,2BAC3Ca,EAAK2O,OAAOvM,EAAI,GAChBlD,aAAauG,QAAQ,yBAA0BrG,KAAKsG,UAAU1F,IAC9DJ,EAAKtB,MAAMS,SAAS4G,YAAgB3F,IACpCJ,EAAKN,SAAS,CACZsP,UAAW,4CAKN5O,mDAGXd,aAAauG,QAAQ,2BAA4BrG,KAAKsG,UAAU,KAChExG,aAAauG,QAAQ,yBAA0BrG,KAAKsG,UAAU,sCAK9D,OACE9E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIO,UAAU,6BACZT,EAAAC,EAAAC,cAAA,MAAIO,UAAU,mBACZT,EAAAC,EAAAC,cAAC+N,EAAA,EAAD,CAAMC,GAAG,KAAT,WAEFlO,EAAAC,EAAAC,cAAA,MAAIO,UAAU,0BAAd,qBAEFT,EAAAC,EAAAC,cAAA,MAAIO,UAAU,eAAd,qBACAT,EAAAC,EAAAC,cAACmK,EAAA,EAAD,KACErK,EAAAC,EAAAC,cAACmK,EAAA,EAAD,yBACArK,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAACmK,EAAA,EAAD,KACErK,EAAAC,EAAAC,cAACiO,EAAD,CACEhM,UAAWrE,KAAKG,MAAMkE,UACtB0I,QAAS/M,KAAKG,MAAM4M,WAGxB7K,EAAAC,EAAAC,cAAA,oBAvHwBkO,IAAM5L,WAgIzBM,sBAAQ,KAARA,CAAc0J,sCClHdH,IAtBW,SAAC9O,GACvB,IAAM6F,EAAS,GAkBf,OAjBK7F,EAAM8Q,UACPjL,EAAOiL,QAAU,8BAEhB9Q,EAAM+Q,YACPlL,EAAOkL,UAAY,+BAGlB/Q,EAAMgR,QACPnL,EAAOmL,MAAQ,wBASZnL,qCCDIP,IAlByB,SAACtF,GACrC,IAAM6F,EAAS,GAcf,OAbK7F,EAAM2D,aACPkC,EAAOlC,WAAa,4BAEnB3D,EAAMmC,gBACP0D,EAAO1D,cAAgB,6BAEtBnC,EAAMoC,QACPyD,EAAOzD,MAAQ,qBAEdpC,EAAMiR,SACPpL,EAAOoL,OAAS,sBAGbpL","file":"static/js/23.c49c996c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { getDataSales } from \"../../../../actions/datamaster_action\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../../components/helpers/field\";\r\nimport { ToastNotification } from \"../../../../components/helpers/notification\";\r\nimport { getData } from \"../../../../config/axios\";\r\nimport { NumberOnly } from \"../../../../Validasi/normalize\";\r\nimport ValidasiFormDataMemberPenjualan from \"../../../../Validasi/Penjualan/ValidasiFormDataMemberPenjualan\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nconst maptostate = (state) => {\r\n  let data_customer =\r\n    localStorage.getItem(\"data_customer_hutang_tmp\") === null || undefined\r\n      ? []\r\n      : JSON.parse(localStorage.getItem(\"data_customer_hutang_tmp\") || []);\r\n  return {\r\n    initialValues: {\r\n      kode_sales: data_customer.kode_sales || \"\",\r\n      jenis_pelanggan: data_customer.jenis_pelanggan || \"\",\r\n      kode_customer: data_customer.kode_customer || \"\",\r\n      nama_customer: data_customer.nama_customer || \"\",\r\n      no_hp: data_customer.no_hp || \"\",\r\n      alamat_customer: data_customer.alamat_customer || \"\",\r\n    },\r\n    DataSales: state.datamaster.getDataSales,\r\n  };\r\n};\r\n\r\nconst jenis_pelanggan = [\r\n  {\r\n    value: \"MEMBER\",\r\n    name: \"MEMBER\",\r\n  },\r\n  {\r\n    value: \"NONMEMBER\",\r\n    name: \"NON MEMBER\",\r\n  },\r\n];\r\nclass ModalDataCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showMember: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    let data_customer =\r\n      localStorage.getItem(\"data_customer_hutang_tmp\") === null || undefined\r\n        ? []\r\n        : JSON.parse(localStorage.getItem(\"data_customer_hutang_tmp\") || []);\r\n    \r\n    if (data_customer && data_customer.jenis_pelanggan === \"MEMBER\") {\r\n      this.setState({\r\n        showMember: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showMember: true,\r\n      });\r\n      this.props.change(\"jenis_pelanggan\", \"NONMEMBER\")\r\n    }\r\n\r\n    // setTimeout(() => {\r\n    //   this.props.change(\"jenis_pelanggan\", \"MEMBER\");\r\n    //   this.setState({\r\n    //     showMember: false,\r\n    //   });\r\n    // }, 100);\r\n  }\r\n  changemember(e) {\r\n    // console.log(e);\r\n    if (e === \"MEMBER\") {\r\n      this.setState({\r\n        showMember: false,\r\n      });\r\n      document.getElementById('kode_customer').focus()\r\n    } else {\r\n      document.getElementById('nama_customer').focus()\r\n      this.props.change(\"kode_customer\", \"\");\r\n      this.props.change(\"nama_customer\", \"\");\r\n      this.props.change(\"no_hp\", \"\");\r\n      this.props.change(\"alamat_customer\", \"\");\r\n      this.setState({\r\n        showMember: true,\r\n      });\r\n    }\r\n  \r\n  }\r\n\r\n  getMember(e) {\r\n    // console.log(e);\r\n    getData(\"member/get/by-kode-member/\" + e)\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Member Yang Anda Masukan Tidak Ada !!!\");\r\n        } else {\r\n          res.data.forEach((item, index) => {\r\n            this.props.change(\"nama_customer\", item.nama_customer);\r\n            this.props.change(\"no_hp\", item.no_hp);\r\n            this.props.change(\"alamat_customer\", item.alamat_customer);\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\r\n          \"info\",\r\n          \"Terjadi Kesalahan SIlahkan Ulangi Kembali !!!\"\r\n        );\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"kode_sales\"\r\n              label=\"Pilih Kode Sales\"\r\n              placeholder=\"Masukan Kode Sales\"\r\n              options={this.props.DataSales.filter(\r\n                (list) => list.kode_sales !== undefined\r\n              ).map((list) => {\r\n                let data = {\r\n                  value: list.kode_sales,\r\n                  name: list.kode_sales,\r\n                };\r\n                return data;\r\n              })}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"jenis_pelanggan\"\r\n              label=\"Pilih Pelanggan\"\r\n              onChange={(e) => this.changemember(e)}\r\n              placeholder=\"Silahkan Pilih Pelanggan\"\r\n              options={jenis_pelanggan}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              id=\"kode_customer\"\r\n              name=\"kode_customer\"\r\n              onChange={(e) => this.getMember(e.target.value)}\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              readOnly={this.state.showMember}\r\n              label=\"Kode Customer\"\r\n              placeholder=\"Masukan Kode Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              id=\"nama_customer\"\r\n              name=\"nama_customer\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Customer\"\r\n              placeholder=\"Masukan Nama Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"no_hp\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              normalize={NumberOnly}\r\n              label=\"No Hp\"\r\n              placeholder=\"Masukan No Hp\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"alamat_customer\"\r\n              component={ReanderField}\r\n              type=\"textarea\"\r\n              label=\"Alamat Customer\"\r\n              placeholder=\"Masukan Alamat Customer\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-8\"></div>\r\n          <div className=\"col-4\">\r\n            <button\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={this.props.isLoadingDataCustomer}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoadingDataCustomer ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                \"Simpan Data\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {this.props.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalDataCustomer = reduxForm({\r\n  form: \"ModalDataCustomer\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiFormDataMemberPenjualan,\r\n})(ModalDataCustomer);\r\nexport default connect(maptostate, null)(ModalDataCustomer);\r\n","const ValidasiFormHutang = (value, event) => {\r\n    const errors = {};\r\n    // console.log(event.charCode==13);\r\n    if (!value.tgl_hutang) {\r\n      errors.tgl_hutang = \"Tanggal Hutang Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.emasdanplastik) {\r\n      errors.emasdanplastik = \"Berat Emas + Plastik Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.jml_hutang) {\r\n      errors.jml_hutang = \"Jumlah Hutang Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.bunga) {\r\n      errors.bunga = \"Bunga / Bulan Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.lama_pinjam) {\r\n      errors.lama_pinjam = \"Lama Pinjam Tidak Boleh Kosong\";\r\n    }\r\n    return errors;\r\n  };\r\n  \r\n  export default ValidasiFormHutang;\r\n  ","import * as moment from \"moment-timezone\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm, reset } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { hideModal } from \"../../../../actions/datamaster_action\";\r\nimport { setBarangHutang } from \"../../../../actions/hutang_action\";\r\nimport { InputDate, ReanderField } from \"../../../../components/helpers/field\";\r\nimport { getToday } from \"../../../../components/helpers/function\";\r\nimport ValidasiFormHutang from \"../../../../Validasi/Hutang/ValidasiFormHutang\";\r\nimport { NumberOnly,Gramasi } from \"../../../../Validasi/normalize\";\r\n\r\nimport Loading from 'react-fullscreen-loading';\r\nimport { ToastNotification } from \"../../../../components/helpers/notification\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"kr-KO\",\r\n});\r\nclass ModalHutang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // tgl_hutang : \r\n      isLoadingBatal: false,\r\n    };\r\n    this.setStartDate = this.setStartDate.bind(this);\r\n\r\n  }\r\n  setStartDate(date) {\r\n    this.setState({\r\n      tgl_hutang:  new Date(date),\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    let total_berat = 0;\r\n    this.props.change('lama_pinjam',90)\r\n    let data = JSON.parse(localStorage.getItem(\"data_barang_hutang_tmp\"));\r\n    // console.log(data);\r\n    if (data !== null) {\r\n      data.forEach((item, index) => {\r\n        // console.log(item.total_berat);\r\n        total_berat = total_berat + item.berat;\r\n        this.props.change(\"berat_emas\", parseFloat(total_berat).toFixed(1));\r\n        this.props.change(\"emasdanplastik\", parseFloat(total_berat).toFixed(1));\r\n      });\r\n    }\r\n\r\n    setTimeout(() => {\r\n      document.getElementById('emasdanplastik').focus();\r\n    }, 100);\r\n  }\r\n  hitungTotal() {\r\n    this.props.change(\"bunga_rp\", this.props.bunga_rp);\r\n    this.props.change(\"besar_kembali\", this.props.besar_kembali);\r\n    this.props.change(\"tgl_jth_tempo\", this.props.tgl_jatuh_tempo);\r\n  }\r\n\r\n  batalHutang() {\r\n    this.setState({\r\n      isLoadingBatal: true,\r\n    });\r\n    setTimeout(() => {\r\n      localStorage.setItem(\"data_customer_hutang_tmp\", JSON.stringify([]));\r\n      localStorage.setItem(\"data_barang_hutang_tmp\", JSON.stringify([]));\r\n      this.props.dispatch(setBarangHutang([]));\r\n      this.props.dispatch(reset(\"ModalHutang\"));\r\n      this.props.dispatch(hideModal());\r\n    }, 300);\r\n  }\r\n  cekBeratEmas(e) {\r\n    let berat_emas = document.getElementById('berat_emas').value;\r\n    if (parseFloat(e) < parseFloat(berat_emas)){\r\n      ToastNotification('info', \"Berat Yang Diinputkan Tidak Boleh Lebih Kecil Dari Berat Emas\")\r\n      this.props.change('emasdanplastik', '');\r\n      document.getElementById('emasdanplastik').focus();\r\n      return false\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-4\">\r\n            <Field\r\n              readOnly={true}\r\n              id=\"berat_emas\"\r\n              name=\"berat_emas\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Berat Emas\"\r\n              placeholder=\"Masukan Berat Emas\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            {/* <Field\r\n              name=\"tgl_hutang\"\r\n              component={ReanderField}\r\n              type=\"date\"\r\n              label=\"Tanggal Hutang\"\r\n              placeholder=\"dd-mm-yyyy\"\r\n            /> */}\r\n            <Field\r\n              name=\"tgl_hutang\"\r\n              component={InputDate}\r\n              label=\"Tanggal Hutang\"\r\n              type=\"text\"\r\n              selected={this.state.tgl_hutang}\r\n              onChange={(date) => this.setStartDate(date)}\r\n              placeholder=\"Masukan Tanggal Dari\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              id=\"emasdanplastik\"\r\n              name=\"emasdanplastik\"\r\n              type=\"text\"\r\n              component={ReanderField}\r\n              normalize={Gramasi}\r\n              onBlur={(e) => this.cekBeratEmas(e.target.value)}\r\n              label=\"Berat Emas + Plastik\"\r\n              placeholder=\"Masukan Berat Emas + Plastik\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"jml_hutang\"\r\n              component={ReanderField}\r\n              type=\"telp\"\r\n              {...currencyMask}\r\n              onChange={this.hitungTotal()}\r\n              label=\"Jumlah Hutang\"\r\n              placeholder=\"Masukan Jumlah Hutang\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"bunga\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              normalize={Gramasi}\r\n              onChange={this.hitungTotal()}\r\n              label=\"Bunga / Bulan ( % )\"\r\n              placeholder=\"Masukan Bunga / Bulan ( % )\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"lama_pinjam\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              normalize={NumberOnly}\r\n              onChange={this.hitungTotal()}\r\n              label=\"Lama Pinjam\"\r\n              placeholder=\"Masukan Lama Pinjam\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              readOnly={true}\r\n              name=\"tgl_jth_tempo\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Tanggal Jatuh Tempo\"\r\n              placeholder=\"Masukan Tanggal Jatuh Tempo\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              readOnly={true}\r\n              name=\"bunga_rp\"\r\n              component={ReanderField}\r\n              normalize={NumberOnly}\r\n              type=\"text\"\r\n              label=\"Bunga Rp\"\r\n              placeholder=\"Masukan Bunga Rp\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              readOnly={true}\r\n              name=\"besar_kembali\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Besar Kembali\"\r\n              placeholder=\"Masukan Besar Kembali\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-8\"></div>\r\n          <div className=\"col-2\">\r\n           \r\n          </div>\r\n          <div className=\"col-2\">\r\n            <button\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={this.props.isLoadingHutang}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoadingHutang ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <i className=\"fas fa-paper-plane\"></i> &nbsp; Simpan Data\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {this.props.isLoadingHutang ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalHutang = reduxForm({\r\n  form: \"ModalHutang\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiFormHutang,\r\n})(ModalHutang);\r\nexport default connect((state) => {\r\n  const selector = formValueSelector(\"ModalHutang\"); // <-- same as form name\r\n  const { jml_hutang, bunga, lama_pinjam, tgl_hutang } = selector(\r\n    state,\r\n    \"jml_hutang\",\r\n    \"bunga\",\r\n    \"lama_pinjam\",\r\n    \"tgl_hutang\"\r\n  );\r\n  let bunga_rp =\r\n    (parseFloat(bunga || 0) / parseFloat(100)) *\r\n    parseFloat(jml_hutang || 0) *\r\n    (parseFloat(lama_pinjam || 0) / parseFloat(30));\r\n  let besar_kembali = parseFloat(jml_hutang || 0) + parseFloat(bunga_rp || 0);\r\n  let tomorrow = new Date(tgl_hutang);\r\n  // console.log(tomorrow);\r\n  let tgl_jatuh_tempo = moment(\r\n    tomorrow.setDate(tomorrow.getDate() + parseInt(lama_pinjam || 0))\r\n  ).format(\"YYYY-MM-DD\");\r\n  return {\r\n    initialValues: {\r\n      tgl_hutang: getToday(),\r\n    },\r\n    bunga_rp: parseFloat(bunga_rp).toLocaleString(\"kr-KO\"),\r\n    besar_kembali: parseFloat(besar_kembali).toLocaleString(\"kr-KO\"),\r\n    tgl_jatuh_tempo: tgl_jatuh_tempo,\r\n    datakondisi: state.datamaster.getDataKondisiBarang,\r\n    kategori: state.datamaster.GetDataGroup,\r\n  };\r\n})(ModalHutang);\r\n","const ValidasiHutang = (value, event) => {\r\n    const errors = {};\r\n    // console.log(event.charCode==13);\r\n    if (!value.nama_barang) {\r\n      errors.nama_barang = \"Nama Barang Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.berat) {\r\n      errors.berat = \"Berat Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.jumlah) {\r\n      errors.jumlah = \"Jumlah Tidak Boleh Kosong\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n  \r\n  export default ValidasiHutang;\r\n  ","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  getKondisiPinjaman,\r\n  GetDataGroup,\r\n  showModal,\r\n} from \"../../../../actions/datamaster_action\";\r\nimport {\r\n  HiidenFiled,\r\n  ReanderField,\r\n} from \"../../../../components/helpers/field\";\r\nimport { NumberOnly, Gramasi } from \"../../../../Validasi/normalize\";\r\nimport Loading from \"react-fullscreen-loading\";\r\nimport ValidasiHutang from \"../../../../Validasi/ValidasiHutang\";\r\nimport { Camera, imgfound } from \"../../../../components/helpers/library\";\r\nimport { setCamera } from \"../../../../actions/databarang_action\";\r\nimport {\r\n  dataURLtoFile,\r\n  resizeFile,\r\n} from \"../../../../components/helpers/function\";\r\n\r\nclass ModalTambahBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visible: true,\r\n      loadimage: imgfound,\r\n      ModalWebCam: false,\r\n      isLoading: false,\r\n      harga_jual: true,\r\n      berat_jual: true,\r\n      hargapergram: true,\r\n      ongkos: true,\r\n      total: true,\r\n      gambar: false,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getKondisiPinjaman());\r\n    this.props.dispatch(GetDataGroup());\r\n    setTimeout(() => {\r\n      // document.getElementById(\"nama_barang_hutang\").focus();\r\n      this.props.dispatch(setCamera(false));\r\n    }, 100);\r\n  }\r\n\r\n  async handleTakePhoto(url) {\r\n    try {\r\n      const file = dataURLtoFile(url);\r\n      const res = await resizeFile(file);\r\n      // console.log(res);\r\n      this.props.dispatch(setCamera(res));\r\n      this.props.change(\"foto\", res);\r\n\r\n      document.getElementById(\"nama_barang_hutang\").focus()\r\n    } catch (err) {\r\n      // console.log(err);\r\n    }\r\n  }\r\n  showModalWebcam() {\r\n    this.props.dispatch(setCamera(false));\r\n    this.props.dispatch(showModal());\r\n    this.setState({ ModalWebCam: true });\r\n  }\r\n  loadcamera() {\r\n    return (\r\n      <Camera\r\n        onTakePhoto={(dataUri) => {\r\n          this.handleTakePhoto(dataUri);\r\n        }}\r\n      />\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-12 text-center\">\r\n            <Field\r\n              readOnly={true}\r\n              name=\"foto\"\r\n              type=\"hidden\"\r\n              component={HiidenFiled}\r\n            />\r\n            {this.state.ModalWebCam === true ? (\r\n              this.props.setCamera === false ? (\r\n                <div className=\"container\">{this.loadcamera()}</div>\r\n              ) : (\r\n                <>\r\n                  <img\r\n                    src={\r\n                      this.props.foto === undefined\r\n                        ? this.props.setCamera === false\r\n                          ? imgfound\r\n                          : this.props.setCamera\r\n                        : this.props.setCamera\r\n                        ? this.props.setCamera\r\n                        : this.props.foto\r\n                    }\r\n                    alt=\"img\"\r\n                    height=\"245px\"\r\n                    width=\"355px\"\r\n                  />\r\n                </>\r\n              )\r\n            ) : (\r\n              <>\r\n                <img\r\n                  src={\r\n                    this.props.foto === undefined\r\n                      ? this.props.setCamera === false\r\n                        ? imgfound\r\n                        : this.props.setCamera\r\n                      : this.props.setCamera\r\n                      ? this.props.setCamera\r\n                      : this.props.foto\r\n                  }\r\n                  alt=\"img\"\r\n                  height=\"245px\"\r\n                  width=\"355px\"\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"col-lg-12 text-center\">\r\n            <br></br>\r\n          </div>\r\n          <div className=\"col-lg-12 text-center\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={() => this.showModalWebcam()}\r\n            >\r\n              {\" \"}\r\n              WebCam{\" \"}\r\n            </button>\r\n          </div>\r\n          <div className=\"col-lg-12 text-center\">\r\n            <br></br>\r\n          </div>\r\n\r\n          <div className=\"col-6\">\r\n            <Field\r\n              id=\"nama_barang_hutang\"\r\n              name=\"nama_barang\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Barang\"\r\n              placeholder=\"Masukan Nama Barang\"\r\n            />\r\n          </div>\r\n         \r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"berat\"\r\n              component={ReanderField}\r\n              normalize={Gramasi}\r\n              type=\"text\"\r\n              label=\"Berat\"\r\n              placeholder=\"Masukan Berat\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"kadar\"\r\n              component={ReanderField}\r\n              normalize={Gramasi}\r\n              type=\"text\"\r\n              label=\"Kadar\"\r\n              placeholder=\"Masukan Kadar\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"jumlah\"\r\n              defaultValue=\"1\"\r\n              component={ReanderField}\r\n              type=\"jumlah\"\r\n              normalize={NumberOnly}\r\n              label=\"Jumlah\"\r\n              placeholder=\"Masukan Jumlah\"\r\n            />\r\n          </div>\r\n          <div className=\"col-12 text-right\">\r\n            <label>&nbsp;</label>\r\n            <button\r\n              className=\"btn btn-primary \"\r\n              disabled={this.props.isLoading}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <i className=\"fas fa-paper-plane\"></i> &nbsp; Simpan Data\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {this.props.isLoading ? (\r\n          <Loading\r\n            loading\r\n            background=\"rgba(0, 0, 0, 0.35)\"\r\n            loaderColor=\"rgba(94, 147, 117, 1)\"\r\n          />\r\n        ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n// ModalTambahBarang = reduxForm({\r\n//   form: \"ModalTambahBarang\",\r\n//   enableReinitialize: true,\r\n//   validate: ValidasiMasterDataHadiah,\r\n// })(ModalTambahBarang);\r\n// export default connect(maptostate, null)(ModalTambahBarang);\r\n\r\nModalTambahBarang = reduxForm({\r\n  form: \"ModalTambahBarang\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiHutang,\r\n})(ModalTambahBarang);\r\n\r\nexport default connect((state) => {\r\n  return {\r\n    initialValues: {\r\n      jumlah: \"1\",\r\n    },\r\n    datakondisi: state.datamaster.getKondisiPinjaman,\r\n    kategori: state.datamaster.GetDataGroup,\r\n    foto: state.databarang.showEditBarang.foto,\r\n    setCamera: state.databarang.setCamera,\r\n  };\r\n})(ModalTambahBarang);\r\n","import moment from \"moment\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm, reset } from \"redux-form\";\r\nimport { hideModal, showModal } from \"../../../actions/datamaster_action\";\r\nimport { setBarangHutang } from \"../../../actions/hutang_action\";\r\nimport { formatDate } from \"../../../components/helpers/function\";\r\nimport ModalGlobal from \"../../../components/helpers/ModalGlobal\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport { Panel } from \"../../../components/panel/panel\";\r\nimport { postData } from \"../../../config/axios\";\r\nimport ValidasiDataUsers from \"../../../Validasi/ManageUsers/ValidasiDataUsers\";\r\nimport ModalDataCustomer from \"./Modal/ModalDataCustomer\";\r\nimport ModalHutang from \"./Modal/ModalHutang\";\r\nimport ModalTambahBarang from \"./Modal/ModalTambahBarang\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    setBarangHutang: state.hutang.setBarangHutang,\r\n    DataSales: state.datamaster.getDataSales,\r\n    hideModal: state.datamaster.modalDialog,\r\n  };\r\n};\r\n\r\nclass HeadHutang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoadingDataCustomer: false,\r\n      isLoadingBatal: false,\r\n      isLoadingHutang: false,\r\n      FormModal: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {}\r\n\r\n  ShowModalCustomer() {\r\n    this.setState({ FormModal: \"ShowModalCustomer\" });\r\n    this.props.dispatch(showModal());\r\n  }\r\n  ShowModalBarang() {\r\n    this.props.dispatch(showModal());\r\n    this.setState({ FormModal: \"ShowModalBarang\" });\r\n  }\r\n  ShowModalHutang() {\r\n    let data_customer = JSON.parse(localStorage.getItem(\"data_customer_hutang_tmp\"));\r\n    let data = JSON.parse(localStorage.getItem(\"data_barang_hutang_tmp\"));\r\n    if (data === null || undefined || data.length === 0 || data_customer === null || undefined || data_customer.length === 0) {\r\n      ToastNotification('info', 'Data Customer / Data Barang Belum Diisi')\r\n      return false\r\n    } else {\r\n      this.props.dispatch(showModal());\r\n      this.setState({ FormModal: \"ShowModalHutang\" });\r\n    }\r\n  }\r\n\r\n  // simpanDataCustomer(data) {\r\n    // this.setState(({\r\n    //   isLoadingDataCustomer :true\r\n    // }))\r\n    // setTimeout(() => {\r\n    //   this.setState(({\r\n    //     isLoadingDataCustomer :false\r\n    //   }))\r\n    //   this.props.dispatch(hideModal());\r\n    //   localStorage.setItem(\"data_customer_hutang_tmp\", JSON.stringify(data));\r\n    // }, 500);\r\n  // }\r\n\r\n  handleSubmit(data) {\r\n    let hasil = {\r\n      alamat_customer: data.alamat_customer || \"-\",\r\n      jenis_pelanggan: data.jenis_pelanggan || \"NONMEMBER\",\r\n      kode_customer: data.jenis_pelanggan === \"NONMEMBER\" ? \"NONMEMBER\" : data.kode_customer,\r\n      kode_sales: data.kode_sales,\r\n      nama_customer: data.nama_customer || \"REGULER\",\r\n      no_hp: data.no_hp || \"-\"\r\n    }\r\n    this.setState(({\r\n      isLoadingDataCustomer :true\r\n    }))\r\n    localStorage.setItem(\"data_customer_hutang_tmp\", JSON.stringify(hasil));\r\n    setTimeout(() => {\r\n      this.setState(({\r\n        isLoadingDataCustomer :false\r\n      }))\r\n      this.props.dispatch(hideModal());\r\n    }, 500);\r\n  }\r\n \r\n  simpanTransaksiHutang(data) {\r\n    // console.log(data);\r\n    // console.log(parseInt(data.jml_hutang));\r\n    let data_customer = JSON.parse(localStorage.getItem(\"data_customer_hutang_tmp\"));\r\n    let data_barang_hutang = JSON.parse(localStorage.getItem(\"data_barang_hutang_tmp\"));\r\n\r\n    let detail_barang = [];\r\n    data_barang_hutang.forEach((item, index) => {\r\n      let row = {\r\n        nama_barang: item.nama_barang,\r\n        kondisi: item.kondisi_barang,\r\n        kategori: item.kategori,\r\n        foto: item.foto,\r\n        berat: parseFloat(item.berat),\r\n        kadar: parseFloat(item.kadar),\r\n        jumlah: parseInt(item.jumlah),\r\n      };\r\n      detail_barang.push(row);\r\n    });\r\n    let data_hutang = {\r\n      kode_sales: data_customer.kode_sales,\r\n      nama_customer: data_customer.nama_customer,\r\n      alamat_customer: data_customer.alamat_customer,\r\n      kode_member: data_customer.jenis_pelanggan === \"NONMEMBER\" ? data_customer.jenis_pelanggan : data_customer.kode_customer,\r\n      no_hp : data_customer.no_hp,\r\n      tgl_hutang : formatDate(moment(new Date(data.tgl_hutang)).format('YYYY-MM-DD')),\r\n      tgl_tempo : data.tgl_jth_tempo,\r\n      jumlah_hutang : parseInt(data.jml_hutang),\r\n      lama_pinjam : parseInt(data.lama_pinjam),\r\n      bunga : parseFloat(data.bunga),\r\n      berat_emas : parseFloat(data.berat_emas),\r\n      berat_bruto: parseFloat(data.emasdanplastik),\r\n      detail_barang : detail_barang\r\n    }\r\n\r\n    // console.log(data_hutang);\r\n    this.setState({\r\n      isLoadingHutang: true\r\n    })\r\n    setTimeout(() => {\r\n      postData('hutang/simpan', data_hutang).then((res) => {\r\n        ToastNotification('success', res.data.message)\r\n        this.setState({\r\n          isLoadingHutang: false\r\n        })\r\n        this.props.dispatch(reset('ModalHutang'))\r\n      }).then(() => {\r\n        localStorage.setItem(\"data_customer_hutang_tmp\", JSON.stringify([]));\r\n        localStorage.setItem(\"data_barang_hutang_tmp\", JSON.stringify([]));\r\n        this.props.dispatch(setBarangHutang([]))\r\n        this.setState({\r\n          isLoadingHutang: false\r\n        })\r\n      }).then(() => {\r\n        this.props.dispatch(hideModal())\r\n      })\r\n        .catch((err) => {\r\n          this.setState({\r\n            isLoadingHutang: false\r\n          })\r\n        ToastNotification('info','Transaksi Gagal Disimpan')\r\n      })\r\n    }, 500);\r\n    \r\n  }\r\n  batalHutang() {\r\n    this.setState({\r\n      isLoadingBatal: true,\r\n    });\r\n    setTimeout(() => {\r\n      localStorage.setItem(\"data_customer_hutang_tmp\", JSON.stringify([]));\r\n      localStorage.setItem(\"data_barang_hutang_tmp\", JSON.stringify([]));\r\n      this.props.dispatch(setBarangHutang([]));\r\n      this.props.dispatch(reset(\"ModalHutang\"));\r\n      this.props.dispatch(hideModal());\r\n      this.setState({\r\n        isLoadingBatal: false,\r\n      });\r\n    }, 300);\r\n  }\r\n  simpanBarang(data) {\r\n    let hasil = {\r\n      nama_barang: data.nama_barang || \"-\",\r\n      kondisi_barang: data.kondisi_barang || \"-\",\r\n      kategori: data.kategori || \"-\",\r\n      berat: parseFloat(data.berat) || 0,\r\n      jumlah: parseInt(data.jumlah) || 0,\r\n      kadar: parseFloat(data.kadar) || 0,\r\n      foto: data.foto || \"-\",\r\n    };\r\n    let cek = JSON.parse(localStorage.getItem(\"data_barang_hutang_tmp\")) || [];\r\n    cek.push(hasil);\r\n    document.getElementById('nama_barang_hutang').focus()\r\n    this.props.dispatch(reset('ModalTambahBarang'));\r\n    this.props.dispatch(setBarangHutang(cek));\r\n    localStorage.setItem(\"data_barang_hutang_tmp\", JSON.stringify(cek));\r\n    this.props.dispatch(hideModal())\r\n  }\r\n  render() {\r\n    return (\r\n      <Panel>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Tabel\r\n              keyField=\"nama_barang\"\r\n              exportCsv={false}\r\n              data={\r\n                this.props.setBarangHutang.length === 0 ? JSON.parse(localStorage.getItem(\"data_barang_hutang_tmp\")) || []\r\n                : this.props.setBarangHutang || []\r\n              }\r\n              tambahData={true}\r\n              btnText=\"Data Customer\"\r\n              handleClick={() => this.ShowModalCustomer()}\r\n              columns={this.props.columns}\r\n              btnOptional={true}\r\n              namaCustomer={true}\r\n              jenisCustomer={true}\r\n              form=\"Hutang\"\r\n              btnTextOptional=\"Data Barang\"\r\n              handleClickOptional={() => this.ShowModalBarang()}\r\n              btnOptional2={true}\r\n              btnTextOptional2=\"Data Hutang\"\r\n              handleClickOptional2={() => this.ShowModalHutang()}\r\n              empty={true}\r\n              textEmpty=\"Data Barang Kosong\"\r\n            />\r\n          </div>\r\n          \r\n        </div>\r\n        <div className=\"row\">\r\n            <div className=\"col-6\">\r\n            <button\r\n              onClick={() => this.batalHutang()}\r\n              className=\"btn btn-warning\"\r\n              disabled={this.state.isLoadingBatal}\r\n              type=\"button\"\r\n            >\r\n              {this.state.isLoadingBatal ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Reset\r\n                </>\r\n              ) : (\r\n                \"Reset\"\r\n              )}\r\n            </button>\r\n            </div>\r\n          </div>\r\n        <ModalGlobal\r\n          size={this.state.FormModal === \"ShowModalBarang\" ? \"l\" :\"xl\"}\r\n          title={<TitleModal state={this.state.FormModal} />}\r\n          content={\r\n            this.state.FormModal === \"ShowModalCustomer\" ? (\r\n              <ModalDataCustomer isLoadingDataCustomer={this.state.isLoadingDataCustomer} onSubmit={(data) => this.handleSubmit(data)} />\r\n            ) : this.state.FormModal === \"ShowModalBarang\" ? (\r\n              <ModalTambahBarang onSubmit={(data) => this.simpanBarang(data)} />\r\n            ) : (\r\n              <ModalHutang isLoadingHutang={this.state.isLoadingHutang} onSubmit={(data) => this.simpanTransaksiHutang(data)} />\r\n            )\r\n          }\r\n        />\r\n      </Panel>\r\n    );\r\n  }\r\n}\r\n\r\nfunction TitleModal(data, onSubmit) {\r\n  // console.log(state.state);\r\n  if (data.state === \"ShowModalCustomer\") {\r\n    return \"Form Data Customer\";\r\n  } else if (data.state === \"ShowModalBarang\") {\r\n    return \"Form Data Barang\";\r\n  } else {\r\n    return \"Form Data Hutang\";\r\n  }\r\n}\r\nHeadHutang = reduxForm({\r\n  form: \"HeadHutang\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiDataUsers,\r\n})(HeadHutang);\r\nexport default connect(maptostate, null)(HeadHutang);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { setBarangHutang } from \"../../../actions/hutang_action.jsx\";\r\nimport { Panel, PanelBody, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport HeadHutang from \"./HeadHutang.jsx\";\r\n\r\nclass FormTransaksiHutang extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      columns: [\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n\r\n          footer:\"\"\r\n        },\r\n\r\n        {\r\n          dataField: \"kadar\",\r\n          text: \"Kadar\",\r\n          headerClasses : \"text-right\",\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{cell}</div>;\r\n          },\r\n          footer: columnData => <div className=\"text-right\"> {parseFloat(columnData.reduce((acc, item) => acc + item, 0)) }</div>\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          headerClasses : \"text-right\",\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{parseInt(cell).toFixed(3)}</div>;\r\n          },\r\n          footer: columnData => <div className=\"text-right\"> {parseFloat(columnData.reduce((acc, item) => acc + item, 0)).toFixed(3) }</div>\r\n        },\r\n        {\r\n          dataField: \"jumlah\",\r\n          text: \"Jumlah\",\r\n          headerClasses : \"text-right\",\r\n          formatter: (cell) => {\r\n            return <div className=\"text-right\">{parseInt(cell).toLocaleString(\"kr-KO\")}</div>;\r\n          },\r\n          footer: columnData => <div className=\"text-right\">{parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"kr-KO\")}</div>\r\n        },\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n             \r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => this.hapusdata(index)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\"\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  hapusdata(id) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      // console.log(id);\r\n      if (result.isConfirmed) {\r\n        let data = JSON.parse(localStorage.getItem('data_barang_hutang_tmp'));\r\n        data.splice(id, 1)\r\n        localStorage.setItem('data_barang_hutang_tmp', JSON.stringify(data));\r\n        this.props.dispatch(setBarangHutang(data));\r\n        this.setState({\r\n          berhasil : true\r\n        })\r\n      }\r\n    });\r\n  }\r\n  handleSubmit(data) { }\r\n  \r\n  componentWillUnmount() {\r\n    localStorage.setItem(\"data_customer_hutang_tmp\", JSON.stringify([]));\r\n    localStorage.setItem(\"data_barang_hutang_tmp\", JSON.stringify([]));\r\n  }\r\n\r\n  render() {\r\n   \r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Hutang</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Transaksi Hutang</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Transaksi Hutang </h1>\r\n        <Panel>\r\n          <PanelHeader>Transaksi Hutang</PanelHeader>\r\n          <br />\r\n          {/* Transaksi Hutang */}\r\n          <PanelBody>\r\n            <HeadHutang\r\n              isLoading={this.state.isLoading}\r\n              columns={this.state.columns}\r\n            />\r\n          </PanelBody>\r\n          <br />\r\n          {/* End Tambah Transaksi Hutang  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default connect(null)(FormTransaksiHutang);\r\n","const ValidasiDataUsers = (value) => {\r\n    const errors = {};\r\n    if (!value.user_id) {\r\n        errors.user_id = \"User Id Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.user_name) {\r\n        errors.user_name = \"Username Tidak Boleh Kosong\";\r\n    }\r\n\r\n    if (!value.level) {\r\n        errors.level = \"Level Harus Dipilih \";\r\n    }\r\n    // if (!value.password) {\r\n    //     errors.password = \"Hassword Harus Diisi \";\r\n    // }\r\n    // if (!value.retype_password) {\r\n    //     errors.retype_password = \"Retype Password Harus Diisi \";\r\n    // }\r\n\r\n    return errors;\r\n}\r\n\r\nexport default ValidasiDataUsers;\r\n\r\n\r\n","const ValidasiFormDataMemberPenjualan = (value) => {\r\n    const errors = {};\r\n    if (!value.kode_sales) {\r\n        errors.kode_sales = \"Kode Sales Harus Dipilih\";\r\n    }\r\n    if (!value.nama_customer) {\r\n        errors.nama_customer = \"Nama Customer Harus Diisi\";\r\n    }\r\n    if (!value.no_hp) {\r\n        errors.no_hp = \"No Hp Harus Diisi\";\r\n    }\r\n    if (!value.alamat) {\r\n        errors.alamat = \"Alamat Harus Diisi\";\r\n    }\r\n\r\n    return errors;\r\n}\r\n\r\nexport default ValidasiFormDataMemberPenjualan;\r\n\r\n\r\n"],"sourceRoot":""}