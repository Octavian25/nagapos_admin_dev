{"version":3,"sources":["pages/Member/LihatTransaksiMember/HeadTransaksiMember.jsx","pages/Member/LihatTransaksiMember/LihatTransaksiMember.jsx"],"names":["HeadTransaksiMember","props","_this","Object","classCallCheck","this","_super","call","state","date","Date","kondisi_barang","isLoadingBatal","setState","tgl_awal","tgl_akhir","_this2","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","className","Field","onChange","getKodeMember","name","component","ReanderField","type","label","placeholder","id","readOnly","Fragment","style","point","fontSize","position","left","top","InputDate","selected","setStartDate","setLastDate","value","isLoading","onClick","batalLihatTransaksi","tabel","keyField","exportCsv","data","datatransaksimember","columns","empty","textEmpty","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","connect","initialValues","dari_tanggal","getTglSystem","sampai_tanggal","datakondisi","datamaster","getDataKondisiBarang","setHancurBarang","databarang","LihatTransaksiMember","dataField","text","sort","formatter","cell","parseFloat","toFixed","toLocaleString","row","bind","assertThisInitialized","setTimeout","dispatch","reset","e","_this3","clearTimeout","delay","undefined","kode_member","getData","then","res","forEach","item","index","document","getElementById","nama_customer","alamat_customer","no_hp","catch","err","ToastNotification","_this4","data_post","formatDate","moment","format","postData","length","export","localStorageencryp","JSON","stringify","error","_this5","react_router_dom","to","panel","LihatTransaksiMember_HeadTransaksiMember","React"],"mappings":"sPAkBMA,oDACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CACXC,KAAM,IAAIC,KACVC,eAAgB,SAChBC,gBAAgB,GALDV,2DAQNO,GACXJ,KAAKQ,SAAS,CACZC,SAAU,IAAIJ,KAAKD,yCAGXA,GACVJ,KAAKQ,SAAS,CACZE,UAAW,IAAIL,KAAKD,sCAmBf,IAAAO,EAAAX,KACP,OACEY,EAAAC,EAAAC,cAAA,QAAMC,SAAUf,KAAKJ,MAAMoB,aAAcC,aAAa,OACpDL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,SACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEC,SAAUpB,KAAKJ,MAAMyB,cACrBC,KAAK,cACLC,UAAWC,IACXC,KAAK,OACLC,MAAM,cACNC,YAAY,yBAGhBf,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACES,GAAG,8BACHN,KAAK,cACLO,UAAU,EACVN,UAAWC,IACXC,KAAK,OACLC,MAAM,cACNC,YAAY,2BAKpBf,EAAAC,EAAAC,cAAA,OAAKI,UAAU,qBACbN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiB,SAAA,eACAlB,EAAAC,EAAAC,cAAA,MACEiB,MACuB,UAArB/B,KAAKJ,MAAMoC,MACP,CACEC,SAAU,WACVC,SAAU,WACVC,KAAM,OACNC,IAAK,QAEP,CACEH,SAAU,WACVC,SAAU,WACVC,KAAM,QACNC,IAAK,SAIZ,IACApC,KAAKJ,MAAMoC,MAAO,MAGvBpB,EAAAC,EAAAC,cAAA,OAAKI,UAAU,SACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACES,GAAG,yBACHN,KAAK,SACLO,UAAU,EACVN,UAAWC,IACXC,KAAK,OACLC,MAAM,SACNC,YAAY,oBAGhBf,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACES,GAAG,wBACHN,KAAK,QACLO,UAAU,EACVN,UAAWC,IACXC,KAAK,OACLC,MAAM,QACNC,YAAY,qBAKpBf,EAAAC,EAAAC,cAAA,OAAKI,UAAU,sBASfN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEG,KAAK,eACLC,UAAWc,IACXZ,KAAK,OACLa,SAAUtC,KAAKG,MAAMM,SACrBW,SAAU,SAAChB,GAAD,OAAUO,EAAK4B,aAAanC,IACtCsB,MAAM,eACNC,YAAY,0BAIhBf,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CACEG,KAAK,iBACLC,UAAWc,IACXZ,KAAK,OACLa,SAAUtC,KAAKG,MAAMO,UACrBU,SAAU,SAAChB,GAAD,OAAUO,EAAK6B,YAAYpC,IACrCsB,MAAM,iBACNC,YAAY,4BAGhBf,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UACEW,KAAK,SACLgB,MAAM,MACNnB,KAAK,WACLJ,UAAU,6BAETlB,KAAKJ,MAAM8C,UACV9B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiB,SAAA,KACElB,EAAAC,EAAAC,cAAA,KAAGI,UAAU,2BADf,eAIA,UAINN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,YACbN,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UACEW,KAAK,SACLkB,QAAS3C,KAAKJ,MAAMgD,oBACpB1B,UAAU,6BAETlB,KAAKJ,MAAMW,eACVK,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiB,SAAA,KACElB,EAAAC,EAAAC,cAAA,KAAGI,UAAU,2BADf,eAIA,YAOVN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,UACbN,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CACEC,SAAS,UACTC,WAAW,EACXC,KAAMhD,KAAKJ,MAAMqD,oBACjBC,QAASlD,KAAKJ,MAAMsD,QACpBC,OAAO,EACPC,UAAU,mCAIfpD,KAAKJ,MAAMW,gBAAkBP,KAAKJ,MAAM8C,UACzC9B,EAAAC,EAAAC,cAACuC,EAAAxC,EAAD,CACAyC,SAAO,EACPC,WAAW,sBACVC,YAAY,0BACX,aAvMwBC,aA6MlC9D,EAAsB+D,YAAU,CAC9BC,KAAM,sBACNC,oBAAoB,GAFAF,CAGnB/D,GACYkE,kBA3NI,SAAC1D,GAClB,MAAO,CACL2D,cAAe,CACbC,aAAcC,cACdC,eAAgBD,eAElBE,YAAa/D,EAAMgE,WAAWC,qBAC9BC,gBAAiBlE,EAAMmE,WAAWD,kBAoNH,KAApBR,CAA0BlE,oCCpNnC4E,oDACJ,SAAAA,EAAY3E,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuE,IACjB1E,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CACXuC,WAAW,EACXnC,gBAAgB,EAChByB,MAAO,QACPiB,oBAAqB,GACrBC,QAAS,CACP,CACEsB,UAAW,UACXC,KAAM,cACNC,MAAM,GAER,CACEF,UAAW,WACXC,KAAM,YAER,CACED,UAAW,YACXC,KAAM,aAER,CACED,UAAW,QACXC,KAAM,QACNE,UAAW,SAACC,GACV,OAAOhE,EAAAC,EAAAC,cAAA,YAAO+D,WAAWD,GAAME,QAAQ,MAG3C,CACEN,UAAW,YACXC,KAAM,YACNE,UAAW,SAACC,GACV,OAAOhE,EAAAC,EAAAC,cAAA,YAAO+D,WAAWD,GAAMG,eAAe,YAGlD,CACEP,UAAW,YACXC,KAAM,YACNE,UAAW,SAAClC,EAAOuC,GACjB,OAAOvC,GAAS,IAGpB,CACE+B,UAAW,OACXC,KAAM,OACNE,UAAW,SAAClC,EAAOuC,GACjB,OAAOvC,GAAS,IAGpB,CACE+B,UAAW,aACXC,KAAM,aACNE,UAAW,SAAClC,EAAOuC,GACjB,OAAOvC,GAAS,MAKxB5C,EAAKmB,aAAenB,EAAKmB,aAAaiE,KAAlBnF,OAAAoF,EAAA,EAAApF,CAAAD,IACpBA,EAAKwB,cAAgBxB,EAAKwB,cAAc4D,KAAnBnF,OAAAoF,EAAA,EAAApF,CAAAD,IA3DJA,oEA6DG,IAAAc,EAAAX,KACpBA,KAAKQ,SAAS,CACZD,gBAAgB,IAElB4E,WAAW,WACTxE,EAAKH,SAAS,CACZD,gBAAgB,EAChB0C,oBAAqB,KAEvBtC,EAAKf,MAAMwF,SAASC,YAAM,yBACzB,2CAESC,GAAG,IAAAC,EAAAvF,KACfwF,aAAaxF,KAAKyF,OAClBzF,KAAKyF,MAAQN,WAAW,WACtB,QAAqBO,IAAlBJ,EAAEK,YACH,OAAO,EAETJ,EAAK/E,SAAS,CACZkC,WAAW,IAEbkD,YAAQ,6BAA+BN,EAAEK,aAAaE,KAAK,SAACC,GAE1DP,EAAK/E,SAAS,CACZkC,WAAW,IAEboD,EAAI9C,KAAK+C,QAAQ,SAACC,EAAMC,GACtBC,SAASC,eAAe,+BAA+B1D,MAAQuD,EAAKI,cACpEF,SAASC,eAAe,0BAA0B1D,MAAQuD,EAAKK,gBAC/DH,SAASC,eAAe,yBAAyB1D,MAAQuD,EAAKM,MAE9Df,EAAK/E,SAAS,CACZyC,oBAAqB,GACrBjB,MAAOgE,EAAKhE,OAAS,EACrBU,WAAW,QAId6D,MAAM,SAACC,GACRC,YAAkB,OAAQ,yBAC1BlB,EAAK/E,SAAS,CACZyC,oBAAqB,GACrBP,WAAW,OAGd,2CAEQM,GAAM,IAAA0D,EAAA1G,KAEb2G,EAAY,CACdhB,YAAa3C,EAAK2C,YAClBlF,SAAUmG,YACRC,EAAO,IAAIxG,KAAK2C,EAAKe,eAAe+C,OAAO,eAE7CpG,UAAWkG,YACTC,EAAO,IAAIxG,KAAK2C,EAAKiB,iBAAiB6C,OAAO,gBAIjDC,YAAS,2BAA4BJ,GAClCd,KAAK,SAACC,GACmB,IAApBA,EAAI9C,KAAKgE,QACXP,YAAkB,OAAQ,mCAC1BC,EAAKlG,SAAS,CACZkC,WAAW,EACXuE,QAAQ,MAGVR,YAAkB,UAAW,qCAC7BS,YAAmB,cAAeC,KAAKC,UAAUT,IACjDD,EAAKlG,SAAS,CACZyG,QAAQ,EACRvE,WAAW,EACXO,oBAAqB6C,EAAI9C,UAI9BuD,MAAM,SAACc,GACNZ,YAAkB,OAAQ,mCAC1BC,EAAKlG,SAAS,CACZkC,WAAW,EACXuE,QAAQ,uCAKP,IAAAK,EAAAtH,KACP,OACEY,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAII,UAAU,6BACZN,EAAAC,EAAAC,cAAA,MAAII,UAAU,mBACZN,EAAAC,EAAAC,cAACyG,EAAA,EAAD,CAAMC,GAAG,KAAT,WAEF5G,EAAAC,EAAAC,cAAA,MAAII,UAAU,0BAAd,2BAEFN,EAAAC,EAAAC,cAAA,MAAII,UAAU,eAAd,2BACAN,EAAAC,EAAAC,cAAC2G,EAAA,EAAD,KACE7G,EAAAC,EAAAC,cAAC2G,EAAA,EAAD,+BACA7G,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAC4G,EAAD,CACEtG,SAAU,SAACkE,GAAD,OAAKgC,EAAKjG,cAAciE,IAClC1C,oBAAqB,kBAAM0E,EAAK1E,uBAChC7B,SAAU,SAACiC,GAAD,OAAUsE,EAAKtG,aAAagC,IACtCE,QAASlD,KAAKG,MAAM+C,QACpBlB,MAAOhC,KAAKG,MAAM6B,MAClBzB,eAAgBP,KAAKG,MAAMI,eAC3B0C,oBAAqBjD,KAAKG,MAAM8C,sBAElCrC,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAAA,YAGDd,KAAKG,MAAMI,gBAAkBP,KAAKG,MAAMuC,UACzC9B,EAAAC,EAAAC,cAACuC,EAAAxC,EAAD,CACAyC,SAAO,EACPC,WAAW,sBACVC,YAAY,0BACX,aAtLyBmE,IAAMlE,WA4LzCc,EAAuBb,YAAU,CAC/BC,KAAM,uBACNC,oBAAoB,GAFCF,CAIpBa,GACYV,sBAAS,KAATA,CAAeU","file":"static/js/132.9ba0b84f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { InputDate, ReanderField } from \"../../../components/helpers/field\";\r\nimport { getTglSystem } from \"../../../components/helpers/function\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport Loading from 'react-fullscreen-loading';\r\n// import { getData } from \"../../../config/axios\";\r\nconst maptostate = (state) => {\r\n  return {\r\n    initialValues: {\r\n      dari_tanggal: getTglSystem(),\r\n      sampai_tanggal: getTglSystem(),\r\n    },\r\n    datakondisi: state.datamaster.getDataKondisiBarang,\r\n    setHancurBarang: state.databarang.setHancurBarang,\r\n  };\r\n};\r\nclass HeadTransaksiMember extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: new Date(),\r\n      kondisi_barang: \"kosong\",\r\n      isLoadingBatal: false,\r\n    };\r\n  }\r\n  setStartDate(date) {\r\n    this.setState({\r\n      tgl_awal: new Date(date),\r\n    });\r\n  }\r\n  setLastDate(date) {\r\n    this.setState({\r\n      tgl_akhir: new Date(date),\r\n    });\r\n  }\r\n\r\n  // getKodeMember(e) {\r\n  //   // console.log(e);\r\n  //   getData(\"member/get/by-kode-member/\" + e).then((res) => {\r\n  //     res.data.forEach((item, index) => {\r\n  //       this.props.change(\"nama_member\", item.nama_customer);\r\n  //       this.props.change(\"alamat\", item.alamat_customer);\r\n  //       this.props.change(\"no_hp\", item.no_hp);\r\n  //       // this.props.change(\"point\", item.point);\r\n  //       this.setState({\r\n  //         point: item.point,\r\n  //       });\r\n  //     });\r\n  //     // console.log(res.data);\r\n  //   });\r\n  // }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  onChange={this.props.getKodeMember}\r\n                  name=\"kode_member\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Kode Member\"\r\n                  placeholder=\"Masukan Kode Member\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  id=\"lihat_transaksi_nama_member\"\r\n                  name=\"nama_member\"\r\n                  readOnly={true}\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Nama Member\"\r\n                  placeholder=\"Masukan Nama Member\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-4 text-center\">\r\n            <> &nbsp; </>\r\n            <h1\r\n              style={\r\n                this.props.point === \"POINT\"\r\n                  ? {\r\n                      fontSize: \"4.875rem\",\r\n                      position: \"absolute\",\r\n                      left: \"56px\",\r\n                      top: \"25px\",\r\n                    }\r\n                  : {\r\n                      fontSize: \"4.875rem\",\r\n                      position: \"absolute\",\r\n                      left: \"110px\",\r\n                      top: \"25px\",\r\n                    }\r\n              }\r\n            >\r\n              {\" \"}\r\n              {this.props.point}{\" \"}\r\n            </h1>\r\n          </div>\r\n          <div className=\"col-8\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  id=\"lihat_transaksi_alamat\"\r\n                  name=\"alamat\"\r\n                  readOnly={true}\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Alamat\"\r\n                  placeholder=\"Masukan Alamat\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  id=\"lihat_transaksi_no_hp\"\r\n                  name=\"no_hp\"\r\n                  readOnly={true}\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"No Hp\"\r\n                  placeholder=\"Masukan No Hp\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-4 text-center\">\r\n            {/* <Field\r\n              name=\"point\"\r\n              readOnly={true}\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              placeholder=\"Point Saya\"\r\n            /> */}\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              name=\"dari_tanggal\"\r\n              component={InputDate}\r\n              type=\"text\"\r\n              selected={this.state.tgl_awal}\r\n              onChange={(date) => this.setStartDate(date)}\r\n              label=\"Dari Tanggal\"\r\n              placeholder=\"Masukan Dari Tanggal\"\r\n\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              name=\"sampai_tanggal\"\r\n              component={InputDate}\r\n              type=\"text\"\r\n              selected={this.state.tgl_akhir}\r\n              onChange={(date) => this.setLastDate(date)}\r\n              label=\"Sampai Tanggal\"\r\n              placeholder=\"Masukan Sampai Tanggal\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-6\">\r\n                <label>&nbsp;</label>\r\n                <button\r\n                  type=\"submit\"\r\n                  value=\"PDF\"\r\n                  name=\"type_btn\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                >\r\n                  {this.props.isLoading ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Lihat\r\n                    </>\r\n                  ) : (\r\n                    \"Lihat\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <label>&nbsp;</label>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={this.props.batalLihatTransaksi}\r\n                  className=\"btn btn-warning btn-block\"\r\n                >\r\n                  {this.props.isLoadingBatal ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\r\n                    </>\r\n                  ) : (\r\n                    \"Batal\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-12\">\r\n            <Tabel\r\n              keyField=\"tgl_trx\"\r\n              exportCsv={true}\r\n              data={this.props.datatransaksimember}\r\n              columns={this.props.columns}\r\n              empty={true}\r\n              textEmpty=\"Data Transaksi Member Kosong\"\r\n            />\r\n          </div>\r\n        </div>\r\n        {this.props.isLoadingBatal || this.props.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadTransaksiMember = reduxForm({\r\n  form: \"HeadTransaksiMember\",\r\n  enableReinitialize: true,\r\n})(HeadTransaksiMember);\r\nexport default connect(maptostate, null)(HeadTransaksiMember);\r\n\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport HeadTransaksiMember from \"./HeadTransaksiMember.jsx\";\r\nimport {\r\n  formatDate,\r\n  localStorageencryp,\r\n} from \"../../../components/helpers/function.jsx\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport * as moment from \"moment-timezone\";\r\nimport { getData, postData } from \"../../../config/axios.jsx\";\r\nimport { reduxForm, reset } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport Loading from 'react-fullscreen-loading';\r\n\r\nclass LihatTransaksiMember extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      isLoadingBatal: false,\r\n      point: \"POINT\",\r\n      datatransaksimember: [],\r\n      columns: [\r\n        {\r\n          dataField: \"tgl_trx\",\r\n          text: \"Tanggal Trx\",\r\n          sort: true,\r\n        },\r\n        {\r\n          dataField: \"kategori\",\r\n          text: \"Kategori\",\r\n        },\r\n        {\r\n          dataField: \"deskripsi\",\r\n          text: \"Deskripsi\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return <span>{parseFloat(cell).toFixed(3)}</span>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"jumlah_rp\",\r\n          text: \"Jumlah Rp\",\r\n          formatter: (cell) => {\r\n            return <span>{parseFloat(cell).toLocaleString(\"kr-KO\")}</span>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"poin_awal\",\r\n          text: \"Poin Awal\",\r\n          formatter: (value, row) => {\r\n            return value || 0;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"poin\",\r\n          text: \"Poin\",\r\n          formatter: (value, row) => {\r\n            return value || 0;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"poin_akhir\",\r\n          text: \"Poin Akhir\",\r\n          formatter: (value, row) => {\r\n            return value || 0;\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.getKodeMember = this.getKodeMember.bind(this);\r\n  }\r\n  batalLihatTransaksi() {\r\n    this.setState({\r\n      isLoadingBatal: true,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({\r\n        isLoadingBatal: false,\r\n        datatransaksimember: []\r\n      });\r\n      this.props.dispatch(reset(\"HeadTransaksiMember\"));\r\n    }, 1000);\r\n  }\r\n  getKodeMember(e) {\r\n    clearTimeout(this.delay)\r\n    this.delay = setTimeout(() => {\r\n      if(e.kode_member === undefined){\r\n        return false;\r\n      }\r\n      this.setState({\r\n        isLoading: true\r\n      })\r\n      getData(\"member/get/by-kode-member/\" + e.kode_member).then((res) => {\r\n        // console.log(res.data)\r\n        this.setState({\r\n          isLoading: false\r\n        });\r\n        res.data.forEach((item, index) => {\r\n          document.getElementById('lihat_transaksi_nama_member').value = item.nama_customer\r\n          document.getElementById('lihat_transaksi_alamat').value = item.alamat_customer\r\n          document.getElementById('lihat_transaksi_no_hp').value = item.no_hp\r\n          // this.props.change(\"point\", item.point);\r\n          this.setState({\r\n            datatransaksimember: [],\r\n            point: item.point || 0,\r\n            isLoading: false\r\n          });\r\n        });\r\n        // console.log(res.data);\r\n      }).catch((err)=> {\r\n        ToastNotification(\"info\", \"Data member tidak ada\")\r\n        this.setState({\r\n          datatransaksimember: [],\r\n          isLoading: false\r\n        });\r\n      })\r\n    }, 1500);\r\n  }\r\n  handleSubmit(data) {\r\n    //   console.log(data);\r\n    let data_post = {\r\n      kode_member: data.kode_member,\r\n      tgl_awal: formatDate(\r\n        moment(new Date(data.dari_tanggal)).format(\"YYYY-MM-DD\")\r\n      ),\r\n      tgl_akhir: formatDate(\r\n        moment(new Date(data.sampai_tanggal)).format(\"YYYY-MM-DD\")\r\n      ),\r\n    };\r\n\r\n    postData(\"trxmember/get/by-tanggal\", data_post)\r\n      .then((res) => {\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n          this.setState({\r\n            isLoading: false,\r\n            export: false,\r\n          });\r\n        } else {\r\n          ToastNotification(\"success\", \"Laporan Transaksi Member Tersedia\");\r\n          localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\r\n          this.setState({\r\n            export: true,\r\n            isLoading: false,\r\n            datatransaksimember: res.data,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n        this.setState({\r\n          isLoading: false,\r\n          export: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Member</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Lihat Transaksi Member</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Lihat Transaksi Member </h1>\r\n        <Panel>\r\n          <PanelHeader>Lihat Transaksi Member</PanelHeader>\r\n          <br />\r\n          {/* Lihat Transaksi Member */}\r\n          <div className=\"container\">\r\n            <HeadTransaksiMember\r\n              onChange={(e)=>this.getKodeMember(e)}\r\n              batalLihatTransaksi={() => this.batalLihatTransaksi()}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n              columns={this.state.columns}\r\n              point={this.state.point}\r\n              isLoadingBatal={this.state.isLoadingBatal}\r\n              datatransaksimember={this.state.datatransaksimember}\r\n            />\r\n            <br />\r\n          </div>\r\n          <br />\r\n          {/* End Tambah Lihat Transaksi Member  */}\r\n        </Panel>\r\n        {this.state.isLoadingBatal || this.state.isLoading ? (\r\n        <Loading \r\n        loading\r\n        background=\"rgba(0, 0, 0, 0.35)\"\r\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\r\n      ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLihatTransaksiMember = reduxForm({\r\n  form: \"LihatTransaksiMember\",\r\n  enableReinitialize: true,\r\n  // validate: ValidasiDataUsers,\r\n})(LihatTransaksiMember);\r\nexport default connect( null)(LihatTransaksiMember);"],"sourceRoot":""}