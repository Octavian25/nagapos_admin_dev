(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{1325:function(a,t,e){"use strict";e.r(t);var n=e(19),i=e(20),o=e(33),c=e(22),s=e(21),r=e(0),d=e.n(r),h=e(28),l=e(123),m=e(104),u=e.n(m),p=e(79),b=e.n(p),f=e(163),E=e.n(f),k=e(9),j=e(58),v=e(27),O=e.n(v),g=e(36),S=e(13),D=e(64),M=e(11),N=e(311),H=e(312),_=e(78),y=e(762),x=e(210),w=e.n(x),C=function(a){Object(c.a)(e,a);var t=Object(s.a)(e);function e(){var a;Object(n.a)(this,e);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(a=t.call.apply(t,[this].concat(o))).state={aktif:!1},a}return Object(i.a)(e,[{key:"componentDidMount",value:function(){var a=this;setTimeout(function(){a.props.isEdit,document.getElementById("nama_hadiah").focus()},100)}},{key:"render",value:function(){var a=this;return d.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},d.a.createElement(N.a,{id:"kode_hadiah",tabIndex:"1",name:"kode_hadiah",component:_.b,type:"hidden"}),d.a.createElement(N.a,{id:"nama_hadiah",tabIndex:"2",name:"nama_hadiah",component:_.e,type:"text",label:" Nama Hadiah",placeholder:"Masukan  Nama Hadiah"}),d.a.createElement(N.a,{tabIndex:"3",name:"poin",component:_.e,type:"number",label:"Poin",placeholder:"Masukan Poin"}),d.a.createElement(N.a,{tabIndex:"4",name:"stock",component:_.e,type:"number",label:" Stock",placeholder:"Masukan Stock",onBlur:function(){return a.setState({aktif:!0})}}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 text-right"},d.a.createElement("button",{className:"btn btn-white",onClick:function(){return a.props.dispatch(Object(k.lc)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",d.a.createElement("button",{tabIndex:"5",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?d.a.createElement(w.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),e}(r.Component);C=Object(H.a)({form:"ModalHadiah",enableReinitialize:!0,validate:y.a})(C);var B=Object(j.b)(function(a){if(null!==a.datamaster.ShowModalDataHadiah)return{initialValues:{nama_hadiah:a.datamaster.ShowModalDataHadiah.nama_hadiah,poin:a.datamaster.ShowModalDataHadiah.poin,stock:a.datamaster.ShowModalDataHadiah.stock,kode_hadiah:a.datamaster.ShowModalDataHadiah.kode_hadiah}}},null)(C),L=e(213),P=p.Search.SearchBar,T=p.CSVExport.ExportCSVButton,I=function(a,t,e){O.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Nama Hadiah "+a+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(a){a.isConfirmed&&Object(S.b)("hadiah/delete/by-kode-hadiah/",{kode_hadiah:t}).then(function(){Object(g.d)("Data Berhasil Di Hapus").then(function(){return e(Object(k.Mb)())})}).catch(function(a){Object(g.e)("error",a.response.data)})})},F=function(a){Object(c.a)(e,a);var t=Object(s.a)(e);function e(a){var i;return Object(n.a)(this,e),(i=t.call(this,a)).state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"nama_hadiah",text:"Nama Hadiah",sort:!0},{dataField:"poin",text:"Poin"},{dataField:"stock",text:"Stock"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,t){var e={kode_hadiah:t.kode_hadiah,nama_hadiah:t.nama_hadiah,stock:t.stock,poin:t.poin};return d.a.createElement("div",{className:"row text-center"},d.a.createElement("div",{className:"col-12"},d.a.createElement("button",{onClick:function(){return i.formEditDataHadiah(e)},className:"btn btn-primary mr-3"},d.a.createElement("i",{className:"fa fa-edit"})),d.a.createElement("button",{onClick:function(){return I(t.nama_hadiah,t.kode_hadiah,i.props.dispatch)},className:"btn btn-danger"},d.a.createElement("i",{className:"fa fa-trash"}))))}}]},i.handleSubmit=i.handleSubmit.bind(Object(o.a)(i)),i}return Object(i.a)(e,[{key:"formEditDataHadiah",value:function(a){this.props.dispatch(Object(k.nc)()),this.props.dispatch(Object(k.ob)(a)),this.setState({isEdit:!0})}},{key:"ShowModalDataHadiah",value:function(){this.props.dispatch(Object(k.nc)()),this.props.dispatch(Object(k.ob)(!1)),this.setState({isEdit:!1})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(k.Mb)())}},{key:"handleSubmit",value:function(a){var t=this;this.setState({isLoading:!0});var e={kode_hadiah:a.kode_hadiah,nama_hadiah:a.nama_hadiah,poin:a.poin,stock:a.stock},n={nama_hadiah:a.nama_hadiah,poin:a.poin,stock:a.stock};this.state.isEdit?Object(S.p)("hadiah/edit/by-kode-hadiah",e).then(function(){t.props.dispatch(Object(k.lc)())}).then(function(){Object(g.e)("success","Data Berhasil Diedit")}).then(function(){t.props.dispatch(Object(k.Mb)())}).then(function(){t.setState({isLoading:!1})}).then(function(){t.props.dispatch(Object(D.d)("ModalHadiah"))}).catch(function(a){Object(g.e)("info","Terjadi Kesalahan Saat Mengirim Data"),t.setState({isLoading:!1})}):Object(S.j)("hadiah/add",n).then(function(){t.props.dispatch(Object(k.lc)())}).then(function(){Object(g.e)("success","Data Berhasil Simpan")}).then(function(){t.props.dispatch(Object(k.Mb)())}).then(function(){t.props.dispatch(Object(D.d)("ModalHadiah"))}).then(function(){t.setState({isLoading:!1})}).catch(function(e){return Object(M.a)(e,"sales/reactive/by-kode-sales/",a.kode_sales,n,t.props.dispatch,Object(k.Mb)(),Object(k.lc)(),"ModalHadiah").then(function(){t.setState({isLoading:!1})})})}},{key:"render",value:function(){var a=this;return d.a.createElement("div",null,d.a.createElement("ol",{className:"breadcrumb float-xl-right"},d.a.createElement("li",{className:"breadcrumb-item"},d.a.createElement(h.b,{to:"#"},"Data Master")),d.a.createElement("li",{className:"breadcrumb-item active"},"Master Data Hadiah")),d.a.createElement("h1",{className:"page-header"},"Master Data Hadiah "),d.a.createElement(l.a,null,d.a.createElement(l.c,null,"Master Data Hadiah"),d.a.createElement("br",null),d.a.createElement("div",{className:"container"},d.a.createElement(b.a,{keyField:"kondisi",data:this.props.datahadiah||[],columns:this.state.columns,search:!0,exportCSV:{fileName:"Export Master Data Hadiah.csv"}},function(t){return d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("button",{onClick:function(){return a.ShowModalDataHadiah()},className:"btn btn-primary"}," ",d.a.createElement("i",{className:"fa fa-plus"})," ")),d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"text-right"},d.a.createElement(P,t.searchProps))),d.a.createElement("hr",null),d.a.createElement("div",{className:"col-12"},d.a.createElement(u.a,Object.assign({pagination:E()()},t.baseProps)),d.a.createElement("br",null),d.a.createElement(T,t.csvProps,"Export CSV!!")))})),d.a.createElement("br",null),d.a.createElement(L.a,{title:this.state.isEdit?"Edit Data Data Hadiah":"Tambah Data Data Hadiah",size:"P",content:d.a.createElement(B,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:function(t){return a.handleSubmit(t)}})})))}}]),e}(d.a.Component);t.default=Object(j.b)(function(a){return{datahadiah:a.datamaster.getDataHadiah,hideModal:a.datamaster.modalDialog}},null)(F)},762:function(a,t,e){"use strict";t.a=function(a,t){var e={};return a.nama_hadiah||(e.nama_hadiah="Nama Hadiah Tidak Boleh Kosong"),a.poin||(e.poin="Poin Tidak Boleh Kosong"),e}}}]);
//# sourceMappingURL=62.2cd2122e.chunk.js.map